
<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>Handbook | TestFlows</title>
  <meta name="description" content="TestFlows handbook that provides documentation for its features and functionality">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="TestFlows">
  
  <link href="/img/favicon.ico" rel="icon">
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/bootstrap/bootstrap.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css?v=1695047289442" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/firefly.css?v=1695047289442" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/fontawesome/css/all.css?v=1.0" type="text/css">
  <link rel="stylesheet" href="/css/style.css?v=1695047289442" media="screen" type="text/css">
  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
  <![endif]-->
<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <nav id="main-nav" class="fixed-top navbar navbar-expand-md navbar-fixed-top" role="navigation">
    <a class="navbar-brand" href="/">
        <img src="/img/logo.png" alt="TestFlows">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon fas fa-2x fa-bars"></span>
    </button>
    <div class="collapse navbar-collapse nav-menu" id="navbarNav">
        <ul class="nav navbar-nav">
            
                <li class="nav-item">
                    <a class="nav-link" href="/handbook"><i class="fas fa-book pr-2"></i>Handbook</a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link" href="/blog"><i class="fas fa-blog pr-2"></i>Blog</a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link" href="/about.html"><i class="fas fa-info-circle pr-2"></i>About</a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link" href="/contact.html"><i class="fas fa-envelope-open-text pr-2"></i>Contact</a>
                </li>
            
        </ul>
    </div>
</nav>
<div class="clearfix"></div>

  <div class="container-fluid p-0">
    <div class="content">
      <div class="page container-fluid text-center p-0" style="padding-bottom: 2em !important">
    <div class="banner in-view-watcher">
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <h1>Handbook</h1>
        <h2>Your handbook for using the framework</h2>
        <i class="fa-5x pt-3 fas fa-book pt-5 pb-5"></i>
    </div>
</div>
<div class="handbook">
    <div class="container" style="padding-bottom: 2em !important;">
        <div class="post">
            <div class="post-body row">
                <nav id="sidebar" class="col-lg-3 sidebar">
                    <div id="Contents" class="sidebar-header pt-4">
                        <h3 class="d-none d-md-block">Contents</h3>
                        <h2 class="d-block d-md-none">Contents</h2>
                    </div>
                    <div>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                
                                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#What-is-it"><span class="toc-number">1.</span> <span class="toc-text">What is it?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Differentiating-Features"><span class="toc-number">2.</span> <span class="toc-text">Differentiating Features</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Using-Handbook"><span class="toc-number">3.</span> <span class="toc-text">Using Handbook</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Supported-Environment"><span class="toc-number">4.</span> <span class="toc-text">Supported Environment</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Installation"><span class="toc-number">5.</span> <span class="toc-text">Installation</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Upgrading"><span class="toc-number">5.1.</span> <span class="toc-text">Upgrading</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Hello-World"><span class="toc-number">6.</span> <span class="toc-text">Hello World</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Defining-Tests"><span class="toc-number">7.</span> <span class="toc-text">Defining Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Inline"><span class="toc-number">7.1.</span> <span class="toc-text">Inline</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Decorated"><span class="toc-number">7.2.</span> <span class="toc-text">Decorated</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Calling-Decorated-Tests"><span class="toc-number">7.3.</span> <span class="toc-text">Calling Decorated Tests</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Running-Tests"><span class="toc-number">8.</span> <span class="toc-text">Running Tests</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Writing-Tests"><span class="toc-number">9.</span> <span class="toc-text">Writing Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Flexibility-In-Writing-Tests"><span class="toc-number">9.1.</span> <span class="toc-text">Flexibility In Writing Tests</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-Test-Steps"><span class="toc-number">9.2.</span> <span class="toc-text">Using Test Steps</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Structuring-Code"><span class="toc-number">9.2.1.</span> <span class="toc-text">Structuring Code</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Self-Documenting-Test-Code"><span class="toc-number">9.2.2.</span> <span class="toc-text">Self Documenting Test Code</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Improved-Debugging-of-Test-Fails"><span class="toc-number">9.2.3.</span> <span class="toc-text">Improved Debugging of Test Fails</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Auto-Generation-Of-Test-Specifications"><span class="toc-number">9.2.4.</span> <span class="toc-text">Auto Generation Of Test Specifications</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Flow-Control"><span class="toc-number">10.</span> <span class="toc-text">Test Flow Control</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Conditional-Test-Execution"><span class="toc-number">10.1.</span> <span class="toc-text">Conditional Test Execution</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-Automatic-Flows"><span class="toc-number">10.2.</span> <span class="toc-text">Creating Automatic Flows</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Setting-Test-Results-Explicitly"><span class="toc-number">11.</span> <span class="toc-text">Setting Test Results Explicitly</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Fails-of-Specific-Types"><span class="toc-number">11.1.</span> <span class="toc-text">Fails of Specific Types</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Working-With-Requirements"><span class="toc-number">12.</span> <span class="toc-text">Working With Requirements</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Requirements-As-Code"><span class="toc-number">12.1.</span> <span class="toc-text">Requirements As Code</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Generating-Requirements-Objects"><span class="toc-number">12.2.</span> <span class="toc-text">Generating Requirements Objects</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linking-Requirements"><span class="toc-number">12.3.</span> <span class="toc-text">Linking Requirements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linking-Specifications"><span class="toc-number">12.4.</span> <span class="toc-text">Linking Specifications</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Attributes-Of-Decorated-Tests"><span class="toc-number">13.</span> <span class="toc-text">Attributes Of Decorated Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Overriding-Attributes"><span class="toc-number">13.1.</span> <span class="toc-text">Overriding Attributes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Modifying-Attributes"><span class="toc-number">13.2.</span> <span class="toc-text">Modifying Attributes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Top-Level-Test"><span class="toc-number">14.</span> <span class="toc-text">Top Level Test</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Renaming-Top-Test"><span class="toc-number">14.1.</span> <span class="toc-text">Renaming Top Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Adding-Tags-to-Top-Test"><span class="toc-number">14.2.</span> <span class="toc-text">Adding Tags to Top Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Adding-Attributes-to-Top-Test"><span class="toc-number">14.3.</span> <span class="toc-text">Adding Attributes to Top Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Custom-Top-Test-Id"><span class="toc-number">14.4.</span> <span class="toc-text">Custom Top Test Id</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Program-Tree"><span class="toc-number">15.</span> <span class="toc-text">Test Program Tree</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Logs"><span class="toc-number">16.</span> <span class="toc-text">Logs</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Saving-Log-File"><span class="toc-number">16.1.</span> <span class="toc-text">Saving Log File</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Transforming-Logs"><span class="toc-number">16.2.</span> <span class="toc-text">Transforming Logs</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#nice"><span class="toc-number">16.2.1.</span> <span class="toc-text">nice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#short"><span class="toc-number">16.2.2.</span> <span class="toc-text">short</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#slick"><span class="toc-number">16.2.3.</span> <span class="toc-text">slick</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dots"><span class="toc-number">16.2.4.</span> <span class="toc-text">dots</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#raw"><span class="toc-number">16.2.5.</span> <span class="toc-text">raw</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#compact"><span class="toc-number">16.2.6.</span> <span class="toc-text">compact</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#compress"><span class="toc-number">16.2.7.</span> <span class="toc-text">compress</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#decompress"><span class="toc-number">16.2.8.</span> <span class="toc-text">decompress</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Creating-Reports"><span class="toc-number">17.</span> <span class="toc-text">Creating Reports</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Results-Report"><span class="toc-number">17.1.</span> <span class="toc-text">Results Report</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Coverage-Report"><span class="toc-number">17.2.</span> <span class="toc-text">Coverage Report</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Metrics-Report"><span class="toc-number">17.3.</span> <span class="toc-text">Metrics Report</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Comparison-Reports"><span class="toc-number">17.4.</span> <span class="toc-text">Comparison Reports</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Compare-Results"><span class="toc-number">17.4.1.</span> <span class="toc-text">Compare Results</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Compare-Metrics"><span class="toc-number">17.4.2.</span> <span class="toc-text">Compare Metrics</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Specification-Report"><span class="toc-number">17.5.</span> <span class="toc-text">Specification Report</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Results"><span class="toc-number">18.</span> <span class="toc-text">Test Results</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#OK"><span class="toc-number">18.1.</span> <span class="toc-text">OK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Fail"><span class="toc-number">18.2.</span> <span class="toc-text">Fail</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Error"><span class="toc-number">18.3.</span> <span class="toc-text">Error</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Null"><span class="toc-number">18.4.</span> <span class="toc-text">Null</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Skip"><span class="toc-number">18.5.</span> <span class="toc-text">Skip</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XOK"><span class="toc-number">18.6.</span> <span class="toc-text">XOK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XFail"><span class="toc-number">18.7.</span> <span class="toc-text">XFail</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XError"><span class="toc-number">18.8.</span> <span class="toc-text">XError</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XNull"><span class="toc-number">18.9.</span> <span class="toc-text">XNull</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Parameters"><span class="toc-number">19.</span> <span class="toc-text">Test Parameters</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Naming-Tests"><span class="toc-number">20.</span> <span class="toc-text">Naming Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#name"><span class="toc-number">20.1.</span> <span class="toc-text">name</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Name"><span class="toc-number">20.2.</span> <span class="toc-text">Name</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Setting-Test-Flags"><span class="toc-number">21.</span> <span class="toc-text">Setting Test Flags</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#flags"><span class="toc-number">21.1.</span> <span class="toc-text">flags</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flags"><span class="toc-number">21.2.</span> <span class="toc-text">Flags</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Command-Line-Arguments"><span class="toc-number">22.</span> <span class="toc-text">Command Line Arguments</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#argparser"><span class="toc-number">22.1.</span> <span class="toc-text">argparser</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ArgumentParser"><span class="toc-number">22.2.</span> <span class="toc-text">ArgumentParser</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Filtering-Tests-By-Name"><span class="toc-number">23.</span> <span class="toc-text">Filtering Tests By Name</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%93only-option"><span class="toc-number">23.1.</span> <span class="toc-text">–only option</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%93skip-option"><span class="toc-number">23.2.</span> <span class="toc-text">–skip option</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%93only-and-%E2%80%93skip"><span class="toc-number">23.3.</span> <span class="toc-text">–only and –skip</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Filtering-Tests-In-Code"><span class="toc-number">23.4.</span> <span class="toc-text">Filtering Tests In Code</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#only-and-skip-Arguments"><span class="toc-number">23.4.1.</span> <span class="toc-text">only and skip Arguments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Onlys-and-Skips-Decorators"><span class="toc-number">23.4.2.</span> <span class="toc-text">Onlys and Skips Decorators</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Filtering-Tests-By-Tags"><span class="toc-number">24.</span> <span class="toc-text">Filtering Tests By Tags</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Tags-Filtering-type"><span class="toc-number">24.1.</span> <span class="toc-text">Tags Filtering type</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#only-tags-option"><span class="toc-number">24.2.</span> <span class="toc-text">--only-tags option</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#skip-tags-option"><span class="toc-number">24.3.</span> <span class="toc-text">--skip-tags option</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Filtering-By-Tags-In-Code"><span class="toc-number">24.4.</span> <span class="toc-text">Filtering By Tags In Code</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#only-tags-and-skip-tags-Arguments"><span class="toc-number">24.4.1.</span> <span class="toc-text">only_tags and skip_tags Arguments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OnlyTags-and-SkipTags-Decorators"><span class="toc-number">24.4.2.</span> <span class="toc-text">OnlyTags and SkipTags Decorators</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Tagging-Tests"><span class="toc-number">25.</span> <span class="toc-text">Tagging Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#tags"><span class="toc-number">25.1.</span> <span class="toc-text">tags</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tags"><span class="toc-number">25.2.</span> <span class="toc-text">Tags</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Attributes"><span class="toc-number">26.</span> <span class="toc-text">Test Attributes</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#attributes"><span class="toc-number">26.1.</span> <span class="toc-text">attributes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Attributes"><span class="toc-number">26.2.</span> <span class="toc-text">Attributes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Requirements"><span class="toc-number">27.</span> <span class="toc-text">Test Requirements</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#requirements"><span class="toc-number">27.1.</span> <span class="toc-text">requirements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Requirements"><span class="toc-number">27.2.</span> <span class="toc-text">Requirements</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Specifications"><span class="toc-number">28.</span> <span class="toc-text">Test Specifications</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#specifications"><span class="toc-number">28.1.</span> <span class="toc-text">specifications</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Specifications"><span class="toc-number">28.2.</span> <span class="toc-text">Specifications</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Examples"><span class="toc-number">29.</span> <span class="toc-text">Test Examples</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#examples"><span class="toc-number">29.1.</span> <span class="toc-text">examples</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Examples"><span class="toc-number">29.2.</span> <span class="toc-text">Examples</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-XFails"><span class="toc-number">30.</span> <span class="toc-text">Test XFails</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#xfails"><span class="toc-number">30.1.</span> <span class="toc-text">xfails</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XFails"><span class="toc-number">30.2.</span> <span class="toc-text">XFails</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-XFlags"><span class="toc-number">31.</span> <span class="toc-text">Test XFlags</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#xflags"><span class="toc-number">31.1.</span> <span class="toc-text">xflags</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XFlags"><span class="toc-number">31.2.</span> <span class="toc-text">XFlags</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-FFails"><span class="toc-number">32.</span> <span class="toc-text">Test FFails</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ffails"><span class="toc-number">32.1.</span> <span class="toc-text">ffails</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Optional-when-Condition"><span class="toc-number">32.1.1.</span> <span class="toc-text">Optional when Condition</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FFails"><span class="toc-number">32.2.</span> <span class="toc-text">FFails</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Specialized-keywords"><span class="toc-number">33.</span> <span class="toc-text">Specialized keywords</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Semi-Automated-And-Manual-Tests"><span class="toc-number">34.</span> <span class="toc-text">Semi-Automated And Manual Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Semi-Automated"><span class="toc-number">34.1.</span> <span class="toc-text">Semi-Automated</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Manual"><span class="toc-number">34.2.</span> <span class="toc-text">Manual</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Manual-With-Automated-Steps"><span class="toc-number">34.3.</span> <span class="toc-text">Manual With Automated Steps</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Definition-Classes"><span class="toc-number">35.</span> <span class="toc-text">Test Definition Classes</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Module"><span class="toc-number">35.1.</span> <span class="toc-text">Module</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Suite"><span class="toc-number">35.2.</span> <span class="toc-text">Suite</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Feature"><span class="toc-number">35.3.</span> <span class="toc-text">Feature</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Test"><span class="toc-number">35.4.</span> <span class="toc-text">Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scenario"><span class="toc-number">35.5.</span> <span class="toc-text">Scenario</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Check"><span class="toc-number">35.6.</span> <span class="toc-text">Check</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Critical-Major-Minor"><span class="toc-number">35.7.</span> <span class="toc-text">Critical, Major, Minor</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Example"><span class="toc-number">35.8.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Outline"><span class="toc-number">35.9.</span> <span class="toc-text">Outline</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Setting-Parameters"><span class="toc-number">35.9.1.</span> <span class="toc-text">Setting Parameters</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#For-an-Example"><span class="toc-number">35.9.1.1.</span> <span class="toc-text">For an Example</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#For-All-Examples"><span class="toc-number">35.9.1.2.</span> <span class="toc-text">For All Examples</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Iteration"><span class="toc-number">35.10.</span> <span class="toc-text">Iteration</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RetryIteration"><span class="toc-number">35.11.</span> <span class="toc-text">RetryIteration</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step"><span class="toc-number">35.12.</span> <span class="toc-text">Step</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Given"><span class="toc-number">35.13.</span> <span class="toc-text">Given</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Background"><span class="toc-number">35.14.</span> <span class="toc-text">Background</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#When"><span class="toc-number">35.15.</span> <span class="toc-text">When</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#And"><span class="toc-number">35.16.</span> <span class="toc-text">And</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#By"><span class="toc-number">35.17.</span> <span class="toc-text">By</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Then"><span class="toc-number">35.18.</span> <span class="toc-text">Then</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#But"><span class="toc-number">35.19.</span> <span class="toc-text">But</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Finally"><span class="toc-number">35.20.</span> <span class="toc-text">Finally</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Concepts"><span class="toc-number">36.</span> <span class="toc-text">Concepts</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Everything-is-a-Test"><span class="toc-number">36.1.</span> <span class="toc-text">Everything is a Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Definitions"><span class="toc-number">36.2.</span> <span class="toc-text">Definitions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Test-is"><span class="toc-number">36.2.1.</span> <span class="toc-text">Test is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Flow-is"><span class="toc-number">36.2.2.</span> <span class="toc-text">Flow is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tree-is"><span class="toc-number">36.2.3.</span> <span class="toc-text">Tree is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step-is"><span class="toc-number">36.2.4.</span> <span class="toc-text">Step is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Case-is"><span class="toc-number">36.2.5.</span> <span class="toc-text">Case is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Suite-is"><span class="toc-number">36.2.6.</span> <span class="toc-text">Suite is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Module-is"><span class="toc-number">36.2.7.</span> <span class="toc-text">Module is</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Types"><span class="toc-number">37.</span> <span class="toc-text">Types</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Sub-Types"><span class="toc-number">38.</span> <span class="toc-text">Sub-Types</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Sub-Types-Mapping"><span class="toc-number">39.</span> <span class="toc-text">Sub-Types Mapping</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Pausing-Tests"><span class="toc-number">40.</span> <span class="toc-text">Pausing Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Pausing-Using-Command-Line"><span class="toc-number">40.1.</span> <span class="toc-text">Pausing Using Command Line</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pausing-In-Code"><span class="toc-number">40.2.</span> <span class="toc-text">Pausing In Code</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-pause"><span class="toc-number">40.2.1.</span> <span class="toc-text">Using pause()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Using-Contexts"><span class="toc-number">41.</span> <span class="toc-text">Using Contexts</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-in-Operator"><span class="toc-number">41.1.</span> <span class="toc-text">Using in Operator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-hasattr"><span class="toc-number">41.2.</span> <span class="toc-text">Using hasattr()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-getattr"><span class="toc-number">41.3.</span> <span class="toc-text">Using getattr()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-getsattr"><span class="toc-number">41.4.</span> <span class="toc-text">Using getsattr()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Arbitrary-Variable-Names"><span class="toc-number">41.5.</span> <span class="toc-text">Arbitrary Variable Names</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Setups-And-Teardowns"><span class="toc-number">42.</span> <span class="toc-text">Setups And Teardowns</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Common-Setup-And-Teardown"><span class="toc-number">42.1.</span> <span class="toc-text">Common Setup And Teardown</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Handling-Resources"><span class="toc-number">42.2.</span> <span class="toc-text">Handling Resources</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Multiple-Setups-and-Teardowns"><span class="toc-number">42.3.</span> <span class="toc-text">Multiple Setups and Teardowns</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Given-With-yield"><span class="toc-number">42.4.</span> <span class="toc-text">Given With yield</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Yielding-Resources"><span class="toc-number">42.4.1.</span> <span class="toc-text">Yielding Resources</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cleanup-Functions"><span class="toc-number">42.5.</span> <span class="toc-text">Cleanup Functions</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Returning-Values"><span class="toc-number">43.</span> <span class="toc-text">Returning Values</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-value"><span class="toc-number">43.1.</span> <span class="toc-text">Using value()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-return"><span class="toc-number">43.2.</span> <span class="toc-text">Using return</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Loading-Tests"><span class="toc-number">44.</span> <span class="toc-text">Loading Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-load"><span class="toc-number">44.1.</span> <span class="toc-text">Using load()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-loads"><span class="toc-number">44.2.</span> <span class="toc-text">Using loads()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-ordered"><span class="toc-number">44.3.</span> <span class="toc-text">Using ordered()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Loading-Modules"><span class="toc-number">45.</span> <span class="toc-text">Loading Modules</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-current-module"><span class="toc-number">45.1.</span> <span class="toc-text">Using current_module()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-load-module"><span class="toc-number">45.2.</span> <span class="toc-text">Using load_module()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Async-Tests"><span class="toc-number">46.</span> <span class="toc-text">Async Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Inline-1"><span class="toc-number">46.1.</span> <span class="toc-text">Inline</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Decorated-1"><span class="toc-number">46.2.</span> <span class="toc-text">Decorated</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Parallel-Tests"><span class="toc-number">47.</span> <span class="toc-text">Parallel Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Running"><span class="toc-number">47.1.</span> <span class="toc-text">Running</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-join"><span class="toc-number">47.2.</span> <span class="toc-text">Using join()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Parallel-Executors"><span class="toc-number">48.</span> <span class="toc-text">Parallel Executors</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Thread-Pool"><span class="toc-number">48.1.</span> <span class="toc-text">Thread Pool</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Async-Pool"><span class="toc-number">48.2.</span> <span class="toc-text">Async Pool</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Crossing-Out-Results"><span class="toc-number">49.</span> <span class="toc-text">Crossing Out Results</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Setting-or-Clearing-Flags"><span class="toc-number">50.</span> <span class="toc-text">Setting or Clearing Flags</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Forcing-Results"><span class="toc-number">51.</span> <span class="toc-text">Forcing Results</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Forced-Result-Decorators"><span class="toc-number">51.1.</span> <span class="toc-text">Forced Result Decorators</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Skipped"><span class="toc-number">51.1.1.</span> <span class="toc-text">Skipped</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Failed"><span class="toc-number">51.1.2.</span> <span class="toc-text">Failed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XFailed"><span class="toc-number">51.1.3.</span> <span class="toc-text">XFailed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XErrored"><span class="toc-number">51.1.4.</span> <span class="toc-text">XErrored</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Okayed"><span class="toc-number">51.1.5.</span> <span class="toc-text">Okayed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XOkayed"><span class="toc-number">51.1.6.</span> <span class="toc-text">XOkayed</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Repeating-Tests"><span class="toc-number">52.</span> <span class="toc-text">Repeating Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Until-Condition"><span class="toc-number">52.1.</span> <span class="toc-text">Until Condition</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pass"><span class="toc-number">52.1.1.</span> <span class="toc-text">pass</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fail"><span class="toc-number">52.1.2.</span> <span class="toc-text">fail</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#complete"><span class="toc-number">52.1.3.</span> <span class="toc-text">complete</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Repeats"><span class="toc-number">52.2.</span> <span class="toc-text">Repeats</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Repeat"><span class="toc-number">52.3.</span> <span class="toc-text">Repeat</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Repeating-Code-or-Function-Calls"><span class="toc-number">53.</span> <span class="toc-text">Repeating Code or Function Calls</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-repeats"><span class="toc-number">53.1.</span> <span class="toc-text">Using repeats()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-repeat"><span class="toc-number">53.2.</span> <span class="toc-text">Using repeat()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Retrying-Tests"><span class="toc-number">54.</span> <span class="toc-text">Retrying Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Retries"><span class="toc-number">54.1.</span> <span class="toc-text">Retries</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Retry"><span class="toc-number">54.2.</span> <span class="toc-text">Retry</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Retrying-Code-or-Function-Calls"><span class="toc-number">55.</span> <span class="toc-text">Retrying Code or Function Calls</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-retries"><span class="toc-number">55.1.</span> <span class="toc-text">Using retries()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-retry"><span class="toc-number">55.2.</span> <span class="toc-text">Using retry()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Using-YML-Config-Files"><span class="toc-number">56.</span> <span class="toc-text">Using YML Config Files</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Test-Run-Arguments"><span class="toc-number">56.1.</span> <span class="toc-text">Test Run Arguments</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Custom-Arguments"><span class="toc-number">56.2.</span> <span class="toc-text">Custom Arguments</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Applying-Multiple-YML-Files"><span class="toc-number">56.3.</span> <span class="toc-text">Applying Multiple YML Files</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Adding-Messages"><span class="toc-number">57.</span> <span class="toc-text">Adding Messages</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-note"><span class="toc-number">57.1.</span> <span class="toc-text">Using note()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-debug"><span class="toc-number">57.2.</span> <span class="toc-text">Using debug()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-trace"><span class="toc-number">57.3.</span> <span class="toc-text">Using trace()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-message"><span class="toc-number">57.4.</span> <span class="toc-text">Using message()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-exception"><span class="toc-number">57.5.</span> <span class="toc-text">Using exception()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Adding-Metrics"><span class="toc-number">58.</span> <span class="toc-text">Adding Metrics</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Reading-Input"><span class="toc-number">59.</span> <span class="toc-text">Reading Input</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Program-Options"><span class="toc-number">60.</span> <span class="toc-text">Test Program Options</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Options"><span class="toc-number">60.1.</span> <span class="toc-text">Options</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#h-%E2%80%93help"><span class="toc-number">60.1.1.</span> <span class="toc-text">-h, –help</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#l-%E2%80%93log"><span class="toc-number">60.1.2.</span> <span class="toc-text">-l, –log</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93name"><span class="toc-number">60.1.3.</span> <span class="toc-text">–name</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93tag"><span class="toc-number">60.1.4.</span> <span class="toc-text">–tag</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93attr"><span class="toc-number">60.1.5.</span> <span class="toc-text">–attr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93debug"><span class="toc-number">60.1.6.</span> <span class="toc-text">–debug</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93output"><span class="toc-number">60.1.7.</span> <span class="toc-text">–output</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93no-colors"><span class="toc-number">60.1.8.</span> <span class="toc-text">–no-colors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93id"><span class="toc-number">60.1.9.</span> <span class="toc-text">–id</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93show-skipped"><span class="toc-number">60.1.10.</span> <span class="toc-text">–show-skipped</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93show-retries"><span class="toc-number">60.1.11.</span> <span class="toc-text">–show-retries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93test-to-end"><span class="toc-number">60.1.12.</span> <span class="toc-text">–test-to-end</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93first-fail"><span class="toc-number">60.1.13.</span> <span class="toc-text">–first-fail</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Filtering"><span class="toc-number">60.1.14.</span> <span class="toc-text">Filtering</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#pattern"><span class="toc-number">60.1.14.1.</span> <span class="toc-text">pattern</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93only"><span class="toc-number">60.1.14.2.</span> <span class="toc-text">–only</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93skip"><span class="toc-number">60.1.14.3.</span> <span class="toc-text">–skip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93start"><span class="toc-number">60.1.14.4.</span> <span class="toc-text">–start</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93only-tags"><span class="toc-number">60.1.14.5.</span> <span class="toc-text">–only-tags</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93skip-tags"><span class="toc-number">60.1.14.6.</span> <span class="toc-text">–skip-tags</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93end"><span class="toc-number">60.1.14.7.</span> <span class="toc-text">–end</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93pause-before"><span class="toc-number">60.1.14.8.</span> <span class="toc-text">–pause-before</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93pause-after"><span class="toc-number">60.1.14.9.</span> <span class="toc-text">–pause-after</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93pause-on-pass"><span class="toc-number">60.1.14.10.</span> <span class="toc-text">–pause-on-pass</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93pause-on-fail"><span class="toc-number">60.1.14.11.</span> <span class="toc-text">–pause-on-fail</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93repeat"><span class="toc-number">60.1.14.12.</span> <span class="toc-text">–repeat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93retry"><span class="toc-number">60.1.14.13.</span> <span class="toc-text">–retry</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Flags"><span class="toc-number">61.</span> <span class="toc-text">Test Flags</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#TE"><span class="toc-number">61.1.</span> <span class="toc-text">TE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UT"><span class="toc-number">61.2.</span> <span class="toc-text">UT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SKIP"><span class="toc-number">61.3.</span> <span class="toc-text">SKIP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EOK"><span class="toc-number">61.4.</span> <span class="toc-text">EOK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EFAIL"><span class="toc-number">61.5.</span> <span class="toc-text">EFAIL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EERROR"><span class="toc-number">61.6.</span> <span class="toc-text">EERROR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ESKIP"><span class="toc-number">61.7.</span> <span class="toc-text">ESKIP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XOK-1"><span class="toc-number">61.8.</span> <span class="toc-text">XOK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XFAIL"><span class="toc-number">61.9.</span> <span class="toc-text">XFAIL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XERROR"><span class="toc-number">61.10.</span> <span class="toc-text">XERROR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XNULL"><span class="toc-number">61.11.</span> <span class="toc-text">XNULL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FAIL-NOT-COUNTED"><span class="toc-number">61.12.</span> <span class="toc-text">FAIL_NOT_COUNTED</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ERROR-NOT-COUNTED"><span class="toc-number">61.13.</span> <span class="toc-text">ERROR_NOT_COUNTED</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NULL-NOT-COUNTED"><span class="toc-number">61.14.</span> <span class="toc-text">NULL_NOT_COUNTED</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE-BEFORE"><span class="toc-number">61.15.</span> <span class="toc-text">PAUSE_BEFORE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE"><span class="toc-number">61.16.</span> <span class="toc-text">PAUSE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE-AFTER"><span class="toc-number">61.17.</span> <span class="toc-text">PAUSE_AFTER</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE-ON-PASS"><span class="toc-number">61.18.</span> <span class="toc-text">PAUSE_ON_PASS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE-ON-FAIL"><span class="toc-number">61.19.</span> <span class="toc-text">PAUSE_ON_FAIL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#REPORT"><span class="toc-number">61.20.</span> <span class="toc-text">REPORT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOCUMENT"><span class="toc-number">61.21.</span> <span class="toc-text">DOCUMENT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MANDATORY"><span class="toc-number">61.22.</span> <span class="toc-text">MANDATORY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ASYNC"><span class="toc-number">61.23.</span> <span class="toc-text">ASYNC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PARALLEL"><span class="toc-number">61.24.</span> <span class="toc-text">PARALLEL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MANUAL"><span class="toc-number">61.25.</span> <span class="toc-text">MANUAL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AUTO"><span class="toc-number">61.26.</span> <span class="toc-text">AUTO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LAST-RETRY"><span class="toc-number">61.27.</span> <span class="toc-text">LAST_RETRY</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Controlling-Output"><span class="toc-number">62.</span> <span class="toc-text">Controlling Output</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#nice-Output"><span class="toc-number">62.1.</span> <span class="toc-text">nice Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#brisk-Output"><span class="toc-number">62.2.</span> <span class="toc-text">brisk Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#short-Output"><span class="toc-number">62.3.</span> <span class="toc-text">short Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#classic-Output"><span class="toc-number">62.4.</span> <span class="toc-text">classic Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#progress-Output"><span class="toc-number">62.5.</span> <span class="toc-text">progress Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fails-Output"><span class="toc-number">62.6.</span> <span class="toc-text">fails Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#new-fails-Output"><span class="toc-number">62.7.</span> <span class="toc-text">new-fails Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#slick-Output"><span class="toc-number">62.8.</span> <span class="toc-text">slick Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#quiet-Output"><span class="toc-number">62.9.</span> <span class="toc-text">quiet Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#manual-Output"><span class="toc-number">62.10.</span> <span class="toc-text">manual Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#raw-Output"><span class="toc-number">62.11.</span> <span class="toc-text">raw Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Summary-Reports"><span class="toc-number">62.12.</span> <span class="toc-text">Summary Reports</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Passing"><span class="toc-number">62.12.1.</span> <span class="toc-text">Passing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Failing"><span class="toc-number">62.12.2.</span> <span class="toc-text">Failing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Known"><span class="toc-number">62.12.3.</span> <span class="toc-text">Known</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Unstable"><span class="toc-number">62.12.4.</span> <span class="toc-text">Unstable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Coverage"><span class="toc-number">62.12.5.</span> <span class="toc-text">Coverage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Totals"><span class="toc-number">62.12.6.</span> <span class="toc-text">Totals</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Version"><span class="toc-number">62.12.7.</span> <span class="toc-text">Version</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Turning-Off-Color-Highlighting"><span class="toc-number">63.</span> <span class="toc-text">Turning Off Color Highlighting</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-no-colors-in-Code"><span class="toc-number">63.1.</span> <span class="toc-text">Use --no-colors in Code</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Forcing-To-Abort-On-First-Fail"><span class="toc-number">64.</span> <span class="toc-text">Forcing To Abort On First Fail</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Forcing-To-Continue-On-Fail"><span class="toc-number">65.</span> <span class="toc-text">Forcing To Continue On Fail</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Enabling-Debug-Mode"><span class="toc-number">66.</span> <span class="toc-text">Enabling Debug Mode</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-debug-in-Code"><span class="toc-number">66.1.</span> <span class="toc-text">Use --debug in Code</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Getting-Test-Time"><span class="toc-number">67.</span> <span class="toc-text">Getting Test Time</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-current-time"><span class="toc-number">67.1.</span> <span class="toc-text">Using current_time()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Show-Test-Data"><span class="toc-number">68.</span> <span class="toc-text">Show Test Data</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Show-Metrics"><span class="toc-number">68.1.</span> <span class="toc-text">Show Metrics</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Using-Secrets"><span class="toc-number">69.</span> <span class="toc-text">Using Secrets</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Secrets-in-Argument-Parser"><span class="toc-number">69.1.</span> <span class="toc-text">Secrets in Argument Parser</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Testing-Documentation"><span class="toc-number">70.</span> <span class="toc-text">Testing Documentation</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Installing-testflows-texts"><span class="toc-number">70.1.</span> <span class="toc-text">Installing testflows.texts</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Writing-Auto-Verified-Docs"><span class="toc-number">70.2.</span> <span class="toc-text">Writing Auto Verified Docs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tutorial"><span class="toc-number">70.3.</span> <span class="toc-text">Tutorial</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Passing-Arguments"><span class="toc-number">70.4.</span> <span class="toc-text">Passing Arguments</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Controlling-Output-Format"><span class="toc-number">70.5.</span> <span class="toc-text">Controlling Output Format</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Debugging-Errors"><span class="toc-number">70.6.</span> <span class="toc-text">Debugging Errors</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Unescaped-Curly-Brackets"><span class="toc-number">70.6.1.</span> <span class="toc-text">Unescaped Curly Brackets</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Syntax-Errors"><span class="toc-number">70.6.2.</span> <span class="toc-text">Syntax Errors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Triple-Quotes"><span class="toc-number">70.6.3.</span> <span class="toc-text">Triple Quotes</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-tfs-document-run"><span class="toc-number">70.7.</span> <span class="toc-text">Using tfs document run</span></a></li></ol></li></ol>
                                
                            
                        
                    </div>
                </nav>
                <div class="col-lg-9">
                    <h1 id="What-is-it"><a href="#What-is-it" class="headerlink" title="What is it?"></a>What is it?</h1><p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> is an open-source software testing framework that can be used for functional,
integration, acceptance and unit testing across various teams. It is designed to provide
complete control of how tests are written and executed by allowing to write tests and
define test <a href="#Flow-is">flow</a> explicitly as <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a> code. It uses <a href="#Everything-is-a-Test">everything is a test</a> approach
with the focus on giving test authors flexibility in writing and running their tests.
It’s designed to meet the needs of small QA groups at software startup companies
while providing the tools to meet the formalities of the large enterprise QA groups
producing professional test process documentation that includes detailed test and
software requirements specifications as well as requirements coverage, official test
and metrics reports. Designed for large scale test analytics processing using
<a target="_blank" rel="noopener" href="https://clickhouse.tech/">ClickHouse</a> and <a target="_blank" rel="noopener" href="https://grafana.com/">Grafana</a> and built on top of a messaging protocol to allow
writing advanced parallel tests that require test-to-test communication
and could be executed in a hive mode on multi-node clusters.</p>
<h1 id="Differentiating-Features"><a href="#Differentiating-Features" class="headerlink" title="Differentiating Features"></a>Differentiating Features</h1><p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> has the following differentiating features that makes
it stand out from a plenty of other open and closed source test frameworks.</p>
<p><strong>Use what you need design</strong></p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> has many advanced features but it allows you to use only
the pieces that you need. For example, if you don’t want to use requirements
you don’t have to or if you don’t want to break your tests into steps or
using behavior driven step keywords that is perfectly fine.
At the heart, <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> is just a collection of Python modules so you are always
in control and you are not forced to use anything that you don’t need.</p>
<p><strong>Supports requirements oriented quality assurance process</strong></p>
<p>An enterprise quality assurance process must always revolve around <em><strong>requirements</strong></em>.
However, requirements are most often ignored in software development groups even at
large companies. <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> is designed to break that trend
and allows to write and work with requirements just like you work with code.
However, if you are not ready to use requirements then you don’t have to.</p>
<p>Whether you realize it or not the only true purpose of writing any test is
<em>to verify one or more requirements</em> and it does not really matter if you have
clearly identified these requirements or not. <em>Tests verify requirements</em> and
each requirement must be verified by either fully automated, semi-automated or
manual test. If you don’t have any tests to verify some requirement
then you can’t be sure that requirement is met or that the next version
of your software does not break it.</p>
<p>With <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong>, you don’t have to wait for your company’s culture to change in relation
to handling and managing requirements. You are able
to write and manage requirements yourself, just like code. Requirements are simply
written in a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> document, where each requirement has a unique identifier and version.
These documents are the source of the requirements that you can convert to Python requirement objects,
which you can easily link with your tests. To match the complexities of real world requirement verification,
<strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> allows one-to-one, one-to-many, many-to-one, or many-to-many test-to-requirement
relationships.</p>
<p><strong>Allows to write test programs and not just tests</strong></p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> allows you to write Python <em>test programs</em> and not just tests. A <em>test program</em>
can execute any number of tests. This provides the unrivalled flexibility to meet the needs of any project.
Tests are not decoupled from test flow where the flow defines a precise order of
how tests are executed. However, you can write many kinds of test runners
using the framework if you need them. For example, you can write <em>test programs</em>
that read test cases from databases, API endpoints, or file systems and trigger
your test cases based on any condition. By writing a <em>test program</em> you are in total control
of how you want to structure and approach the testing of a given project.</p>
<p>Through its flexibility, <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> helps to avoid test tool fragmentation
where each project in a company eventually starts to use their own test framework
and nobody knows how to run tests written by other groups and reporting accross
groups become inconsistent and difficult to follow.</p>
<p><strong>Supports writing self-documenting tests with clearly defined test procedures</strong></p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> provides tools for test authors to break tests into test <a href="#Step">Step</a>s and
use behavior driven step keywords such as <a href="#Given">Given</a>, <a href="#When">When</a>, <a href="#Then">Then</a> and others to make
tests and test procedures pleasantly readable. Breaking tests into steps brings an advantage
of test code becoming self-documenting, it provides an easy way to auto-generate
formal documentation such as a test specification without doing any extra work,
produces detailed test logs and test failure debugging.</p>
<p>Test steps can also be made reusable, allowing test authors to create reusable
steps modules that greatly simplify writing new test scenarios. Just
like you write regular programs by using function calls you can
modularize tests by using reusable test steps. Using reusable steps
produces clean test code and greatly improves readability and maintainability
of tests.</p>
<p><strong>Allows to write asynchronous tests</strong></p>
<p>Writing asynchronous tests is as easy as writing regular tests.
<strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> even allows you to run asynchronous and synchronous test code
in the same test program.</p>
<p><strong>Allows to auto-generate test specifications</strong></p>
<p>If your test process or your manager requires you to produce formal test
specifications that must describe the procedure of each test, then you can easily
auto-generate these documents using <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong>.</p>
<p><strong>Supports writing semi-automated and manual tests</strong></p>
<p>Testing real-world applications is usually not done only with fully automated test scenarios.
Most often, verification requires a mix of automated, semi-automated, and manual tests.</p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> allows you to unify your testing and provides uniform test reporting
no matter what type of tests you need for your project by natively supporting the
authoring of automated, semi-automated, and manual tests.</p>
<p><strong>Supports authoring parallel tests and executing tests in parallel</strong></p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> natively supports authoring parallel tests and
executing them in parallel, with fine-grain control over what and where runs in parallel.
Asynchronous tests are also supported and allow for thousands of concurrent
tests to be run at the same time. Mixing parallel and asynchronous tests is also supported.</p>
<p><strong>Uses everything-is-a-test approach</strong></p>
<p>It uses everything-is-a-test approach that allows unified treatment
of any code that is executed during testing. There is no second class test code.
If test fails during setup, teardown or execution of one of its actions,
the failure is handled identically. This avoids mixing analysis of why the test failed
with test execution and results in a clean and uniform approach to testing.</p>
<p><strong>Uses a message-based protocol</strong></p>
<p>It is built on top of a messaging protocol. This brings
many benefits, including the ability to transform test output and logs into a variety of
different formats as well as enable advanced parallel testing.</p>
<p><strong>Supports test log storage and test data analytics using ClickHouse</strong></p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> test logs were designed to be easily stored in <a target="_blank" rel="noopener" href="https://clickhouse.tech/">ClickHouse</a>.
Given that testing produces huge amounts of data, this integration
brings test data analytics right to your fingertips.</p>
<p><strong>Test data visualization using Grafana</strong></p>
<p>Standard <a target="_blank" rel="noopener" href="https://grafana.com/">Grafana</a> dashboards are available to visualize your test data
stored in <a target="_blank" rel="noopener" href="https://clickhouse.tech/">ClickHouse</a>. Additional dashboards can be easily created in <a target="_blank" rel="noopener" href="https://grafana.com/">Grafana</a>
to highlight test results that are the most important for your project.</p>
<p><strong>Avoids unnecessary abstraction layers</strong></p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> tries to avoid unnecessary abstraction layers, such
as when test runners are decoupled from tests or the usage of behavior driven
(BDD) keywords is always tied to Gherkin specifications. These abstractions,
while providing some benefit, in most cases lead to more problems than
solutions when applied to real-world projects.</p>
<h1 id="Using-Handbook"><a href="#Using-Handbook" class="headerlink" title="Using Handbook"></a>Using Handbook</h1><p>This handbook is a one-page document that you can search using standard
browser search (<code>Ctrl-F</code>).</p>
<p>For ease of navigation, you can always click any heading to go back to the table of contents.</p>
<blockquote>
<p><strong>&#9995;</strong> Try clicking <code>Using Handbook</code> heading and you will see that the page
will scroll up and the corresponding entry in the table of contents
will be highlighted in red. This handy feature will make sure you are never lost!</p>
</blockquote>
<p>There is also <span><a class="fas fa-chevron-up" style="color: orange" href="#Contents"></a><span>
icon on the bottom right of the page to allow you to quickly scroll to the top.</p>
<p>Also, feel free to click on any internal or external references, as you can
use your browser’s &#8678; back button to return to where you were.</p>
<blockquote>
<p> <strong>&#9995;</strong> Try clicking <a href="#Using-Handbook">Using Handbook</a> link and then
browser’s use &#8678; back button to return to the same scroll position in the handbook.</p>
</blockquote>
<p>If you find any errors or would like to add documentation for something that is
still not documented, then submit a pull request
with your changes to <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-WebSite/blob/master/source/handbook/index.md">handbook source file</a>.</p>
<h1 id="Supported-Environment"><a href="#Supported-Environment" class="headerlink" title="Supported Environment"></a>Supported Environment</h1><ul>
<li><a target="_blank" rel="noopener" href="https://ubuntu.com/">Ubuntu</a> 20.04</li>
<li><a target="_blank" rel="noopener" href="https://www.python.org/">Python 3</a> &gt;&#x3D; 3.8</li>
</ul>
<blockquote>
<p><strong>&#9995;</strong> Known to run on other systems such as MacOS.</p>
</blockquote>
<h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><p>You can install the framework using <a target="_blank" rel="noopener" href="https://github.com/pypa/pip">pip3</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install testflows</span><br></pre></td></tr></table></figure>

<p>or from sources</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/testflows/TestFlows.git</span><br><span class="line"><span class="built_in">cd</span> TestFlows</span><br><span class="line">./build ; ./install</span><br></pre></td></tr></table></figure>

<h2 id="Upgrading"><a href="#Upgrading" class="headerlink" title="Upgrading"></a>Upgrading</h2><p>If you already have <span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> installed, you can upgrade it to the latest version
using the <code>--upgrade</code> option when executing <code>pip3 install</code> command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install --upgrade testflows</span><br></pre></td></tr></table></figure>

<h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><p>You can write an inline test scenario in just three lines.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Scenario</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>and simply run it using <code>python3</code> command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ./test.py</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Jun 28,2020 14:47:02   ⟥  Scenario Hello World!</span><br><span class="line">                 2ms   ⟥⟤ OK Hello World!, /Hello World!</span><br><span class="line"></span><br><span class="line">Passing</span><br><span class="line"></span><br><span class="line">✔ [ OK ] /Hello World!</span><br><span class="line"></span><br><span class="line">1 scenario (1 ok)</span><br></pre></td></tr></table></figure>

<h1 id="Defining-Tests"><a href="#Defining-Tests" class="headerlink" title="Defining Tests"></a>Defining Tests</h1><p>You can define tests inline using the classical <a href="#Step">Step</a>, <a href="#Test">Test</a>, <a href="#Suite">Suite</a>, and <a href="#Module">Module</a>
test definition classes or using specialized keyword classes as
<a href="#Scenario">Scenario</a>, <a href="#Feature">Feature</a>, <a href="#Module">Module</a> and the steps
such as <a href="#Background">Background</a>, <a href="#Given">Given</a>, <a href="#When">When</a>, <a href="#Then">Then</a>, <a href="#But">But</a>, <a href="#By">By</a>, <a href="#And">And</a>, and <a href="#Finally">Finally</a>.</p>
<p>In addition, you can also define sub-tests using <a href="#Check">Check</a> test definition class
or its flavours <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a> or <a href="#Critical-Major-Minor">Minor</a>.</p>
<blockquote>
<p><strong>&#9995;</strong> You are encouraged to use the specialized keyword classes to greatly improve the readability of
your tests and test procedures.</p>
</blockquote>
<p>Given the variety of test definition classes above, fundamentally,
there are only four core <a href="#Types">Types</a> of tests in <span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> and three special types,
giving us seven <a href="#Types">Types</a> in total. The core <a href="#Types">Types</a> are</p>
<ul>
<li><a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a></li>
<li><a href="#Test">Test</a></li>
<li><a href="#Outline">Outline</a> (special)</li>
<li><a href="#Iteration">Iteration</a> (special)</li>
<li><a href="#RetryIteration">RetryIteration</a> (special)</li>
<li><a href="#Step">Step</a></li>
</ul>
<p>and all other types are just a naming variation of one of the above with the following mapping</p>
<ul>
<li><a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a><ul>
<li><a href="#Feature">Feature</a></li>
</ul>
</li>
<li><a href="#Test">Test</a><ul>
<li><a href="#Scenario">Scenario</a></li>
<li><a href="#Check">Check</a></li>
<li><a href="#Critical-Major-Minor">Critical</a></li>
<li><a href="#Critical-Major-Minor">Major</a></li>
<li><a href="#Critical-Major-Minor">Minor</a></li>
<li><a href="#Example">Example</a></li>
</ul>
</li>
<li><a href="#Outline">Outline</a> (special)</li>
<li><a href="#Iteration">Iteration</a> (special)</li>
<li><a href="#RetryIteration">RetryIteration</a> (special)</li>
<li><a href="#Step">Step</a><ul>
<li><a href="#Given">Given</a></li>
<li><a href="#When">When</a></li>
<li><a href="#Then">Then</a></li>
<li><a href="#But">But</a></li>
<li><a href="#By">By</a></li>
<li><a href="#Finally">Finally</a></li>
<li><a href="#Background">Background</a></li>
<li><a href="#And">And</a> (special)</li>
</ul>
</li>
</ul>
<p>see <a href="#Types">Types</a> for more information.</p>
<h2 id="Inline"><a href="#Inline" class="headerlink" title="Inline"></a>Inline</h2><p>Inline tests can be defined anywhere in your test program by using <a href="#Defining-Tests">Test Definition Class</a>es above.
Because all test definition classes are <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/datamodel.html#context-managers">context manager</a>s, therefore they must be used
using the <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement">with</a> statement or <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#async-with">async with</a> for asynchronous tests that leverage <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a>‘s <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/asyncio.html">asyncio</a> module.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;My test module&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Feature(<span class="string">&quot;My test feature&quot;</span>):</span><br><span class="line">        <span class="keyword">with</span> Scenario(<span class="string">&quot;My test scenario&quot;</span>):</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                <span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">                    note(<span class="string">&quot;note message&quot;</span>)</span><br><span class="line">                <span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">                    debug(<span class="string">&quot;debug message&quot;</span>)</span><br><span class="line">                <span class="keyword">with</span> And(<span class="string">&quot;I do something else&quot;</span>):</span><br><span class="line">                    trace(<span class="string">&quot;trace message&quot;</span>)</span><br><span class="line">                <span class="keyword">with</span> Then(<span class="string">&quot;I check that something is True&quot;</span>):</span><br><span class="line">                    <span class="keyword">assert</span> something <span class="keyword">is</span> <span class="literal">True</span></span><br><span class="line">                <span class="keyword">with</span> But(<span class="string">&quot;I check that something else is False&quot;</span>):</span><br><span class="line">                    <span class="keyword">assert</span> something_else <span class="keyword">is</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">finally</span>:</span><br><span class="line">                <span class="keyword">with</span> Finally(<span class="string">&quot;I clean up&quot;</span>):</span><br><span class="line">                    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Decorated"><a href="#Decorated" class="headerlink" title="Decorated"></a>Decorated</h2><p>For re-usability, you can also define tests using the
<a href="#Step">TestStep</a>, <a href="#Background">TestBackground</a>, <a href="#Test">TestCase</a>, <a href="#Check">TestCheck</a>, <a href="#Critical-Major-Minor">TestCritical</a>, <a href="#Critical-Major-Minor">TestMajor</a>, <a href="#Critical-Major-Minor">TestMinor</a>,
<a href="#Suite">TestSuite</a>, <a href="#Feature">TestFeature</a>, <a href="#Module">TestModule</a>, and <a href="#Outline">TestOutline</a> test function decorators.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My scenario&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scenario</span>(<span class="params">self, action=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">f&quot;I do some <span class="subst">&#123;action&#125;</span>&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">&quot;I expect something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>Similarly to how <a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/classes.html#method-objects">class method</a>‘s take an instance of the object as the first argument,
test functions wrapped with test decorators take an instance of the current test as the first argument
and therefore, by convention, the first argument is always named <code>self</code>.</p>
<h2 id="Calling-Decorated-Tests"><a href="#Calling-Decorated-Tests" class="headerlink" title="Calling Decorated Tests"></a>Calling Decorated Tests</h2><blockquote>
<p><strong>&#9995;</strong>  All arguments to tests must be passed using keyword arguments.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scenario(action=<span class="string">&quot;driving&quot;</span>)</span><br><span class="line"><span class="comment"># not scenario(&quot;driving&quot;)</span></span><br></pre></td></tr></table></figure>

<p>Use a test definition class to run another test as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(test=scenario)(action=<span class="string">&quot;running&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>where the test is passed as the argument to the <code>test</code> parameter.</p>
<p>If the test does not need any arguments, use a short form by passing
the test as the value of the <code>run</code> parameter.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(run=scenario)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> Use the short form only when you don’t need to pass any arguments to the test.</p>
</blockquote>
<p>This will be equivalent to</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(test=scenario)()</span><br></pre></td></tr></table></figure>

<p>You can also call decorated tests directly as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scenario(action=<span class="string">&quot;swimming&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>Note that <code>scenario()</code> call will only create its own <a href="#Scenario">Scenario</a> if and only if it is
running within a parent that has a higher test <a href="#Types">Type</a> such as <a href="#Feature">Feature</a> or <a href="#Module">Module</a>.</p>
<p>However, if you call it within the same test <a href="#Types">Type</a>
then it will not create its own <a href="#Scenario">Scenario</a> but will run simply as a function
within the scope of the current test.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    scenario()</span><br></pre></td></tr></table></figure>

<p>will run in the scope of <code>My scenario</code> where <code>self</code> will be an instance of the</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(<span class="string">&quot;My scenario&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>but</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Feature(<span class="string">&quot;My feature&quot;</span>):</span><br><span class="line">    scenario(action=<span class="string">&quot;sliding&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>will create its own test.</p>
<h1 id="Running-Tests"><a href="#Running-Tests" class="headerlink" title="Running Tests"></a>Running Tests</h1><p>Top level tests can be run using either <code>python3</code> command or directly if they are made executable.
For example, with a top level test defined as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Test</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>you can run it with <code>python3</code> command as follows</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py</span><br></pre></td></tr></table></figure>

<p>or we can make the top level test executable and defined as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Test</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>and then we can make it executable with</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x test.py</span><br></pre></td></tr></table></figure>

<p>allowing us to execute it directly as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./test.py</span><br></pre></td></tr></table></figure>

<h1 id="Writing-Tests"><a href="#Writing-Tests" class="headerlink" title="Writing Tests"></a>Writing Tests</h1><p>With <span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> you actually write test programs, not just tests. This means
that the <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a> source file that contains <a href="#Top-Level-Test">Top Level Test</a> can be run directly if
it is made executable and has <code>#!/usr/bin/env python3</code>
or using <code>python3</code> command.</p>
<blockquote>
&#9995; Note that <span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> only allows one top level test in your test program.
<p>See <a href="#Top-Level-Test">Top Level Test</a>.</p>
</blockquote>
<p>Writing tests is actually very easy, given that you are in full control of your test program.
You can either define inline tests anywhere in your test program
code or define them separately as test decorated functions.</p>
<p>An inline test is defined using the <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement">with</a> statement and one of the <a href="#Test-Definition-Classes">Test Definition Classes</a>.
The choice of which test definition class you should use depends only on your preference.
See <a href="#Defining-Tests">Defining Tests</a>.</p>
<p>The example from the <a href="#Hello-World">Hello World</a> shows an example of how an inline test
can be easily defined.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Scenario</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>The same test can be defined using the <a href="#Scenario">TestScenario</a> decorated function.
See <a href="#Decorated">Decorated Tests</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> TestScenario, Name</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;Hello World!&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hello_world</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># run `Hello World!` test</span></span><br><span class="line">hello_world()</span><br></pre></td></tr></table></figure>

<blockquote>
&#9995; Note that if the code inside the test does not raise any exceptions and does not
<p><a href="#Setting-Test-Results-Explicitly">explicitly set test result</a> it is considered as passing and will have <a href="#OK">OK</a> result.</p>
</blockquote>
<p>In the above example, the <code>Hello World</code> is the <a href="#Top-Level-Test">Top Level Test</a> and the only test
in the test program.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that instead of just having <code>pass</code> you could <strong>add any code you want</strong>.</p>
</blockquote>
<p>The <code>Hello World</code> test will pass if no exception is raised in the
<a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement">with</a> block otherwise it will have a <a href="#Fail">Fail</a> or <a href="#Error">Error</a> result. <a href="#Fail">Fail</a> result is set
if code raises <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/exceptions.html#AssertionError">AssertionError</a> any other exceptions will result in <a href="#Error">Error</a>.</p>
<p>Let’s add a failing <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/simple_stmts.html#the-assert-statement">assert</a> to <code>Hello World</code> test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Scenario</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">assert</span> <span class="number">1</span> == <span class="number">0</span>, <span class="string">&quot;1 != 0&quot;</span></span><br></pre></td></tr></table></figure>

<p>The result will be as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 hello_world.py</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Nov 03,2021 17:09:17   ⟥  Scenario Hello World!</span><br><span class="line">                 8ms   ⟥    Exception: Traceback (most recent call last):</span><br><span class="line">                                File <span class="string">&quot;hello_world.py&quot;</span>, line 4, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                                  assert 1 == 0, <span class="string">&quot;1 != 0&quot;</span></span><br><span class="line">                              AssertionError: 1 != 0</span><br><span class="line">                 8ms   ⟥⟤ Fail Hello World!, /Hello World!, AssertionError</span><br><span class="line">                         Traceback (most recent call last):</span><br><span class="line">                           File <span class="string">&quot;hello_world.py&quot;</span>, line 4, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                             assert 1 == 0, <span class="string">&quot;1 != 0&quot;</span></span><br><span class="line">                         AssertionError: 1 != 0</span><br></pre></td></tr></table></figure>

<p>Now, let’s raise some other exception like <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/exceptions.html#RuntimeError">RuntimeError</a> to see <a href="#Error">Error</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Scenario</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">raise</span> RuntimeError(<span class="string">&quot;boom!&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 hello_world.py</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Nov 03,2021 17:14:10   ⟥  Scenario Hello World!</span><br><span class="line">                 5ms   ⟥    Exception: Traceback (most recent call last):</span><br><span class="line">                                File <span class="string">&quot;hello_world.py&quot;</span>, line 4, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                                  raise RuntimeError(<span class="string">&quot;boom!&quot;</span>)</span><br><span class="line">                              RuntimeError: boom!</span><br><span class="line">                 5ms   ⟥⟤ Error Hello World!, /Hello World!, RuntimeError</span><br><span class="line">                         Traceback (most recent call last):</span><br><span class="line">                           File <span class="string">&quot;hello_world.py&quot;</span>, line 4, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                             raise RuntimeError(<span class="string">&quot;boom!&quot;</span>)</span><br><span class="line">                         RuntimeError: boom!</span><br></pre></td></tr></table></figure>

<h2 id="Flexibility-In-Writing-Tests"><a href="#Flexibility-In-Writing-Tests" class="headerlink" title="Flexibility In Writing Tests"></a>Flexibility In Writing Tests</h2><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> provides unmatched flexibility in how you can author your tests, and
<p>this is what makes it adaptable to your testing projects at hand.</p>
<p>Let’s look at an example of how to test the functionality
of a simple <code>add(a, b)</code> function.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that this is just a toy example used for demonstration purposes only.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Feature(<span class="string">&quot;check `add(a, b)` function&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check 2 + 2 == 4&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> add(<span class="number">2</span>,<span class="number">2</span>) == <span class="number">4</span></span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check -5 + 100 == -95&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> add(-<span class="number">5</span>,<span class="number">100</span>) == <span class="number">95</span></span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check -5 + -5 == -10&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> add(-<span class="number">5</span>,-<span class="number">5</span>) == -<span class="number">10</span></span><br></pre></td></tr></table></figure>

<p>Now you can put the code above anywhere you want. Let’s move it into a function.
For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>():</span><br><span class="line">    <span class="keyword">with</span> Feature(<span class="string">&quot;check `add(a, b)` function&quot;</span>):</span><br><span class="line">        <span class="keyword">with</span> Scenario(<span class="string">&quot;check 2 + 2 == 4&quot;</span>):</span><br><span class="line">            <span class="keyword">assert</span> add(<span class="number">2</span>,<span class="number">2</span>) == <span class="number">4</span></span><br><span class="line">        <span class="keyword">with</span> Scenario(<span class="string">&quot;check -5 + 100 == -95&quot;</span>):</span><br><span class="line">            <span class="keyword">assert</span> add(-<span class="number">5</span>,<span class="number">100</span>) == <span class="number">95</span></span><br><span class="line">        <span class="keyword">with</span> Scenario(<span class="string">&quot;check -5 + -5 == -10&quot;</span>):</span><br><span class="line">            <span class="keyword">assert</span> add(-<span class="number">5</span>,-<span class="number">5</span>) == -<span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main(): <span class="comment"># short for `if __name__ == &quot;__main__&quot;:` which is ugly</span></span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>We can also decide that we don’t want to use <a href="#Feature">Feature</a> and <a href="#Scenario">Scenario</a> in this case
but you’d like to use <a href="#Scenario">Scenario</a> that has multiple <a href="#Example">Example</a>s with test steps
such as <a href="#When">When</a> and <a href="#Then">Then</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>():</span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check `add(a, b)` function&quot;</span>):</span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">&quot;check 2 + 2 == 4&quot;</span>):</span><br><span class="line">            <span class="keyword">with</span> When(<span class="string">&quot;I call add function with 2,2&quot;</span>):</span><br><span class="line">                r = add(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">with</span> Then(<span class="string">&quot;I expect the result to be 4&quot;</span>):</span><br><span class="line">                <span class="comment"># error() will generate detailed error message if assertion fails</span></span><br><span class="line">                <span class="keyword">assert</span> r == <span class="number">4</span>, error()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">&quot;check -5 + 100 == -95&quot;</span>):</span><br><span class="line">            <span class="keyword">with</span> When(<span class="string">&quot;I call add function with -5,100&quot;</span>):</span><br><span class="line">                r = add(-<span class="number">5</span>, <span class="number">100</span>)</span><br><span class="line">            <span class="keyword">with</span> Then(<span class="string">&quot;I expect the result to be -95&quot;</span>):</span><br><span class="line">                <span class="keyword">assert</span> r == <span class="number">95</span>, error()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">&quot;check -5 + -5 == -10&quot;</span>):</span><br><span class="line">            <span class="keyword">with</span> When(<span class="string">&quot;I call add function with -5,-5&quot;</span>):</span><br><span class="line">                r = add(-<span class="number">5</span>, -<span class="number">5</span>)</span><br><span class="line">            <span class="keyword">with</span> Then(<span class="string">&quot;I expect the result to be -10&quot;</span>):</span><br><span class="line">                <span class="keyword">assert</span> r == -<span class="number">10</span>, error()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>The test code seems to be redundant, so we could move the <a href="#When">When</a> and <a href="#Then">Then</a> steps into
a function <code>check_add(a, b, expected)</code> that can be called with different parameters.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check_add</span>(<span class="params">a, b, expected</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check that function add(a, b)</span></span><br><span class="line"><span class="string">    returns expected result for given `a` and `b` values.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">f&quot;I call add function with <span class="subst">&#123;a&#125;</span>,<span class="subst">&#123;b&#125;</span>&quot;</span>):</span><br><span class="line">        r = add(a, b)</span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">f&quot;I expect the result to be <span class="subst">&#123;expected&#125;</span>&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> r == expected, error()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>():</span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check `add(a, b)` function&quot;</span>):</span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">&quot;check 2 + 2 == 4&quot;</span>):</span><br><span class="line">            check_add(a=<span class="number">2</span>, b=<span class="number">2</span>, expected=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">&quot;check -5 + 100 == 95&quot;</span>):</span><br><span class="line">            check_add(a=-<span class="number">5</span>, b=<span class="number">100</span>, expected=<span class="number">95</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">&quot;check -5 + -5 == -10&quot;</span>):</span><br><span class="line">            check_add(a=-<span class="number">5</span>, b =-<span class="number">5</span>, expected=-<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>We could actually define all examples we want to check up-front and generate
<a href="#Example">Example</a> steps on the fly depending on how many examples we want to check.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check_add</span>(<span class="params">a, b, expected</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check that function add(a, b)</span></span><br><span class="line"><span class="string">    returns expected result for given `a` and `b` values.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">f&quot;I call add function with <span class="subst">&#123;a&#125;</span>,<span class="subst">&#123;b&#125;</span>&quot;</span>):</span><br><span class="line">        r = add(a, b)</span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">f&quot;I expect the result to be <span class="subst">&#123;expected&#125;</span>&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> r == expected, error()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>():</span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check `add(a, b)` function&quot;</span>):</span><br><span class="line">        examples = [</span><br><span class="line">            (<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>),</span><br><span class="line">            (-<span class="number">5</span>, <span class="number">100</span>, <span class="number">95</span>),</span><br><span class="line">            (-<span class="number">5</span>, -<span class="number">5</span>, -<span class="number">10</span>)</span><br><span class="line">        ]</span><br><span class="line">        <span class="keyword">for</span> example <span class="keyword">in</span> examples:</span><br><span class="line">            a, b, expected = example</span><br><span class="line">            <span class="keyword">with</span> Example(<span class="string">f&quot;check <span class="subst">&#123;a&#125;</span> + <span class="subst">&#123;b&#125;</span> == <span class="subst">&#123;expected&#125;</span>&quot;</span>):</span><br><span class="line">                check_add(a=a, b=b, expected=expected)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>We could modify the above code and use <a href="#examples">Examples</a> instead of our custom list of tuples.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check_add</span>(<span class="params">a, b, expected</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check that function add(a, b)</span></span><br><span class="line"><span class="string">    returns expected result for given `a` and `b` values.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">f&quot;I call add function with <span class="subst">&#123;a&#125;</span>,<span class="subst">&#123;b&#125;</span>&quot;</span>):</span><br><span class="line">        r = add(a, b)</span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">f&quot;I expect the result to be <span class="subst">&#123;expected&#125;</span>&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> r == expected, error()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>():</span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check `add(a, b)` function&quot;</span>, examples=Examples(<span class="string">&quot;a b expected&quot;</span>, [</span><br><span class="line">            (<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>),</span><br><span class="line">            (-<span class="number">5</span>, <span class="number">100</span>, <span class="number">95</span>),</span><br><span class="line">            (-<span class="number">5</span>, -<span class="number">5</span>, -<span class="number">10</span>)</span><br><span class="line">        ])) <span class="keyword">as</span> scenario:</span><br><span class="line">        <span class="keyword">for</span> example <span class="keyword">in</span> scenario.examples:</span><br><span class="line">            <span class="keyword">with</span> Example(<span class="string">f&quot;check <span class="subst">&#123;example.a&#125;</span> + <span class="subst">&#123;example.b&#125;</span> == <span class="subst">&#123;example.expected&#125;</span>&quot;</span>):</span><br><span class="line">                <span class="comment"># `vars(example)` converts example named tuple to a dictionary</span></span><br><span class="line">                check_add(**<span class="built_in">vars</span>(example))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>Another option is to switch to using decorated tests. See <a href="#Defining-Tests">Decorated Tests</a>.</p>
<p>Let’s move inline <a href="#Scenario">Scenario</a> into a decorated <a href="#Scenario">TestScenario</a> function with <a href="#examples">Examples</a>
and create <a href="#Example">Example</a>s for each example that we have.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;a b expected&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params">-<span class="number">5</span>, <span class="number">100</span>, <span class="number">95</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params">-<span class="number">5</span>, -<span class="number">5</span>, -<span class="number">10</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check_add</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check that function add(a, b)</span></span><br><span class="line"><span class="string">    returns expected result for given `a` and `b` values.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> example <span class="keyword">in</span> self.examples:</span><br><span class="line">        a, b, expected = example</span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">f&quot;check <span class="subst">&#123;a&#125;</span> + <span class="subst">&#123;b&#125;</span> == <span class="subst">&#123;expected&#125;</span>&quot;</span>):</span><br><span class="line">            <span class="keyword">with</span> When(<span class="string">f&quot;I call add function with <span class="subst">&#123;a&#125;</span>,<span class="subst">&#123;b&#125;</span>&quot;</span>):</span><br><span class="line">                r = add(a, b)</span><br><span class="line">            <span class="keyword">with</span> Then(<span class="string">f&quot;I expect the result to be <span class="subst">&#123;expected&#125;</span>&quot;</span>):</span><br><span class="line">                <span class="keyword">assert</span> r == expected, error()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>():</span><br><span class="line">    Scenario(<span class="string">&quot;check `add(a, b)` function&quot;</span>, run=check_add)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>We could also get rid of the explicit <a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/controlflow.html#for-statements">for loop</a> over examples by
using <a href="#Outline">Outline</a> with <a href="#examples">Examples</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestOutline(<span class="params">Scenario</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;a b expected&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params">-<span class="number">5</span>, <span class="number">100</span>, <span class="number">95</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params">-<span class="number">5</span>, -<span class="number">5</span>, -<span class="number">10</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check_add</span>(<span class="params">self, a, b, expected</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check that function add(a, b)</span></span><br><span class="line"><span class="string">    returns expected result for given `a` and `b` values.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">f&quot;I call add function with <span class="subst">&#123;a&#125;</span>,<span class="subst">&#123;b&#125;</span>&quot;</span>):</span><br><span class="line">        r = add(a, b)</span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">f&quot;I expect the result to be <span class="subst">&#123;expected&#125;</span>&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> r == expected, error()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>():</span><br><span class="line">    Scenario(<span class="string">&quot;check `add(a, b)` function&quot;</span>, run=check_add)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>The <a href="#Outline">Outline</a> with <a href="#examples">Examples</a> turns out to be the exact fit for the problem.
However, there are many cases where you would want to have choice, and <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong>
provides the flexibility you need to author your tests in the way that fits best for you.</p>
<h2 id="Using-Test-Steps"><a href="#Using-Test-Steps" class="headerlink" title="Using Test Steps"></a>Using Test Steps</h2><p>When writing tests, it is best practice to break the test procedure
into individual test <a href="#Step">Step</a>s. While using <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> you can write
tests without explicitly defining <a href="#Step">Step</a>s it is not recommended.</p>
<p>Breaking tests into steps has the following advantages:</p>
<ul>
<li>improves code structure</li>
<li>results in a self documented test code</li>
<li>significantly improves test failure debugging</li>
<li>enables auto generation of test specifications</li>
</ul>
<h3 id="Structuring-Code"><a href="#Structuring-Code" class="headerlink" title="Structuring Code"></a>Structuring Code</h3><p>Using test <a href="#Step">Step</a>s helps structure test code. Any test inherently implements a
test procedure, and the procedure is usually described by a set of steps.
Therefore, it is natural to structure tests in the form of a series of individual
<a href="#Step">Step</a>s. In <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> test <a href="#Step">Step</a>s are defined and used just like <a href="#Test">Test</a>s
or <a href="#Scenario">Scenario</a>s as <a href="#Step">Step</a>s also have results just like <a href="#Test">Test</a>s.</p>
<p>Test <a href="#Step">Step</a>s can either be defined inline or using <a href="#Step">TestStep</a> function decorator,
with the combination of both being the most common.</p>
<p>For example, the following code clearly shows that by identifying steps such as setup,
action, and assertion, the structure of test code is improved.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I setup something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">&quot;I expect something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    my_scenario()</span><br></pre></td></tr></table></figure>

<p>In many cases, steps themselves can be reused between many different tests. In this
case, defining steps as decorated functions helps to make them reusable.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep(<span class="params">Given</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">setup_something</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep(<span class="params">When</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">do_something</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep(<span class="params">Then</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">expect_something</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>The <a href="#Step">Step</a>s above just like <a href="#Test">Test</a>s can be called directly (not recommended) as follows:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    setup_something()</span><br><span class="line">    do_something()</span><br><span class="line">    expect_something()</span><br></pre></td></tr></table></figure>

<p>The best practice, however, is to wrap calls to decorated test steps with inline
<a href="#Step">Step</a>s which allows you to clearly give each <a href="#Step">Step</a> a proper <code>name</code> in the context
of the specific test scenario as well as allows to specify a detailed <code>description</code>
when necessary.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I setup something&quot;</span>,</span><br><span class="line">               description=<span class="string">&quot;&quot;&quot;detailed description if needed&quot;&quot;&quot;</span>):</span><br><span class="line">        setup_something()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>,</span><br><span class="line">              description=<span class="string">&quot;&quot;&quot;detailed description if needed&quot;&quot;&quot;</span>):</span><br><span class="line">        do_something()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">&quot;I expect something&quot;</span>,</span><br><span class="line">              description=<span class="string">&quot;&quot;&quot;detailed description if needed&quot;&quot;&quot;</span>):</span><br><span class="line">        expect_something()</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> Note that because decorated test steps are being called within a <a href="#Step">Step</a> these
calls are similar to just calling a function, which is another advantage of wrapping calls
with inline steps. This means that return value from the
decorated test step can be received just like from a function:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">When</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">do_something</span>(<span class="params">self</span>):</span><br><span class="line">   <span class="keyword">return</span> <span class="string">&quot;hello there&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">   <span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>,</span><br><span class="line">             description=<span class="string">&quot;&quot;&quot;detailed description if needed&quot;&quot;&quot;</span>):</span><br><span class="line">       value = do_something() <span class="comment"># value will be set to &quot;hello there&quot;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="Self-Documenting-Test-Code"><a href="#Self-Documenting-Test-Code" class="headerlink" title="Self Documenting Test Code"></a>Self Documenting Test Code</h3><p>Using test <a href="#Step">Step</a>s results in self documented test code. Take another look at this example.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I setup something&quot;</span>,</span><br><span class="line">               description=<span class="string">&quot;&quot;&quot;detailed description if needed&quot;&quot;&quot;</span>):</span><br><span class="line">        setup_something()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>,</span><br><span class="line">              description=<span class="string">&quot;&quot;&quot;detailed description if needed&quot;&quot;&quot;</span>):</span><br><span class="line">        do_something()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">&quot;I expect something&quot;</span>,</span><br><span class="line">              description=<span class="string">&quot;&quot;&quot;detailed description if needed&quot;&quot;&quot;</span>):</span><br><span class="line">        expect_something()</span><br></pre></td></tr></table></figure>

<p>It is clear to see that explicitly defined <a href="#Given">Given</a>, <a href="#When">When</a>, and <a href="#Then">Then</a> steps
when given proper <code>name</code>s and <code>description</code>s make reading test code
a pleasant experience as the test author has a way to clearly communicate
the test procedure to the reader.</p>
<p>The result of using test <a href="#Step">Step</a>s is a clear, readable, and highly maintainable
test code. Given that each <a href="#Step">Step</a> produces corresponding messages in the test output, it forces
test maintainers to ensure <a href="#Step">Step</a> <code>name</code>s and <code>description</code>s are
maintained accurate over the lifetime of the test.</p>
<h3 id="Improved-Debugging-of-Test-Fails"><a href="#Improved-Debugging-of-Test-Fails" class="headerlink" title="Improved Debugging of Test Fails"></a>Improved Debugging of Test Fails</h3><p>Using test <a href="#Step">Step</a>s helps with debugging test fails as you can clearly see
at which <a href="#Step">Step</a> of the test procedure the test has failed. Combined with the
clearly identified test procedure it becomes much easier to debug any test fails.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep(<span class="params">Given</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">setup_something</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep(<span class="params">When</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">do_something</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep(<span class="params">Then</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">expect_something</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I setup something&quot;</span>,</span><br><span class="line">               description=<span class="string">&quot;&quot;&quot;detailed description if needed&quot;&quot;&quot;</span>):</span><br><span class="line">        setup_something()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>,</span><br><span class="line">              description=<span class="string">&quot;&quot;&quot;detailed description if needed&quot;&quot;&quot;</span>):</span><br><span class="line">        do_something()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">&quot;I expect something&quot;</span>,</span><br><span class="line">              description=<span class="string">&quot;&quot;&quot;detailed description if needed&quot;&quot;&quot;</span>):</span><br><span class="line">        expect_something()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">  my_scenario()</span><br></pre></td></tr></table></figure>

<p>Running the test program above results in the following output using the default <a href="#nice-Output"><code>nice</code></a>
format.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Nov 12,2021 10:56:17   ⟥  Scenario my scenario</span><br><span class="line">Nov 12,2021 10:56:17     ⟥  Given I setup something, flags:MANDATORY</span><br><span class="line">                              detailed description <span class="keyword">if</span> needed</span><br><span class="line">               305us     ⟥⟤ OK I setup something, /my scenario/I setup something</span><br><span class="line">Nov 12,2021 10:56:17     ⟥  When I <span class="keyword">do</span> something</span><br><span class="line">                              detailed description <span class="keyword">if</span> needed</span><br><span class="line">               165us     ⟥⟤ OK I <span class="keyword">do</span> something, /my scenario/I <span class="keyword">do</span> something</span><br><span class="line">Nov 12,2021 10:56:17     ⟥  Then I expect something</span><br><span class="line">                              detailed description <span class="keyword">if</span> needed</span><br><span class="line">               225us     ⟥⟤ OK I expect something, /my scenario/I expect something</span><br><span class="line">                 7ms   ⟥⟤ OK my scenario, /my scenario</span><br></pre></td></tr></table></figure>

<p>If we introduce a fail in the <a href="#When">When</a> step, we can see that it will be easy to see at which
point in the test procedure the test is failing.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">When</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">do_something</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">assert</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">Nov 12,2021 10:58:02   ⟥  Scenario my scenario</span><br><span class="line">Nov 12,2021 10:58:02     ⟥  Given I setup something, flags:MANDATORY</span><br><span class="line">                              detailed description <span class="keyword">if</span> needed</span><br><span class="line">               328us     ⟥⟤ OK I setup something, /my scenario/I setup something</span><br><span class="line">Nov 12,2021 10:58:02     ⟥  When I <span class="keyword">do</span> something</span><br><span class="line">                              detailed description <span class="keyword">if</span> needed</span><br><span class="line">               689us     ⟥    Exception: Traceback (most recent call last):</span><br><span class="line">                                  File <span class="string">&quot;steps.py&quot;</span>, line 30, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                                    my_scenario()</span><br><span class="line">                                  File <span class="string">&quot;steps.py&quot;</span>, line 23, <span class="keyword">in</span> my_scenario</span><br><span class="line">                                    do_something()</span><br><span class="line">                                  File <span class="string">&quot;steps.py&quot;</span>, line 9, <span class="keyword">in</span> do_something</span><br><span class="line">                                    assert False</span><br><span class="line">                                AssertionError</span><br><span class="line">               824us     ⟥⟤ Fail I <span class="keyword">do</span> something, /my scenario/I <span class="keyword">do</span> something, AssertionError</span><br><span class="line">                           Traceback (most recent call last):</span><br><span class="line">                             File <span class="string">&quot;steps.py&quot;</span>, line 30, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                               my_scenario()</span><br><span class="line">                             File <span class="string">&quot;steps.py&quot;</span>, line 23, <span class="keyword">in</span> my_scenario</span><br><span class="line">                               do_something()</span><br><span class="line">                             File <span class="string">&quot;steps.py&quot;</span>, line 9, <span class="keyword">in</span> do_something</span><br><span class="line">                               assert False</span><br><span class="line">                           AssertionError</span><br><span class="line">                 7ms   ⟥⟤ Fail my scenario, /my scenario, AssertionError</span><br><span class="line">                         Traceback (most recent call last):</span><br><span class="line">                           File <span class="string">&quot;steps.py&quot;</span>, line 30, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                             my_scenario()</span><br><span class="line">                           File <span class="string">&quot;steps.py&quot;</span>, line 23, <span class="keyword">in</span> my_scenario</span><br><span class="line">                             do_something()</span><br><span class="line">                           File <span class="string">&quot;steps.py&quot;</span>, line 9, <span class="keyword">in</span> do_something</span><br><span class="line">                             assert False</span><br><span class="line">                         AssertionError</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> Note that the failing test result always <code>bubbles up</code> all the way to the
<a href="#Top-Level-Test">Top Level Test</a> and therefore it might seem that the output is redundant.
However, this allows for the failure to be examined just by looking at the result of the
<a href="#Top-Level-Test">Top Level Test</a>.</p>
</blockquote>
<h3 id="Auto-Generation-Of-Test-Specifications"><a href="#Auto-Generation-Of-Test-Specifications" class="headerlink" title="Auto Generation Of Test Specifications"></a>Auto Generation Of Test Specifications</h3><p>When tests are broken up into <a href="#Step">Step</a>s generating test specifications is very easy.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I setup something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">&quot;I expect something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    my_scenario()</span><br></pre></td></tr></table></figure>

<p>when executed with <a href="#short-Output"><code>short</code></a> output format highlights the test procedure.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Scenario my scenario</span><br><span class="line">  Given I setup something</span><br><span class="line">  OK</span><br><span class="line">  When I <span class="keyword">do</span> something</span><br><span class="line">  OK</span><br><span class="line">  Then I expect something</span><br><span class="line">  OK</span><br><span class="line">OK</span><br></pre></td></tr></table></figure>

<p>If you save the test log using <code>--log test.log</code> option, then you can also use <code>tfs show procedure</code> command to
extract the procedure of a given test within a test program run.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs show procedure <span class="string">&quot;/my scenario&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Scenario my scenario</span><br><span class="line">  Given I setup something</span><br><span class="line">  When I <span class="keyword">do</span> something</span><br><span class="line">  Then I expect something</span><br></pre></td></tr></table></figure>

<p>Full test specification for a given test program run can be obtained
using <code>tfs report specification</code> command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs report specification | tfs document convert &gt; specification.html</span><br></pre></td></tr></table></figure>

<h1 id="Test-Flow-Control"><a href="#Test-Flow-Control" class="headerlink" title="Test Flow Control"></a>Test Flow Control</h1><p>The control of the <a href="#Flow-is">Flow</a> of tests allows you to precisely
define the order of test execution. <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> allows you
to write complete test programs, and therefore the order of executed tests
is defined in your <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a> test program code explicitly.</p>
<p>For example, the following test program defines decorated tests
<code>testA</code>, <code>testB</code>, and <code>testC</code> which are executed in the <code>regression()</code> module
in the <code>testA</code> -&gt; <code>testB</code> -&gt; <code>testC</code> order.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">testA</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">testB</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">testC</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(run=testA)</span><br><span class="line">    Scenario(run=testB)</span><br><span class="line">    Scenario(run=testC)</span><br></pre></td></tr></table></figure>

<p>It is trivial to see that given that the order or test execution (<a href="#Flow-is">Flow</a>) is explicitely
defined in <code>regression()</code> we could easily change it from <code>testA</code> -&gt; <code>testB</code> -&gt; <code>testC</code> to
<code>testC</code> -&gt; <code>testA</code> -&gt; <code>testB</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(run=testC)</span><br><span class="line">    Scenario(run=testA)</span><br><span class="line">    Scenario(run=testB)</span><br></pre></td></tr></table></figure>

<h2 id="Conditional-Test-Execution"><a href="#Conditional-Test-Execution" class="headerlink" title="Conditional Test Execution"></a>Conditional Test Execution</h2><p>Conditional execution can be added to any explictely defined test <a href="#Flow-is">Flow</a> using
standard <a target="_blank" rel="noopener" href="https://docs.python.org/3.8/tutorial/controlflow.html">Python Flow Control Tools</a>
using <a target="_blank" rel="noopener" href="https://docs.python.org/3.8/tutorial/controlflow.html#if-statements">if</a>,
<a target="_blank" rel="noopener" href="https://docs.python.org/3.8/reference/compound_stmts.html#while">while</a>,
and <a target="_blank" rel="noopener" href="https://docs.python.org/3.8/tutorial/controlflow.html#for-statements">for</a> statements.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">if</span> Scenario(run=testA).result != Fail:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">            Scenario(<span class="string">f&quot;testB #<span class="subst">&#123;i&#125;</span>&quot;</span>, run=testB)</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> Scenario(run=testC).result == OK:</span><br><span class="line">                <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<p>will execute <code>testA</code> and only proceed to run other tests if its result is not <a href="#Fail">Fail</a> otherwise
only <code>testA</code> will be executed. If result of <code>testA</code> is not <a href="#Fail">Fail</a> then
we run <code>testB</code> 3 times, and <code>testC</code> gets executed indefinitely until its result is <a href="#OK">OK</a>.</p>
<h2 id="Creating-Automatic-Flows"><a href="#Creating-Automatic-Flows" class="headerlink" title="Creating Automatic Flows"></a>Creating Automatic Flows</h2><p>When precise control over test <a href="#Flow-is">Flow</a> is not necessary, you
can easily define a list of tests to be executed in any way you might see fit,
including using a simple list.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list of all tests</span></span><br><span class="line">tests = [testA, testB, testC]</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> test <span class="keyword">in</span> tests:</span><br><span class="line">        test()</span><br></pre></td></tr></table></figure>

<p>For such simple cases, you can also use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2708">loads() function</a>. See <a href="#Using-loads">Using <code>loads()</code></a>.</p>
<p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2708">loads() function</a> allows you to create a list of tests of the specified type
from either the current or some other module.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> test <span class="keyword">in</span> loads(current_module(), Scenario):</span><br><span class="line">        test()</span><br></pre></td></tr></table></figure>

<p>Here is an example of loading tests from <code>my_project/tests.py</code> module,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> test <span class="keyword">in</span> loads(<span class="string">&quot;my_project.tests&quot;</span>, Scenario):</span><br><span class="line">        test()</span><br></pre></td></tr></table></figure>

<p>The list of tests can be randomized or ordered, for example, using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2699">ordered() function</a>
or <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a>‘s <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#sorted">sorted</a> function.</p>
<blockquote>
<p><strong>&#9995;</strong> You could also write <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a> code to load your list of tests from any other source
such as a file system, database, or API endpoint, etc.</p>
</blockquote>
<h1 id="Setting-Test-Results-Explicitly"><a href="#Setting-Test-Results-Explicitly" class="headerlink" title="Setting Test Results Explicitly"></a>Setting Test Results Explicitly</h1><p>A result of any test can be set explicitly using the following result functions:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L258">fail() function</a> for <a href="#Fail">Fail</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L277">err() function</a> for <a href="#Error">Error</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L271">skip() function</a> for <a href="#Skip">Skip</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L283">null() function</a> for <a href="#Null">Null</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L252">ok() function</a> for <a href="#OK">OK</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L295">xfail() function</a> for <a href="#XFail">XFail</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L301">xerr() function</a> for <a href="#XError">XError</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L307">xnull() function</a> for <a href="#XNull">XNull</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L289">xok() function</a> for <a href="#XOK">XOK</a></li>
</ul>
<p>Here are the arguments that each result function can take. All arguments are optional.</p>
<ul>
<li><code>message</code> is used to set an optional result message</li>
<li><code>reason</code> is used to set an optional reason for the result. Usually, it is only set
for crossed out results such as <a href="#XFail">XFail</a>, <a href="#XError">XError</a>, <a href="#XNull">XNull</a> and <a href="#XOK">XOK</a> to indicate
the reason for the result being crossed out such as a link to an opened issue</li>
<li><code>test</code> argument is usually not passed, as it is set to the current test by default.
See <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/parallel/__init__.py#L94">current() function</a>.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ok(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">fail(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>, <span class="built_in">type</span>=<span class="literal">None</span>)</span><br><span class="line">skip(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">err(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">null(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">xok(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">xfail(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">xerr(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">xnull(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>These functions raise an exception that corresponds to the appropriate result class and
therefore, unless you explicitly catch the exception, the test stops
at the point at which the result function is called.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    fail(<span class="string">&quot;forcing test fail&quot;</span>)</span><br><span class="line">    <span class="comment"># this line will not be reached</span></span><br></pre></td></tr></table></figure>

<p>You can also raise the result explicitly.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">raise</span> Fail(<span class="string">&quot;forcing test fail&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Fails-of-Specific-Types"><a href="#Fails-of-Specific-Types" class="headerlink" title="Fails of Specific Types"></a>Fails of Specific Types</h2><p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> does not support adding types to the <a href="#Fail">Fail</a>s but
the <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L258">fail() function</a> takes an optional <code>type</code> argument that takes
one of the <a href="#Test-Definition-Classes">Test Definition Classes</a> which will be used to create a sub-test
with the name specified by the <code>message</code> and failed with the specified
<code>reason</code>.</p>
<p>The original use case is to provide a way to separate
fails of <a href="#Check">Check</a>s into <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a> and <a href="#Critical-Major-Minor">Minor</a> without explicitly
defining <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a>, or <a href="#Critical-Major-Minor">Minor</a> sub-tests.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Check(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    fail(<span class="string">&quot;some critical check&quot;</span>, reason=<span class="string">&quot;critical fail&quot;</span>, <span class="built_in">type</span>=Critical)</span><br></pre></td></tr></table></figure>

<p>The above code is equivalent to the following.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Check(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Critical(<span class="string">&quot;some critical check&quot;</span>):</span><br><span class="line">        fail(<span class="string">&quot;critical fail&quot;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Working-With-Requirements"><a href="#Working-With-Requirements" class="headerlink" title="Working With Requirements"></a>Working With Requirements</h1><p>Requirements must be at the core of any enterprise QA process. There exist numerous proprietary and complex
systems for handling requirements. This complexity is usually not necessary,
and <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> provides a way to work with requirements just like with code
and leverage the same development tools to enable easy linking of requirements to your tests.</p>
<p>In general, when writing requirements, you should think about how they will be tested.
Requirements can either be high level or low level. High level
requirements are usually verified by <a href="#Feature">Feature</a>s or <a href="#Module">Module</a>s and low level requirements
by individual <a href="#Test">Test</a>s or <a href="#Scenario">Scenario</a>s.</p>
<p>Writing untestable requirements is not very useful. Keep this in mind during
your software testing process.</p>
<blockquote>
<p><em>When writing requirements, you should be thinking about tests or test suites that would verify them, and
when writing tests or test suites, you should think about which requirements they will verify.</em></p>
</blockquote>
<p>The ideal requirement to test a relationship is one-to-one. Where one requirement
is verified by one test. However, in practice, the relationship can be
one-to-many, many-to-one, and many-to-many, and <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> supports
all of these cases.</p>
<p>In many cases, don’t be afraid to modify and restructure your requirements once you
start writing tests. It is natural to refactor requirements during test development
process that helps better align requirements to tests and vice versa.</p>
<blockquote>
<p><em>Writing requirements is hard, but developing enterprise software without requirements
is even harder.</em></p>
</blockquote>
<h2 id="Requirements-As-Code"><a href="#Requirements-As-Code" class="headerlink" title="Requirements As Code"></a>Requirements As Code</h2><p>Working with requirements as code is very convenient, but it does not necessarily mean
that we need to write requirements as <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a> code.</p>
<p>Requirements form documents such as SRS (Software Requirements Specification)
where, in addition to the requirements, you might find additional sections
such as introductions, diagrams, references, etc. Therefore, the most
convenient way to define requirements is inside a document.</p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> allows you to write requirements as a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>
document that serves as the source of all the requirements. The document is the source
and is stored just like code in the source control repository such as <a target="_blank" rel="noopener" href="https://git-scm.com/">Git</a>.
This allows the same process to be applied to requirements as to the code.
For example, you can use the same review process and the same tools. You also receive full
traceability of when and who defined the requirement and keep track of any changes
just like for your other source files.</p>
<p>For example, a simple requirements document in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> can be defined as follows.</p>
<blockquote>
<p>requirements.md</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># SRS001 `ls` Unix Command Utility</span></span><br><span class="line"><span class="section"># Software Requirements Specification</span></span><br><span class="line"></span><br><span class="line"><span class="section">## Introduction</span></span><br><span class="line"></span><br><span class="line">This software requirements specification covers the behavior of the standard</span><br><span class="line">Unix <span class="code">`ls`</span> utility.</span><br><span class="line"></span><br><span class="line"><span class="section">## Requirements</span></span><br><span class="line"></span><br><span class="line"><span class="section">### RQ.SRS001-CU.LS</span></span><br><span class="line">version: 1.0</span><br><span class="line"></span><br><span class="line">The [<span class="string">ls</span>](<span class="link">#ls</span>) utility SHALL list the contents of a directory.</span><br></pre></td></tr></table></figure>
</blockquote>
<p>The above document serves as the source of all the requirements and can be
used to generate corresponding <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L223">Requirement class</a> objects that can be linked with tests
using <code>tfs requirements generate</code> command. See <a href="#Generating-Requirements-Objects">Generating Requirements Objects</a>.</p>
<p>Each requirement is defined as a heading that starts with <code>RQ.</code> prefix and contains
attributes such as <code>version</code>, <code>priority</code>, <code>group</code>, <code>type</code> and <code>uid</code> defined
on the following line, which must be followed by an empty line.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">### RQ.SRS001-CU.LS</span></span><br><span class="line">version: 1.0</span><br></pre></td></tr></table></figure>

<p>Only the <code>version</code> attribute is always required, and the others are optional.
The <code>version</code> attribute allows for tracking material changes to the requirement over
lifetime of the product and makes sure the tests get updated when a requirement has been
updated to a new version.</p>
<p>Any text found before the next section is considered to be the description of the requirement.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">### RQ.SRS001-CU.LS</span></span><br><span class="line">version: 1.0</span><br><span class="line"></span><br><span class="line">This is the first paragraph of the requirement description.</span><br><span class="line"></span><br><span class="line">This is the second paragraph.</span><br></pre></td></tr></table></figure>

<p>Here is an example where multiple requirements are defined.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">### RQ.SRS001-CU.LS</span></span><br><span class="line">version: 1.0</span><br><span class="line"></span><br><span class="line">The [<span class="string">ls</span>](<span class="link">#ls</span>) utility SHALL list the contents of a directory.</span><br><span class="line"></span><br><span class="line"><span class="section">### RQ.SRS001-CU.LS.ListHiddenEntries</span></span><br><span class="line">version: 1.0</span><br><span class="line"></span><br><span class="line">The [<span class="string">ls</span>](<span class="link">#ls</span>) utility SHALL accept <span class="code">`-a, --all`</span> option that SHALL cause the output</span><br><span class="line">to list entries starting with <span class="code">`.`</span> that SHALL be considered to be hidden.</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> Except for the basic format to define the requirements described above,
you can structure and organize the document in any way that is the most appropriate for
your case.</p>
</blockquote>
<p>Each requirement must be given a unique name. The most common convention
is to start with the SRS number as a prefix, followed by a dot separated
name. The <code>.</code> separator serves to implicitly group the requirements.
It is usually best to align these groups with the corresponding document sections.</p>
<p>For example, we can create <code>Options</code> section where we would add requirements
for the supported options. Then all the requirements in this section would have
<code>RQ.SRS001-CU.LS.Options.</code> prefix.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">### Options</span></span><br><span class="line"></span><br><span class="line"><span class="section">#### RQ.SRS001-CU.LS.Options.ListHiddenEntries</span></span><br><span class="line">version: 1.0</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> Names are usually preferred over numbers to facilitate the movement of requirements between
different parts of the document.</p>
</blockquote>
<h2 id="Generating-Requirements-Objects"><a href="#Generating-Requirements-Objects" class="headerlink" title="Generating Requirements Objects"></a>Generating Requirements Objects</h2><p><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L223">Requirement class</a> objects can be auto generated from the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> requirements source files
using <code>tfs requirements generate</code> command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tfs requirements generate -h</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">usage: tfs requirements generate [-h] [input] [output]</span><br><span class="line"></span><br><span class="line">Generate requirements from an SRS document.</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  input       input file, default: stdin</span><br><span class="line">  output      output file, default: stdout</span><br></pre></td></tr></table></figure>

<p>For example, given <code>requirements.md</code> file having the following content.</p>
<blockquote>
<p>requirements.md</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># SRS001 `ls` Unix Command Utility</span></span><br><span class="line"><span class="section"># Software Requirements Specification</span></span><br><span class="line"></span><br><span class="line"><span class="section">## Introduction</span></span><br><span class="line"></span><br><span class="line">This software requirements specification covers the behavior of the standard</span><br><span class="line">Unix <span class="code">`ls`</span> utility.</span><br><span class="line"></span><br><span class="line"><span class="section">## Requirements</span></span><br><span class="line"></span><br><span class="line"><span class="section">### RQ.SRS001-CU.LS</span></span><br><span class="line">version: 1.0</span><br><span class="line"></span><br><span class="line">The [<span class="string">ls</span>](<span class="link">#ls</span>) utility SHALL list the contents of a directory.</span><br></pre></td></tr></table></figure>
</blockquote>
<p>You can generate <code>requirements.py</code> file from it using the following command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> srs.md | tfs requirements generate &gt; requirements.py</span><br></pre></td></tr></table></figure>

<p>The <code>requirements.py</code> will have the following content.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># These requirements were auto generated</span></span><br><span class="line"><span class="comment"># from software requirements specification (SRS)</span></span><br><span class="line"><span class="comment"># document by TestFlows v1.7.211105.1001849.</span></span><br><span class="line"><span class="comment"># Do not edit by hand but re-generate instead</span></span><br><span class="line"><span class="comment"># using &#x27;tfs requirements generate&#x27; command.</span></span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Specification</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Requirement</span><br><span class="line"></span><br><span class="line">Heading = Specification.Heading</span><br><span class="line"></span><br><span class="line">RQ_SRS001_CU_LS = Requirement(</span><br><span class="line">    name=<span class="string">&#x27;RQ.SRS001-CU.LS&#x27;</span>,</span><br><span class="line">    version=<span class="string">&#x27;1.0&#x27;</span>,</span><br><span class="line">    priority=<span class="literal">None</span>,</span><br><span class="line">    group=<span class="literal">None</span>,</span><br><span class="line">    <span class="built_in">type</span>=<span class="literal">None</span>,</span><br><span class="line">    uid=<span class="literal">None</span>,</span><br><span class="line">    description=(</span><br><span class="line">        <span class="string">&#x27;The [ls](#ls) utility SHALL list the contents of a directory.\n&#x27;</span></span><br><span class="line">        ),</span><br><span class="line">    link=<span class="literal">None</span>,</span><br><span class="line">    level=<span class="number">2</span>,</span><br><span class="line">    num=<span class="string">&#x27;2.1&#x27;</span>)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>For each requirement, a corresponding <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L223">Requirement class</a> object will be
defined in addition to the <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L299">Specification class</a> object that describes the
full requirements specification document.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SRS001_ls_Unix_Command_Utility = Specification(</span><br><span class="line">    name=<span class="string">&#x27;SRS001 `ls` Unix Command Utility&#x27;</span>,</span><br><span class="line">    description=<span class="literal">None</span>,</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<p>The objects defined in the <code>requirements.py</code> can now be imported into test
source files and used to link with tests.</p>
<h2 id="Linking-Requirements"><a href="#Linking-Requirements" class="headerlink" title="Linking Requirements"></a>Linking Requirements</h2><p>Once you have written your requirements in a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> document as described in <a href="#Requirements-As-Code">Requirements As Code</a>
and have generated <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L223">Requirement class</a> objects from the requirements source file using <code>tfs requirements generate</code>
command as described in <a href="#Generating-Requirements-Objects">Generating Requirements Objects</a>
you can link the requirements to any of the tests by either setting
<a href="#requirements">requirements</a> attribute of the inline test or using <a href="#Requirements">Requirements</a>
decorator for decorated tests.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> requirements <span class="keyword">import</span> RQ_SRS001_CU_LS</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, requirements=[RQ_SRS001_CU_LS(<span class="string">&quot;1.0&quot;</span>)] <span class="keyword">as</span> test:</span><br><span class="line">    note(test.requirements)</span><br></pre></td></tr></table></figure>

<p>The <code>requirements</code> argument takes a list of requirements, so you can link
any number of requirements to a single test.</p>
<p>Instead of passing a list, you can also pass <a href="#requirements">Requirements</a> object directly as follows,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> requirements <span class="keyword">import</span> RQ_SRS001_CU_LS</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, requirements=Requirements(RQ_SRS001_CU_LS(<span class="string">&quot;1.0&quot;</span>)) <span class="keyword">as</span> test:</span><br><span class="line">    note(test.requirements)</span><br></pre></td></tr></table></figure>

<p>where <a href="#requirements">Requirements</a> can be passed one or more requirements.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that when linking requirements to test you should
<strong>always</strong> call the requirement
with the version that the test is verifying. If the version does not match
the actual requirement version <code>RequirementError</code> exception will be raised.
See <a href="#Test-Requirements">Test Requirements</a>.</p>
</blockquote>
<p>For decorated tests, <a href="#requirements">Requirements</a> class can also act as a decorator.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> requirements <span class="keyword">import</span> RQ_SRS001_CU_LS</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Requirements(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">  RQ_SRS001_CU_LS(<span class="params"><span class="string">&quot;1.0&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_test</span>(<span class="params">self</span>):</span><br><span class="line">    note(self.requirements)</span><br></pre></td></tr></table></figure>

<h2 id="Linking-Specifications"><a href="#Linking-Specifications" class="headerlink" title="Linking Specifications"></a>Linking Specifications</h2><p>When generating requirements, in addition to the <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L223">Requirement class</a> objects created
for each requirement, a <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L299">Specification class</a> object is also generated that describes
the whole requirements specification document. This object can be
linked to higher level tests so that a coverage report can be easily calculated
for a specific test program run.</p>
<p>To link <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L299">Specification class</a> object to a test, either use
<a href="#specifications">specifications</a> parameter for inline tests or <a href="#specifications">Specifications</a> decorator
for decorated tests.</p>
<blockquote>
<p><strong>&#9995;</strong> Specifications are usually linked to higher level tests such as
<a href="#Feature">Feature</a>, <a href="#Suite">Suite</a>, or <a href="#Module">Module</a>.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> requirements <span class="keyword">import</span> SRS001_ls_Unix_Command_Utility</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>, specifications=[SRS001_ls_Unix_Command_Utility]) <span class="keyword">as</span> test:</span><br><span class="line">   note(test.specifications)</span><br></pre></td></tr></table></figure>

<p>One or more specifications can be linked.</p>
<p>Instead of passing a list, you can also pass <a href="#specifications">Specifications</a> object directly as follows,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> requirements <span class="keyword">import</span> SRS001_ls_Unix_Command_Utility</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>, specifications=Specifications(SRS001_ls_Unix_Command_Utility)) <span class="keyword">as</span> test:</span><br><span class="line">   note(test.specifications)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> Note that <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L299">Specification class</a> object call also be
called with a specific version, just like <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L223">Requirement class</a> objects.</p>
</blockquote>
<p>If a higher level test is defined using a decorated function, then you can use <a href="#specifications">Specifications</a>
decorator.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> requirements <span class="keyword">import</span> SRS001_ls_Unix_Command_Utility</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="meta">@Specifications(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">  SRS001_ls_Unix_Command_Utility</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self</span>):</span><br><span class="line">    note(self.specifications)</span><br></pre></td></tr></table></figure>
<h1 id="Attributes-Of-Decorated-Tests"><a href="#Attributes-Of-Decorated-Tests" class="headerlink" title="Attributes Of Decorated Tests"></a>Attributes Of Decorated Tests</h1><p>You can set attributes for decorated tests using different decorator classes
such as <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/flags.py#L101">Flags class</a> to set test <code>flags</code>, <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L993">Name class</a> to set test <code>name</code>, <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L999">Examples class</a>
to set <code>examples</code> etc.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;check add two numbers&quot;</span></span>)</span></span><br><span class="line"><span class="meta">@Flags(<span class="params">TE</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;x y result&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">  (<span class="params"><span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test</span>(<span class="params">self, x, y, result</span>):</span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">sum</span>([x,y]) == result</span><br></pre></td></tr></table></figure>

<p>When creating a test based on a decorated test, the attributes of the test get preserved unless
you override them explicitly.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># execute `test()` using a Scenario that will have</span></span><br><span class="line"><span class="comment"># the same flags, name, and examples attributes</span></span><br><span class="line">Scenario(test=test)(x=<span class="number">1</span>, y=<span class="number">1</span>, result=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>However, if you call a decorated test within a test of the same type,
then the attributes of the parent test are not changed in any way as
the test is executed just like a function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="comment"># calling decorated test here will have no effect on</span></span><br><span class="line">    <span class="comment"># attributes of `my test` scenario</span></span><br><span class="line">    test(x=<span class="number">1</span>, y=<span class="number">1</span>, result=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Overriding-Attributes"><a href="#Overriding-Attributes" class="headerlink" title="Overriding Attributes"></a>Overriding Attributes</h2><p>You can override any attributes of a decorated test by explicitly creating a test
that uses it as a base using the <code>test</code> parameter, or the <code>run</code> parameter if there is no need to pass
any arguments to the test, and define any new values of the attributes as needed.</p>
<p>For example, we can override the <code>name</code> and <code>flags</code> attributes of a decorated
<code>test()</code> while not modifying <code>examples</code> or any other attributes as follows:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(name=<span class="string">&quot;my new name&quot;</span>, flags=PAUSE_BEFORE, test=test)(x=<span class="number">1</span>, y=<span class="number">1</span>, result=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> The <code>test</code> parameter sets the decorated test to be the base
for the explicitly defined <code>Scenario</code>.</p>
</blockquote>
<p>If we also want to set custom <code>examples</code>, you could do it as follows:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Scenario(name=<span class="string">&quot;my new name&quot;</span>, flags=PAUSE_BEFORE,</span><br><span class="line">         examples=Examples(<span class="string">&quot;x y result&quot;</span>, [</span><br><span class="line">            (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>), (<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line">         ], test=test)(x=<span class="number">1</span>, y=<span class="number">1</span>, result=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>Similarly, any other attribute of the scenario can be set. If the same attribute
is set already for the decorated test then the value is overwritten.</p>
<h2 id="Modifying-Attributes"><a href="#Modifying-Attributes" class="headerlink" title="Modifying Attributes"></a>Modifying Attributes</h2><p>If you don’t want to completely override the attributes of the decorated test
then you need to explicitly modify them by accessing the original values of the decorated
test.</p>
<p>Any set attributes of the decorated test can be accessed as the attribute of the
decorated test object. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;check add two numbers&quot;</span></span>)</span></span><br><span class="line"><span class="meta">@Flags(<span class="params">TE</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;x y result&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">  (<span class="params"><span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test</span>(<span class="params">self, x, y, result</span>):</span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">sum</span>([x,y]) == result</span><br><span class="line"></span><br><span class="line"><span class="comment"># `name`, `flags` and `examples` attributes can be accessed</span></span><br><span class="line"><span class="comment"># using the corresponding attributes of the test decorator object</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;name:&quot;</span>, test.name)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;flags:&quot;</span>, test.flags)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;examples:\n&quot;</span>, test.examples)</span><br></pre></td></tr></table></figure>

<p>Use standard <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#getattr">getattr()</a> function to check if a particular attribute is set and if not
then use the default value.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(<span class="string">&quot;my new test&quot;</span>, flags=Flags(<span class="built_in">getattr</span>(test, <span class="string">&quot;flags&quot;</span>, <span class="literal">None</span>)) | PAUSE_BEFORE, test=test)(x=<span class="number">1</span>, y=<span class="number">1</span>, result=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>adds <a href="#PAUSE_BEFORE">PAUSE_BEFORE</a> flag to the initial flags of the decorated test.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that you don’t want to modify the original attributes
but instead you should always create a new object based on the initial attribute value.</p>
</blockquote>
<p>Here is an example of how to add another example to existing <code>examples</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Scenario(<span class="string">&quot;my new test&quot;</span>, examples=Examples(</span><br><span class="line">            <span class="string">&quot;x y result&quot;</span>,</span><br><span class="line">            <span class="built_in">list</span>(<span class="built_in">getattr</span>(test, <span class="string">&quot;examples&quot;</span>, Examples(<span class="string">&quot;&quot;</span>, [])).rows) + [</span><br><span class="line">                (<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line">            ]),</span><br><span class="line">         test=test)(x=<span class="number">1</span>, y=<span class="number">1</span>, result=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Top-Level-Test"><a href="#Top-Level-Test" class="headerlink" title="Top Level Test"></a>Top Level Test</h1><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> only allows one top level test to exist in any given test program execution.
<p>Because a <a href="#Flow-is">Flow</a> of tests can be represented as a rooted <a href="#Tree-is">Tree</a>, a test program
exits on completion of the top level test. Therefore, any code that is defined after the top
level test <strong>will not be executed</strong>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;module&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">something_else() <span class="comment"># will not be executed</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> Top level test can’t be an asyncrounous test. See <a href="#Async-Tests">Async Tests</a>.</p>
</blockquote>
<h2 id="Renaming-Top-Test"><a href="#Renaming-Top-Test" class="headerlink" title="Renaming Top Test"></a>Renaming Top Test</h2><p>Top level test name can be changed using the <a href="#%E2%80%93name">–name</a> command line argument.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--name name                                     <span class="built_in">test</span> run name</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> Changing name of the top level test is usually not recommended as you can break any test name patterns
that are not relative. For example, this can affect <a href="#xfails">xfails</a>, <a href="#ffails">ffails</a>, etc.</p>
</blockquote>
<p>For example,</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>):</span><br><span class="line">   <span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">       <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --name <span class="string">&quot;new top level test name&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Sep 25,2021 8:55:18   ⟥  Module new top level <span class="built_in">test</span> name</span><br><span class="line">Sep 25,2021 8:55:18     ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">              661us     ⟥⟤ OK my <span class="built_in">test</span>, /new top level <span class="built_in">test</span> name/my <span class="built_in">test</span></span><br><span class="line">                9ms   ⟥⟤ OK new top level <span class="built_in">test</span> name, /new top level <span class="built_in">test</span> name</span><br></pre></td></tr></table></figure>

<h2 id="Adding-Tags-to-Top-Test"><a href="#Adding-Tags-to-Top-Test" class="headerlink" title="Adding Tags to Top Test"></a>Adding Tags to Top Test</h2><p>On the command line, tags can be added to <a href="#Top-Level-Test">Top Level Test</a> using <a href="#%E2%80%93tag">–tag</a> option.
One or more tags can be specified.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--tag value [value ...]                         <span class="built_in">test</span> run tags</span><br></pre></td></tr></table></figure>

<p>For example,</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>):</span><br><span class="line">   <span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">       <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --tag tag1 tag2</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sep 25,2021 8:56:58   ⟥  Module regression</span><br><span class="line">                           Tags</span><br><span class="line">                             tag1</span><br><span class="line">                             tag2</span><br><span class="line">Sep 25,2021 8:56:58     ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">              640us     ⟥⟤ OK my <span class="built_in">test</span>, /regression/my <span class="built_in">test</span></span><br><span class="line">                9ms   ⟥⟤ OK regression, /regression</span><br></pre></td></tr></table></figure>

<h2 id="Adding-Attributes-to-Top-Test"><a href="#Adding-Attributes-to-Top-Test" class="headerlink" title="Adding Attributes to Top Test"></a>Adding Attributes to Top Test</h2><p>Attributes of the <a href="#Top-Level-Test">Top Level Test</a> can be used to associate important
information with your test run. For example, common attributes include
tester name, build number, CI&#x2F;CD job id, artifacts URL and many others.</p>
<blockquote>
<p><strong>&#9995;</strong> These attributes can be used extensively when filtering test runs
in test results database.</p>
</blockquote>
<p>On the command line, attributes can be added to <a href="#Top-Level-Test">Top Level Test</a> using <a href="#%E2%80%93attr">–attr</a> option.
One or more attributes can be specified.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--attr name=value [name=value ...]              <span class="built_in">test</span> run attributes</span><br></pre></td></tr></table></figure>

<p>For example,</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>):</span><br><span class="line">   <span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">       <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 top_name.py --attr build=21.10.1 tester=<span class="string">&quot;Vitaliy Zakaznikov&quot;</span> job_id=4325432 job_url=<span class="string">&quot;https://jobs.server.com/4325432&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Sep 25,2021 9:04:11   ⟥  Module regression</span><br><span class="line">                           Attributes</span><br><span class="line">                             build</span><br><span class="line">                               21.10.1</span><br><span class="line">                             tester</span><br><span class="line">                               Vitaliy Zakaznikov</span><br><span class="line">                             job_id</span><br><span class="line">                               4325432</span><br><span class="line">                             job_url</span><br><span class="line">                               https://jobs.server.com/4325432</span><br><span class="line">Sep 25,2021 9:04:11     ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">              781us     ⟥⟤ OK my <span class="built_in">test</span>, /regression/my <span class="built_in">test</span></span><br><span class="line">               10ms   ⟥⟤ OK regression, /regression</span><br></pre></td></tr></table></figure>

<h2 id="Custom-Top-Test-Id"><a href="#Custom-Top-Test-Id" class="headerlink" title="Custom Top Test Id"></a>Custom Top Test Id</h2><p>By default <a href="#Top-Level-Test">Top Level Test</a> test id is generated automatically using [UUIDv1]. However,
if needed, you can specify custom id value using <a href="#%E2%80%93id">–id</a> test program option.</p>
<blockquote>
<p><strong>&#9995;</strong> Specifying <a href="#Top-Level-Test">Top Level Test</a> id should only be done by advanced
users as each test run must have a unique id.</p>
</blockquote>
<p>In general, the most common use case when you need to specify custom <a href="#%E2%80%93id">–id</a>
is when you need to know <a href="#Top-Level-Test">Top Level Test</a> id before running your test program.
Therefore, you would generate [UUIDv1] externaly using for example <code>uuid</code> utility</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uuid</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">52da6a26-1e54-11ec-9d7b-cf20ccc24475</span><br></pre></td></tr></table></figure>

<p>and passing the generated value to your test program.</p>
<p>For example, give the following test program</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">   <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>if it is executed without <a href="#%E2%80%93id">–id</a> you can check top level test id by looking at <a href="#raw-Output"><code>raw</code></a> output
messages and looking at <code>test_id</code> field.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python3 id.py -o raw</span><br><span class="line">&#123;<span class="string">&quot;message_keyword&quot;</span>:<span class="string">&quot;PROTOCOL&quot;</span>,...,<span class="string">&quot;test_id&quot;</span>:<span class="string">&quot;/8a75f8b2-1e52-11ec-8830-cb614fe11752&quot;</span>,...&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>Now if you specify <a href="#%E2%80%93id">–id</a> then you will see that <code>test_id</code> field of each message
will contain the new id.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 id.py -o raw --<span class="built_in">id</span> 112233445566</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&quot;message_keyword&quot;</span>:<span class="string">&quot;PROTOCOL&quot;</span>,...,<span class="string">&quot;test_id&quot;</span>:<span class="string">&quot;/112233445566&quot;</span>,...&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h1 id="Test-Program-Tree"><a href="#Test-Program-Tree" class="headerlink" title="Test Program Tree"></a>Test Program Tree</h1><p>Executing any <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> test program results in a <a href="#Tree-is">Tree</a>. Below is a
diagram that depicts a simple test program execution <a href="#Tree-is">Tree</a>.</p>
<p>🔎 <strong>Test Program Tree</strong></p>
<img src="/handbook/assets/flow.png" alt="Test Program Tree" style="width: 100%">

<p>During test program execution, when all tests are executed sequentially,
the <a href="#Tree-is">Tree</a> is traversed in a depth first order.</p>
<p>The order of execution of tests shown is the diagram above is as follows</p>
<blockquote>
<ul>
<li>&#x2F;Top Test</li>
<li>&#x2F;Top Test&#x2F;Suite A</li>
<li>&#x2F;Top Test&#x2F;Suite A&#x2F;Test A&#x2F;</li>
<li>&#x2F;Top Test&#x2F;Suite A&#x2F;Test A&#x2F;Step A</li>
<li>&#x2F;Top Test&#x2F;Suite A&#x2F;Test A&#x2F;Step B</li>
<li>&#x2F;Top Test&#x2F;Suite A&#x2F;Test B&#x2F;</li>
<li>&#x2F;Top Test&#x2F;Suite A&#x2F;Test B&#x2F;Step A</li>
<li>&#x2F;Top Test&#x2F;Suite A&#x2F;Test B&#x2F;Step B</li>
</ul>
</blockquote>
<p>and this order of execution forms the <a href="#Flow-is">Flow</a> of the test program.
This <a href="#Flow-is">Flow</a> can also be shown graphically as in the diagram below where depth first
order of execution is highlighted by the magenta colored arrows.</p>
<p>🔎 <strong>Test Program Tree Traversal</strong> <em>(sequential)</em></p>
<img src="/handbook/assets/flow_traversal.png" alt="Test Program Tree Traversal" style="width: 100%">

<p>When dealing with test names when <a href="#Filtering-Tests-By-Name">Filtering Tests</a> it is best
to keep the diagram above in mind to help visualize and understand how <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong>
works.</p>
<h1 id="Logs"><a href="#Logs" class="headerlink" title="Logs"></a>Logs</h1><p>The framework produces <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm">LZMA</a> compressed logs that contains <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a> encoded messages. For example,
<br>
<br></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;message_keyword&quot;</span><span class="punctuation">:</span><span class="string">&quot;TEST&quot;</span><span class="punctuation">,</span><span class="attr">&quot;message_hash&quot;</span><span class="punctuation">:</span><span class="string">&quot;ccd1ad1f&quot;</span><span class="punctuation">,</span><span class="attr">&quot;message_object&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;message_num&quot;</span><span class="punctuation">:</span><span class="number">2</span><span class="punctuation">,</span><span class="attr">&quot;message_stream&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;message_level&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;message_time&quot;</span><span class="punctuation">:</span><span class="number">1593887847.045375</span><span class="punctuation">,</span><span class="attr">&quot;message_rtime&quot;</span><span class="punctuation">:</span><span class="number">0.001051</span><span class="punctuation">,</span><span class="attr">&quot;test_type&quot;</span><span class="punctuation">:</span><span class="string">&quot;Test&quot;</span><span class="punctuation">,</span><span class="attr">&quot;test_subtype&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;test_id&quot;</span><span class="punctuation">:</span><span class="string">&quot;/68b96288-be25-11ea-8e14-2477034de0ec&quot;</span><span class="punctuation">,</span><span class="attr">&quot;test_name&quot;</span><span class="punctuation">:</span><span class="string">&quot;/My test&quot;</span><span class="punctuation">,</span><span class="attr">&quot;test_flags&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;test_cflags&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;test_level&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;test_uid&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span><span class="attr">&quot;test_description&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>Each message is a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a> object. Object fields depend on the type of message that is specified by the <code>message_keyword</code>.</p>
<p>Logs can be decompressed using either the standard <code>xzcat</code> utility</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xzcat test.log</span><br></pre></td></tr></table></figure>

<p>or <code>tfs transform decompress</code> command</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs transform decompress</span><br></pre></td></tr></table></figure>

<h2 id="Saving-Log-File"><a href="#Saving-Log-File" class="headerlink" title="Saving Log File"></a>Saving Log File</h2><p>Test log can be saved into a file by specifying <code>-l</code> or <code>--log</code> option when running the test. For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --<span class="built_in">log</span> test.log</span><br></pre></td></tr></table></figure>

<h2 id="Transforming-Logs"><a href="#Transforming-Logs" class="headerlink" title="Transforming Logs"></a>Transforming Logs</h2><p>Test logs can be transformed using <code>tfs transform</code> command. See <code>tfs transform --help</code>
for a detailed list of available transformations.</p>
<h3 id="nice"><a href="#nice" class="headerlink" title="nice"></a>nice</h3><p>The <code>tfs transform nice</code> command can be used to transform test log into a <code>nice</code> output format which the default output
used for the <code>stdout</code>.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs transform <span class="built_in">nice</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Jul 04,2020 19:20:21   ⟥  Module filters</span><br><span class="line">Jul 04,2020 19:20:21     ⟥  Scenario test_0</span><br><span class="line">Jul 04,2020 19:20:21       ⟥  Step first step</span><br><span class="line">               596us       ⟥⟤ OK first step, /filters/test_0/first step</span><br><span class="line">                 1ms     ⟥⟤ OK test_0, /filters/test_0</span><br><span class="line">Jul 04,2020 19:20:21     ⟥  Suite suite 0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="short"><a href="#short" class="headerlink" title="short"></a>short</h3><p>The <code>tfs transform short</code> command can be used to transform test log into a <code>short</code> output format that contains test procedures
and test results.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs transform short</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Module filters</span><br><span class="line">  Scenario test_0</span><br><span class="line">    Step first step</span><br><span class="line">    OK</span><br><span class="line">  OK</span><br><span class="line">  Suite suite 0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="slick"><a href="#slick" class="headerlink" title="slick"></a>slick</h3><p>The <code>tfs transform slick</code> command can be used to transform test log into a <code>slick</code> output format that contains only test names
with results provided as icons in front of the test name. This output format is very concise.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs transform slick</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➤ Module filters</span><br><span class="line">  ✔ Scenario test_0</span><br><span class="line">  ➤ Suite suite 0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="dots"><a href="#dots" class="headerlink" title="dots"></a>dots</h3><p>The <code>tfs transform dots</code> command can be used to transform test log into a <code>dots</code> output format, which outputs dots
for each executed test.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs transform dots</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.........................</span><br></pre></td></tr></table></figure>

<h3 id="raw"><a href="#raw" class="headerlink" title="raw"></a>raw</h3><p>The <code>tfs transform raw</code> command can be used to transform a test log into a <code>raw</code> output format that contains raw <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a>
messages.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs transform raw</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&quot;message_keyword&quot;</span>:<span class="string">&quot;PROTOCOL&quot;</span>,<span class="string">&quot;message_hash&quot;</span>:<span class="string">&quot;489eeba5&quot;</span>,<span class="string">&quot;message_object&quot;</span>:0,<span class="string">&quot;message_num&quot;</span>:0,<span class="string">&quot;message_stream&quot;</span>:null,<span class="string">&quot;message_level&quot;</span>:1,<span class="string">&quot;message_time&quot;</span>:1593904821.784232,<span class="string">&quot;message_rtime&quot;</span>:0.001027,<span class="string">&quot;test_type&quot;</span>:<span class="string">&quot;Module&quot;</span>,<span class="string">&quot;test_subtype&quot;</span>:null,<span class="string">&quot;test_id&quot;</span>:<span class="string">&quot;/ee772b86-be4c-11ea-8e14-2477034de0ec&quot;</span>,<span class="string">&quot;test_name&quot;</span>:<span class="string">&quot;/filters&quot;</span>,<span class="string">&quot;test_flags&quot;</span>:0,<span class="string">&quot;test_cflags&quot;</span>:0,<span class="string">&quot;test_level&quot;</span>:1,<span class="string">&quot;protocol_version&quot;</span>:<span class="string">&quot;TFSPv2.1&quot;</span>&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="compact"><a href="#compact" class="headerlink" title="compact"></a>compact</h3><p>The <code>tfs transform compact</code> command can be used to transform a test log into a <code>compact</code> format that only contains
raw <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a> test definition and result messages while omitting all messages for the steps.
It is used to create compact test logs used for comparison reports.</p>
<h3 id="compress"><a href="#compress" class="headerlink" title="compress"></a>compress</h3><p>The <code>tfs transform compress</code> command is used to compress a test log with <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm">LZMA</a> compression algorithm.</p>
<h3 id="decompress"><a href="#decompress" class="headerlink" title="decompress"></a>decompress</h3><p>The <code>tfs transform decompress</code> command is used to decompress a test log compressed with <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm">LZMA</a> compression algorithm.</p>
<h1 id="Creating-Reports"><a href="#Creating-Reports" class="headerlink" title="Creating Reports"></a>Creating Reports</h1><p>Test logs can be used to create reports using <code>tfs report</code> command. See <code>tfs report --help</code> for a list of available reports.</p>
<h2 id="Results-Report"><a href="#Results-Report" class="headerlink" title="Results Report"></a>Results Report</h2><p>A results report can be generated from a test log using <code>tfs report results</code> command.
The report can be generated in either <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> format (default) or <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a> format
by specifying <code>--format json</code> option.
The report in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> can be converted to <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/HTML">HTML</a> using <code>tfs document convert</code> command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Generate results report.</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  input                      input <span class="built_in">log</span>, default: stdin</span><br><span class="line">  output                     output file, default: stdout</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --<span class="built_in">help</span>                 show this <span class="built_in">help</span> message and <span class="built_in">exit</span></span><br><span class="line">  -a <span class="built_in">link</span>, --artifacts <span class="built_in">link</span>  <span class="built_in">link</span> to the artifacts</span><br><span class="line">  --format <span class="built_in">type</span>              output format choices: <span class="string">&#x27;md&#x27;</span>, <span class="string">&#x27;json&#x27;</span>, default: md (Markdown)</span><br><span class="line">  --copyright name           add copyright notice</span><br><span class="line">  --confidential             mark as confidential</span><br><span class="line">  --logo path                use logo image (.png)</span><br><span class="line">  --title name               custom title</span><br></pre></td></tr></table></figure>

<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs report results | tfs document convert &gt; report.html</span><br></pre></td></tr></table></figure>

<h2 id="Coverage-Report"><a href="#Coverage-Report" class="headerlink" title="Coverage Report"></a>Coverage Report</h2><p>Requirements coverage report can be generated from a test log using <code>tfs report coverage</code> command. The report is created in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>
and can be converted to <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/HTML">HTML</a> using <code>tfs document convert</code> command. For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Generate requirements coverage report.</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  requirements                requirements <span class="built_in">source</span> file, default: <span class="string">&#x27;-&#x27;</span> (from input <span class="built_in">log</span>)</span><br><span class="line">  input                       input <span class="built_in">log</span>, default: stdin</span><br><span class="line">  output                      output file, default: stdout</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --<span class="built_in">help</span>                  show this <span class="built_in">help</span> message and <span class="built_in">exit</span></span><br><span class="line">  --show status [status ...]  verification status. Choices: <span class="string">&#x27;satisfied&#x27;</span>, <span class="string">&#x27;unsatisfied&#x27;</span>, <span class="string">&#x27;untested&#x27;</span></span><br><span class="line">  --input-link attribute      attribute that is used as a <span class="built_in">link</span> to the input <span class="built_in">log</span>, default: job.url</span><br><span class="line">  --format <span class="built_in">type</span>               output format, default: md (Markdown)</span><br><span class="line">  --copyright name            add copyright notice</span><br><span class="line">  --confidential              mark as confidential</span><br><span class="line">  --logo path                 use logo image (.png)</span><br><span class="line">  --title name                custom title</span><br><span class="line">  --only name [name ...]      name of one or more specifications <span class="keyword">for</span> <span class="built_in">which</span> to generate coverage</span><br><span class="line">                              report, default: include all specifications. Only a unique part of the</span><br><span class="line">                              name can be specified.</span><br></pre></td></tr></table></figure>

<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs report coverage requirements.py | tfs document convert &gt; coverage.html</span><br></pre></td></tr></table></figure>

<h2 id="Metrics-Report"><a href="#Metrics-Report" class="headerlink" title="Metrics Report"></a>Metrics Report</h2><p>You can generate metrics report using <code>tfs report metrics</code> command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Generate metrics report.</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  input          input <span class="built_in">log</span>, default: stdin</span><br><span class="line">  output         output file, default: stdout</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --<span class="built_in">help</span>     show this <span class="built_in">help</span> message and <span class="built_in">exit</span></span><br><span class="line">  --format <span class="built_in">type</span>  output format choices: <span class="string">&#x27;openmetrics&#x27;</span>, <span class="string">&#x27;csv&#x27;</span> default: openmetrics</span><br></pre></td></tr></table></figure>

<h2 id="Comparison-Reports"><a href="#Comparison-Reports" class="headerlink" title="Comparison Reports"></a>Comparison Reports</h2><p>A comparison report can be generated using one of the <code>tfs report compare</code> commands.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Generate comparison report between runs.</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --<span class="built_in">help</span>  show this <span class="built_in">help</span> message and <span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line">commands:</span><br><span class="line">  <span class="built_in">command</span></span><br><span class="line">    results   results report</span><br><span class="line">    metrics   metrics report</span><br></pre></td></tr></table></figure>

<h3 id="Compare-Results"><a href="#Compare-Results" class="headerlink" title="Compare Results"></a>Compare Results</h3><p>A results comparison report can be generated using <code>tfs report compare results</code> command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Generate results comparison report.</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  output                        output file, default: stdout</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --<span class="built_in">help</span>                    show this <span class="built_in">help</span> message and <span class="built_in">exit</span></span><br><span class="line">  --<span class="built_in">log</span> pattern [pattern ...]   <span class="built_in">log</span> file pattern</span><br><span class="line">  --log-link attribute          attribute that is used as a <span class="built_in">link</span> <span class="keyword">for</span> the <span class="built_in">log</span>, default: job.url</span><br><span class="line">  --only pattern [pattern ...]  compare only selected tests</span><br><span class="line">  --order-by attribute          attribute that is used to order the logs</span><br><span class="line">  --<span class="built_in">sort</span> direction              <span class="built_in">sort</span> direction. Either <span class="string">&#x27;asc&#x27;</span> or <span class="string">&#x27;desc&#x27;</span>, default: asc</span><br><span class="line">  --format <span class="built_in">type</span>                 output format, default: md (Markdown)</span><br><span class="line">  --copyright name              add copyright notice</span><br><span class="line">  --confidential                mark as confidential</span><br><span class="line">  --logo path                   use logo image (.png)</span><br></pre></td></tr></table></figure>

<h3 id="Compare-Metrics"><a href="#Compare-Metrics" class="headerlink" title="Compare Metrics"></a>Compare Metrics</h3><p>A metrics comparison report can be generated using <code>tfs report compare metrics</code> command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Generate metrics comparison report.</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  output                        output file, default: stdout</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --<span class="built_in">help</span>                    show this <span class="built_in">help</span> message and <span class="built_in">exit</span></span><br><span class="line">  --<span class="built_in">log</span> pattern [pattern ...]   <span class="built_in">log</span> file pattern</span><br><span class="line">  --log-link attribute          attribute that is used as a <span class="built_in">link</span> <span class="keyword">for</span> the <span class="built_in">log</span>, default: job.url</span><br><span class="line">  --only pattern [pattern ...]  compare only selected tests</span><br><span class="line">  --order-by attribute          attribute that is used to order the logs</span><br><span class="line">  --<span class="built_in">sort</span> direction              <span class="built_in">sort</span> direction. Either <span class="string">&#x27;asc&#x27;</span> or <span class="string">&#x27;desc&#x27;</span>, default: asc</span><br><span class="line">  --format <span class="built_in">type</span>                 output format, default: md (Markdown)</span><br><span class="line">  --copyright name              add copyright notice</span><br><span class="line">  --confidential                mark as confidential</span><br><span class="line">  --logo path                   use logo image (.png)</span><br><span class="line">  --name name [name ...]        metrics name, default: test-time</span><br></pre></td></tr></table></figure>

<h2 id="Specification-Report"><a href="#Specification-Report" class="headerlink" title="Specification Report"></a>Specification Report</h2><p>A test specification for the test run can be generated using <code>tfs report specification</code> command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Generate specifiction report.</span><br><span class="line"></span><br><span class="line">positional arguments:</span><br><span class="line">  input             input <span class="built_in">log</span>, default: stdin</span><br><span class="line">  output            output file, default: stdout</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --<span class="built_in">help</span>        show this <span class="built_in">help</span> message and <span class="built_in">exit</span></span><br><span class="line">  --copyright name  add copyright notice</span><br><span class="line">  --confidential    mark as confidential</span><br><span class="line">  --logo path       use logo image (.png)</span><br><span class="line">  --title name      custom title</span><br></pre></td></tr></table></figure>

<h1 id="Test-Results"><a href="#Test-Results" class="headerlink" title="Test Results"></a>Test Results</h1><p>Any given test will have one of the following results.</p>
<h2 id="OK"><a href="#OK" class="headerlink" title="OK"></a>OK</h2><p>Test has passed.</p>
<h2 id="Fail"><a href="#Fail" class="headerlink" title="Fail"></a>Fail</h2><p>Test has failed.</p>
<h2 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h2><p>Test produced an error.</p>
<h2 id="Null"><a href="#Null" class="headerlink" title="Null"></a>Null</h2><p>Test result was not set.</p>
<h2 id="Skip"><a href="#Skip" class="headerlink" title="Skip"></a>Skip</h2><p>Test was skipped.</p>
<h2 id="XOK"><a href="#XOK" class="headerlink" title="XOK"></a>XOK</h2><p><a href="#OK">OK</a> result was crossed out. Result is considered as passing.</p>
<h2 id="XFail"><a href="#XFail" class="headerlink" title="XFail"></a>XFail</h2><p><a href="#Fail">Fail</a> result was crossed out. Result is considered as passing.</p>
<h2 id="XError"><a href="#XError" class="headerlink" title="XError"></a>XError</h2><p><a href="#Error">Error</a> result was crossed out. Result is considered as passing.</p>
<h2 id="XNull"><a href="#XNull" class="headerlink" title="XNull"></a>XNull</h2><p><a href="#Null">Null</a> result was crossed out. Result is considred as passing.</p>
<h1 id="Test-Parameters"><a href="#Test-Parameters" class="headerlink" title="Test Parameters"></a>Test Parameters</h1><p>Test parameters can be used to set attributes of a test. Here is a list of most common
parameters for a test:</p>
<ul>
<li><a href="#name">name</a></li>
<li><a href="#flags">flags</a></li>
<li>uid</li>
<li><a href="#tags">tags</a></li>
<li><a href="#attributes">attributes</a></li>
<li><a href="#requirements">requirements</a></li>
<li><a href="#examples">examples</a></li>
<li>description</li>
<li><a href="#xfails">xfails</a></li>
<li><a href="#xflags">xflags</a></li>
<li><a href="#ffails">ffails</a></li>
<li>only</li>
<li>skip</li>
<li>start</li>
<li>end</li>
<li>only_tags</li>
<li>skip_tags</li>
<li>args</li>
</ul>
<blockquote>
<p><strong>&#9995;</strong> Most parameter names match the names of the attributes of the test which they set.
For example, <a href="#name">name</a> parameter sets the name attribute of the test.</p>
</blockquote>
<p>When test is defined inline then parameters can be specified right when test definition class is instantiated.
The first parameter is always <code>name</code> that sets the name of the test. The other parameters are usually
specified using keyword arguments.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My test&quot;</span>, description=<span class="string">&quot;This is a description of an inline test&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h1 id="Naming-Tests"><a href="#Naming-Tests" class="headerlink" title="Naming Tests"></a>Naming Tests</h1><p>You can set the name of any test either by setting the <a href="#name">name</a> parameter of the inline test
or using the <a href="#name">Name</a> decorator if the test is defined as a decorated function.
The name of the test can be accessed using the <code>name</code> attribute of the test.</p>
<h2 id="name"><a href="#name" class="headerlink" title="name"></a>name</h2><p>The <a href="#name">name</a> parameter of the test can be use used to set the <a href="#name">name</a> of any inline test. The <a href="#name">name</a> parameter
must be passed a <code>str</code> which will define the name of the test.</p>
<blockquote>
<p><strong>&#9995;</strong> For all test definition classes the first parameter is always the <a href="#name">name</a>.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>) <span class="keyword">as</span> test:</span><br><span class="line">    note(test.name)</span><br></pre></td></tr></table></figure>

<h2 id="Name"><a href="#Name" class="headerlink" title="Name"></a>Name</h2><p>A <a href="#name">Name</a> decorator can be used to set the <a href="#name">name</a> of any test that is defined using a decorated function.</p>
<blockquote>
<p><strong>&#9995;</strong> The name of test defined using a decorated function
is set to the name of the function if the <a href="#name">Name</a> decorator is not used.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;The name of the scenario&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scenario</span>(<span class="params">self</span>):</span><br><span class="line">    note(self.name)</span><br></pre></td></tr></table></figure>

<p>or if the <a href="#name">Name</a> decorator is not used</p>
<blockquote>
<p><strong>&#9995;</strong> Note that any underscores will be replaced with spaces in the name of the test.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">the_name_of_the_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    note(self.name)</span><br></pre></td></tr></table></figure>

<h1 id="Setting-Test-Flags"><a href="#Setting-Test-Flags" class="headerlink" title="Setting Test Flags"></a>Setting Test Flags</h1><p>You can set the <a href="#Test-Flags">Test Flags</a> of any test either by setting the <a href="#flags">flags</a> parameter of the inline test
or using the <a href="#flags">Flags</a> decorator if the test is defined as a decorated function.
The flags of the test can be accessed using the <code>flags</code> attribute of the test.</p>
<h2 id="flags"><a href="#flags" class="headerlink" title="flags"></a>flags</h2><p>The <a href="#flags">flags</a> parameter of the test can be use used to set the <a href="#flags">flags</a> of any inline test. The <a href="#flags">flags</a> parameter
must be passed valid flag or multiple flags combined with binary <code>OR</code> opertor.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, flags=TE) <span class="keyword">as</span> test:</span><br><span class="line">    note(test.flags)</span><br></pre></td></tr></table></figure>

<h2 id="Flags"><a href="#Flags" class="headerlink" title="Flags"></a>Flags</h2><p>A <a href="#flags">Flags</a> decorator can be used to set the <a href="#flags">flags</a> of any test that is defined using a decorated function.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Flags(<span class="params">TE</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scenario</span>(<span class="params">self</span>):</span><br><span class="line">    note(self.flags)</span><br></pre></td></tr></table></figure>

<h1 id="Command-Line-Arguments"><a href="#Command-Line-Arguments" class="headerlink" title="Command Line Arguments"></a>Command Line Arguments</h1><p>You can add command line arguments to the top level test either by setting <a href="#argparser">argparser</a> parameter of the inline test
or using <a href="#ArgumentParser">ArgumentParser</a> decorator if top test is defined as a decorated function.</p>
<h2 id="argparser"><a href="#argparser" class="headerlink" title="argparser"></a>argparser</h2><p>The <a href="#argparser">argparser</a> parameter can be used to set a custom command line argument parser by passing it a function that takes <code>parser</code> as the first
parameter. This function will be called with an instance of <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/argparse.html">argparse</a> parser instance as the argument for the <code>parser</code> parameter.
The values of the command line arguments can be accessed using the <code>attributes</code> attribute of the test.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that all arguments of the top level test become its <code>attributes</code>.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">argparser</span>(<span class="params">parser</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Custom command line arguments.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param parser: an instance of argparse parser.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg0&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">        <span class="built_in">help</span>=<span class="string">&quot;argument 0&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg1&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">        <span class="built_in">help</span>=<span class="string">&quot;argument 1&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>, argparser=argparser) <span class="keyword">as</span> module:</span><br><span class="line">    note(module.attributes[<span class="string">&quot;arg0&quot;</span>].value)</span><br><span class="line">    note(module.attributes[<span class="string">&quot;arg1&quot;</span>].value)</span><br></pre></td></tr></table></figure>

<h2 id="ArgumentParser"><a href="#ArgumentParser" class="headerlink" title="ArgumentParser"></a>ArgumentParser</h2><p>If <a href="#Module">Module</a> is defined using a decorated function then <a href="#ArgumentParser">ArgumentParser</a> decorator can be used to set custom command line argument parser.
The values of the custom command line arguments will be passed to the decorated function as test arguments and therefore
the decorated function must take the first parameters with the same name as command line arguments.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">argparser</span>(<span class="params">parser</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Custom command line arguments.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param parser: an instance of argparse parser.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg0&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">        <span class="built_in">help</span>=<span class="string">&quot;argument 0&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg1&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">        <span class="built_in">help</span>=<span class="string">&quot;argument 1&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="meta">@ArgumentParser(<span class="params">argparser</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self, arg0, arg1</span>):</span><br><span class="line">    note(arg0)</span><br><span class="line">    note(arg1)</span><br></pre></td></tr></table></figure>

<p>When custom command line argument parser is defined then the help messages obtained using <code>-h</code> or <code>--help</code> option will include
the description of the custom arguments. For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 ./test.py</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="built_in">test</span> arguments:</span><br><span class="line">  --arg0                                          argument 0</span><br><span class="line">  --arg1                                          argument 1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Filtering-Tests-By-Name"><a href="#Filtering-Tests-By-Name" class="headerlink" title="Filtering Tests By Name"></a>Filtering Tests By Name</h1><p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> allows to control which tests to run during any
specific test program run using advanced test filtering <a href="#pattern">pattern</a>s.
Test filters can be either specified in the code or controlled using command line
options.</p>
<p>In both cases test filtering is performed by setting <code>skips</code>, <code>onlys</code>, <code>skip_tags</code>
and <code>only_tags</code> attributes of a test. These attributes are propagated down
to sub-tests as long as filtering <a href="#pattern">pattern</a> has a chance of matching
test name. Therefore, parent test filtering attributes, if specified,
always override the same attributes of any of its sub-tests if the parent test
filter is applicable to the sub-test and could match either the sub-test name
or any of the sub-test children names.</p>
<p>Test are filtered using a <a href="#pattern">pattern</a>.
The <a href="#pattern">pattern</a> is used to match test names and <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> uses
<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Glob_(programming)">unix-like file path pattern</a>s that support wildcards where</p>
<ul>
<li><code>/</code> is path level separator</li>
<li><code>*</code> matches anything (zero or more characters)</li>
<li><code>?</code> matches any single character</li>
<li><code>[seq]</code> matches any character in seq</li>
<li><code>[!seq]</code> matches any character not in seq</li>
<li><code>:</code> matches one or more characters only at the current path level</li>
</ul>
<blockquote>
<p><strong>&#9995;</strong> Note that for a literal match, you must wrap the meta-characters in brackets
where <code>[?]</code> matches the character <code>?</code>.</p>
</blockquote>
<p>It is important to remember that execution of test program results in a <a href="#Tree-is">Tree</a> where
each test is node and test name being a unique path to this node in the <a href="#Tree-is">Tree</a>.
The <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Glob_(programming)">unix-like file path pattern</a>s work well because test program
execution <a href="#Tree-is">Tree</a> is similar to the structure of a file system.</p>
<p>Filtering tests is then nothing but selecting which nodes in the tree should be
selected and which shall be skipped. Filtering is performed by matching the <a href="#pattern">pattern</a>
to the test name. See <a href="#Test-Program-Tree">Test Program Tree</a>.</p>
<p>Skipping a test then means that the body of the test is skipped along with the sub-tree
that is below the corresponding test node.</p>
<p>When we want to include a test
it usually means that we also want to execute the test along with all the tests
that form the sub-tree below the coresponding test node and therefore
the <a href="#pattern">pattern</a> that indicates which tests should be included most of the time ends with <code>/*</code>.</p>
<p>For example,</p>
<blockquote>
<p><code>/Top Test/Suite A/Test A/*</code> <a href="#pattern">pattern</a> will match <code>/Top Test/Suite A/Test A</code>
and all its sub-tests which are <code>/Top Test/Suite A/Test A/Step A</code> and
<code>/Top Test/Suite A/Test A/Step B</code> because they also match the specified <a href="#pattern">pattern</a> as
it ends with <code>/*</code> where <code>*</code> matches any zero or more characters.</p>
</blockquote>
<p>Internally <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> converts all <a href="#pattern">pattern</a>s into
regular expressions but these expressions become very complex and therefore
not practicle to be specified explicitely.</p>
<p>Let’s see how test filtering can be specified either using command line or inside the
test program code.</p>
<h2 id="–only-option"><a href="#–only-option" class="headerlink" title="–only option"></a><a href="#%E2%80%93only">–only</a> option</h2><p>You can specify which tests you want to include in your test run using <a href="#%E2%80%93only">–only</a>
option. This option takes one or more test name <a href="#pattern">pattern</a>s that if not matched
will cause the test to be skipped.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--only pattern [pattern ...]                    run only selected tests</span><br></pre></td></tr></table></figure>

<p>If you pass a relative pattern, any pattern that does not start with <code>/</code>,
then the pattern will be anchored to the top level test.
For example, <a href="#pattern">pattern</a> <code>Suite A/*</code> for the example below will become
<code>/Top Test/Suite A/*</code>.</p>
<p>Let’s practice. Given this example test program,</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">   <span class="keyword">with</span> Step(<span class="string">&quot;Step A&quot;</span>):</span><br><span class="line">       <span class="keyword">pass</span></span><br><span class="line">   <span class="keyword">with</span> Step(<span class="string">&quot;Step B&quot;</span>):</span><br><span class="line">       <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_suite</span>(<span class="params">self</span>):</span><br><span class="line">   Scenario(<span class="string">&quot;Test A&quot;</span>, run=my_scenario)</span><br><span class="line">   Scenario(<span class="string">&quot;Test B&quot;</span>, run=my_scenario)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;Top Test&quot;</span>):</span><br><span class="line">   Suite(<span class="string">&quot;Suite A&quot;</span>, run=my_suite)</span><br><span class="line">   Suite(<span class="string">&quot;Suite B&quot;</span>, run=my_suite)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>the following command will run only <code>Suite A</code> and its sub-tests.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only <span class="string">&quot;Suite A/*&quot;</span></span><br></pre></td></tr></table></figure>

<p>To select only running <code>Test A</code> in <code>Suite A</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only <span class="string">&quot;/Top Test/Suite A/Test A/*&quot;</span></span><br></pre></td></tr></table></figure>

<p>To select running any test at second level that ends with letter <code>B</code>.
This will select every test in <code>Suite B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 filtering.py --only <span class="string">&quot;/Top Test/:B/*&quot;</span></span><br></pre></td></tr></table></figure>

<p>To run only <code>Test A</code> in <code>Suite A</code> and <code>Test B</code> in <code>Suite B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only <span class="string">&quot;/Top Test/Suite A/Test A/*&quot;</span> <span class="string">&quot;/Top Test/Suite B/Test B/*&quot;</span></span><br></pre></td></tr></table></figure>

<p>If you forget to specify <code>/*</code> at the end your test <a href="#pattern">pattern</a> then
tests that are not mandatory will be skipped.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only <span class="string">&quot;/Top Test/Suite A/Test A&quot;</span></span><br></pre></td></tr></table></figure>

<p>From the output below you can see that steps inside <code>Test A</code> which
are <code>Step A</code> and <code>Step B</code> are skipped as these tests don’t have
<a href="#MANDATORY">MANDATORY</a> flag set.</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Sep 27,2021 14:19:46   ⟥  Module Top Test</span><br><span class="line">Sep 27,2021 14:19:46     ⟥  Suite Suite A</span><br><span class="line">Sep 27,2021 14:19:46       ⟥  Scenario Test A</span><br><span class="line">                3ms       ⟥⟤ OK Test A, /Top Test/Suite A/Test A</span><br><span class="line">                6ms     ⟥⟤ OK Suite A, /Top Test/Suite A</span><br><span class="line">               18ms   ⟥⟤ OK Top Test, /Top Test</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> Remember that tests with <a href="#MANDATORY">MANDATORY</a> flag cannot be skipped and
<a href="#Given">Given</a> and <a href="#Finally">Finally</a> steps always have <a href="#MANDATORY">MANDATORY</a> flag set.</p>
</blockquote>
<p>If you want to see which tests where skipped you can specify <a href="#%E2%80%93show-skipped">–show-skipped</a> option.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only <span class="string">&quot;/Top Test/Suite A/Test A&quot;</span> --show-skipped</span><br></pre></td></tr></table></figure>

<h2 id="–skip-option"><a href="#–skip-option" class="headerlink" title="–skip option"></a><a href="#%E2%80%93skip">–skip</a> option</h2><p>You can specify which tests you want to skip in your test run using <a href="#%E2%80%93skip">–skip</a>
option. This option takes one of more test name <a href="#pattern">pattern</a>s that
if match will cause the test be skipped.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--skip pattern [pattern ...]                    skip selected tests</span><br></pre></td></tr></table></figure>

<p>Skipping test means that a <a href="#Skip">SKIP</a> flag will be added to the test, the body
of the test will not be executed and the result of the test will be set to <a href="#Skip">Skip</a>.
By default, most output formats do not show <a href="#Skip">Skip</a>ped tests and thus you must
use <a href="#%E2%80%93show-skipped">–show-skipped</a> option to see them.</p>
<p>Just like for <a href="#%E2%80%93only-option">–only option</a>, if you pass a relative pattern, any pattern that does not start with <code>/</code>,
then the <a href="#pattern">pattern</a> will be anchored to the top level test.
For example, the <a href="#pattern">pattern</a> <code>Suite A/*</code> for the example below will become
<code>/Top Test/Suite A/*</code>.</p>
<blockquote>
<p><strong>&#9995;</strong> Remember that tests with <a href="#MANDATORY">MANDATORY</a> flag cannot be skipped and
<a href="#Given">Given</a> and <a href="#Finally">Finally</a> steps always have <a href="#MANDATORY">MANDATORY</a> flag set.</p>
</blockquote>
<p>Here are a couple of examples that are based on the same example test program
that is used in the <a href="#%E2%80%93only-option">–only option</a> section above.</p>
<blockquote>
<p><strong>&#9995;</strong> Unlike for the <a href="#%E2%80%93only-option">–only option</a> the <a href="#pattern">pattern</a>s for <a href="#%E2%80%93skip">–skip</a>
do not have to end with <code>/*</code> as skipping a test automatically
skips any sub-tests of the test being skipped.</p>
</blockquote>
<p>To skip running <code>Test A</code> in <code>Suite A</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --skip <span class="string">&quot;/Top Test/Suite A/Test A&quot;</span></span><br></pre></td></tr></table></figure>

<p>To skip running any test at second level that ends with letter <code>B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 filtering.py --skip <span class="string">&quot;/Top Test/:B&quot;</span></span><br></pre></td></tr></table></figure>

<p>Here is an example of combining <a href="#%E2%80%93only">–only</a> option with <a href="#%E2%80%93show-skipped">–show-skipped</a> option
to show <a href="#Skip">Skip</a>ped tests.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --skip <span class="string">&quot;/Top Test/Suite A/Test A&quot;</span> --show-skipped</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">✔ [ Skip ] /Top Test/Suite A/Test A</span><br></pre></td></tr></table></figure>

<p>Now let’s skip <code>Test A</code> in either <code>Suite A</code> or <code>Suite B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --skip <span class="string">&quot;/Top Test/:/Test A&quot;</span> --show-skipped</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">✔ [ Skip ] /Top Test/Suite A/Test A</span><br><span class="line">✔ [ Skip ] /Top Test/Suite B/Test A</span><br></pre></td></tr></table></figure>

<h2 id="–only-and-–skip"><a href="#–only-and-–skip" class="headerlink" title="–only and –skip"></a><a href="#%E2%80%93only">–only</a> and <a href="#%E2%80%93skip">–skip</a></h2><p>You can combine selecting and skipping tests by specifying both <a href="#%E2%80%93only">–only</a> and
<a href="#%E2%80%93skip">–skip</a> options. See <a href="#%E2%80%93only-option">–only option</a> and <a href="#%E2%80%93skip-option">–skip option</a> sections above.</p>
<p>When <a href="#%E2%80%93only">–only</a> and <a href="#%E2%80%93skip">–skip</a> are specified at the same time the <a href="#%E2%80%93only">–only</a> option
is applied first and selects a list of tests that will be run. If <a href="#%E2%80%93skip">–skip</a> option
is present then it can only filter down the selected tests.</p>
<blockquote>
<p><strong>&#9995;</strong> Remember that tests with <a href="#MANDATORY">MANDATORY</a> flag cannot be skipped and
<a href="#Given">Given</a> and <a href="#Finally">Finally</a> steps always have <a href="#MANDATORY">MANDATORY</a> flag set.</p>
</blockquote>
<p>For example, using example test program found in <a href="#%E2%80%93only-option">–only option</a> section
we can select to run <code>Test A</code> in either <code>Suite A</code> or <code>Suite B</code> but then
skip <code>Test A</code> in <code>Suite B</code> using <a href="#%E2%80%93skip-option">–skip option</a> as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only <span class="string">&quot;/Top Test/:/Test A&quot;</span> --skip <span class="string">&quot;Suite B/Test A&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Passing</span><br><span class="line"></span><br><span class="line">✔ [ OK ] /Top Test/Suite A/Test A</span><br><span class="line">✔ [ OK ] /Top Test/Suite A</span><br><span class="line">✔ [ OK ] /Top Test/Suite B</span><br><span class="line">✔ [ OK ] /Top Test</span><br></pre></td></tr></table></figure>

<p>As you can see from the output above the <code>Suite B</code> gets started but all its tests are skipped
as <code>Test B</code> did not match the <a href="#pattern">pattern</a> specified to the <a href="#%E2%80%93only">–only</a>
and <code>Test A</code> was skipped by the <a href="#%E2%80%93skip">–skip</a>.</p>
<h2 id="Filtering-Tests-In-Code"><a href="#Filtering-Tests-In-Code" class="headerlink" title="Filtering Tests In Code"></a>Filtering Tests In Code</h2><p>In your test program you can filter child tests to control what tests are included or skipped
by setting <code>only</code> and <code>skip</code> test attributes.</p>
<h3 id="only-and-skip-Arguments"><a href="#only-and-skip-Arguments" class="headerlink" title="only and skip Arguments"></a><code>only</code> and <code>skip</code> Arguments</h3><p>When test is defined inline you can explicitly set filtering using <code>only</code> and <code>skip</code>
arguments. These arguments either take a list of <a href="#pattern">pattern</a>s or you can use
<a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L638">Onlys class</a> or <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L653">Skips class</a> respectively.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Onlys(pattern, ...)</span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Skips(pattern,...)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L638">Onlys class</a> or <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L653">Skips class</a> can also act as decorators
to set <code>only</code> and <code>skip</code> attributes of decorated tests.
See <a href="#Onlys-and-Skips-Decorators"><code>Onlys</code> and <code>Skips</code> Decorators</a>.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my tests&quot;</span>, only=[pattern,...], skip=[pattern,...])</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my tests&quot;</span>, only=Onlys(pattern,...), skip=Skips(pattern,...))</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;Step A&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;Step B&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_suite</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;Test A&quot;</span>, only=[<span class="string">&quot;Step B&quot;</span>]): <span class="comment"># run only &quot;Step B&quot;</span></span><br><span class="line">        my_scenario()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;Test B&quot;</span>, skip=Skips(<span class="string">&quot;Step B&quot;</span>)): <span class="comment"># run only &quot;Step A&quot;</span></span><br><span class="line">        my_scenario()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    my_suite()</span><br></pre></td></tr></table></figure>

<h3 id="Onlys-and-Skips-Decorators"><a href="#Onlys-and-Skips-Decorators" class="headerlink" title="Onlys and Skips Decorators"></a><code>Onlys</code> and <code>Skips</code> Decorators</h3><p>You can also specify <code>only</code> and <code>skip</code> attributes of decorated tests
using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L638">Onlys class</a> and <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L653">Skips class</a> that can act as decorators to
set <code>only</code> and <code>skip</code> attributes of a decorated test respectively.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Onlys(<span class="params">pattern, ...</span>)</span></span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Skips(<span class="params">pattern,...</span>)</span></span><br></pre></td></tr></table></figure>

<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;Step A&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;Step B&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Onlys(<span class="params"><span class="string">&quot;Step B&quot;</span></span>) </span><span class="comment"># run only &quot;Step B&quot;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_A</span>(<span class="params">self</span>):</span><br><span class="line">    my_scenario()</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Skips(<span class="params"><span class="string">&quot;Step B&quot;</span></span>) </span><span class="comment"># run only &quot;Step A</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_B</span>(<span class="params">self</span>):</span><br><span class="line">    my_scenario()</span><br></pre></td></tr></table></figure>

<h1 id="Filtering-Tests-By-Tags"><a href="#Filtering-Tests-By-Tags" class="headerlink" title="Filtering Tests By Tags"></a>Filtering Tests By Tags</h1><p>In addition to filtering test by name you can also filter them by tags.
When you filter by tags, you must specify a <code>type</code> to indicate which test <a href="#Types">Types</a>
should have the tag.</p>
<blockquote>
<p><strong>&#9995;</strong> Filtering test <a href="#Step">Step</a>s by tags is not supported.</p>
</blockquote>
<h2 id="Tags-Filtering-type"><a href="#Tags-Filtering-type" class="headerlink" title="Tags Filtering type"></a>Tags Filtering <code>type</code></h2><p>The <code>type</code> can be one of the following:</p>
<ul>
<li><code>test</code> will require all tests with <a href="#Types">Test Type</a> to have the tag<ul>
<li><code>scenario</code> is just an alias for <code>test</code></li>
</ul>
</li>
<li><code>suite</code> will require all tests with <a href="#Types">Suite Type</a> to have the tag<ul>
<li><code>feature</code> is just an alias for <code>suite</code></li>
</ul>
</li>
<li><code>module</code> will require all tests with <a href="#Types">Module Type</a> to have the tag</li>
<li><code>any</code> will require all test with either <a href="#Types">Test Type</a>, <a href="#Types">Suite Type</a> or <a href="#Types">Module Type</a> to have the tag</li>
</ul>
<h2 id="only-tags-option"><a href="#only-tags-option" class="headerlink" title="--only-tags option"></a><code>--only-tags</code> option</h2><p>If you assign tags to your tests then <a href="#%E2%80%93only-tags">–only-tags</a> option can be used to select
only the tests that match a particular tag. This option takes values
of the form <code>type:tag1</code> where <a href="#Tags-Filtering-type">type</a> is used to specify a test type
of the tests that must have the specified tag.</p>
<p>If you want to select tests that must have more than one tag use <code>type:tag1,tag2,...</code> form.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--only-tags <span class="built_in">type</span>:tag,... [<span class="built_in">type</span>:tag,... ...]     run only tests with selected tags</span><br></pre></td></tr></table></figure>

<p>For example, you can select all tests with <a href="#Types">Suite Type</a> that have <code>tag A</code> tag
as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only-tags suite:<span class="string">&quot;tag A&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can select all tests with <a href="#Types">Test Type</a> that either have <code>tag A</code> <strong>OR</strong> <code>tag B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only-tags <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span> <span class="built_in">test</span>:<span class="string">&quot;tag B&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can select all tests with <a href="#Types">Test Type</a> that have both <code>tag A</code> <strong>AND</strong> <code>tag B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only-tags <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span>,<span class="string">&quot;tag B&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can select all tests with <a href="#Types">Test Type</a> that must have either <code>tag A</code> <strong>OR</strong> (<code>tag A</code> <strong>AND</strong> <code>tag B</code>).</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only-tags <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span> <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span>,<span class="string">&quot;tag B&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="skip-tags-option"><a href="#skip-tags-option" class="headerlink" title="--skip-tags option"></a><code>--skip-tags</code> option</h2><p>If you assign tags to your tests, then you can also use <a href="#%E2%80%93skip-tags">–skip-tags</a> option to select
which tests should be skipped based on tests matching a particular tag.
Similar to <a href="#%E2%80%93only-tags">–only-tags</a> option, it also takes values
of the form <code>type:tag</code> where <a href="#Tags-Filtering-type">type</a> is used to specify a test type
of the tests that must have the specified tags.</p>
<p>If you want to skip tests that must have more than one tag use <code>type:tag1,tag2,...</code> form.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--skip-tags <span class="built_in">type</span>:tag,... [<span class="built_in">type</span>:tag,... ...]     skip tests with selected tags</span><br></pre></td></tr></table></figure>

<p>For example, you can skip all tests with <a href="#Types">Suite Type</a> that have <code>tag A</code> tag
as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --skip-tags suite:<span class="string">&quot;tag A&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can skip all tests with <a href="#Types">Test Type</a> that either have <code>tag A</code> <strong>OR</strong> <code>tag B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --skip-tags <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span> <span class="built_in">test</span>:<span class="string">&quot;tag B&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can skip all tests with <a href="#Types">Test Type</a> that have both <code>tag A</code> <strong>AND</strong> <code>tag B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --skip-tags <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span>,<span class="string">&quot;tag B&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can skip all tests with <a href="#Types">Test Type</a> that must have either <code>tag A</code> <strong>OR</strong> (<code>tag A</code> <strong>AND</strong> <code>tag B</code>).</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --skip-tags <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span> <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span>,<span class="string">&quot;tag B&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="Filtering-By-Tags-In-Code"><a href="#Filtering-By-Tags-In-Code" class="headerlink" title="Filtering By Tags In Code"></a>Filtering By Tags In Code</h2><p>In your test program, you can filter child tests by tags to control which tests are included or skipped
by setting <code>only_tags</code> and <code>skip_tags</code> test attributes.</p>
<h3 id="only-tags-and-skip-tags-Arguments"><a href="#only-tags-and-skip-tags-Arguments" class="headerlink" title="only_tags and skip_tags Arguments"></a><code>only_tags</code> and <code>skip_tags</code> Arguments</h3><p>When test is defined inline you can explicitly set filtering by tags using <code>only_tags</code> and <code>skip_tags</code>
arguments. These arguments take <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L682">OnlyTags class</a> or <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L696">SkipTags class</a> object instances, respectively,
that provide a convenient way to set these filters.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">OnlyTags(</span><br><span class="line">   test=[tagA,(tagA,tagB),...],</span><br><span class="line">   suite=[...],</span><br><span class="line">   module=[...],</span><br><span class="line">   <span class="built_in">any</span>=[...]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>or similarly</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SkipTags(</span><br><span class="line">   test=[tagA,(tagA,tagB),...],</span><br><span class="line">   suite=[...],</span><br><span class="line">   module=[...],</span><br><span class="line">   <span class="built_in">any</span>=[...]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L682">OnlyTags class</a> or <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L696">SkipTags class</a> can also act as decorators
to set <code>only_tags</code> and <code>skip_tags</code> attributes of decorated tests.
See <a href="#OnlyTags-and-SkipTags-Decorators"><code>OnlyTags</code> and <code>SkipTags</code> Decorators</a>.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my tests&quot;</span>, only_tags=OnlyTags(test=[<span class="string">&quot;tag1&quot;</span>,(<span class="string">&quot;tag1&quot;</span>,<span class="string">&quot;tag2&quot;</span>),...]), skip_tags=SkipTags(suite=[<span class="string">&quot;tag2&quot;</span>,...])</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="OnlyTags-and-SkipTags-Decorators"><a href="#OnlyTags-and-SkipTags-Decorators" class="headerlink" title="OnlyTags and SkipTags Decorators"></a><code>OnlyTags</code> and <code>SkipTags</code> Decorators</h3><p>You can also specify <code>only_tags</code> and <code>skip_tags</code> attributes of the decorated tests
using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L682">OnlyTags class</a> and <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L696">SkipTags class</a> that can act as decorators to
set <code>only_tags</code> and <code>skip_tags</code> attributes of a decorated test, respectively.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OnlyTags(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">   test=[tagA,(<span class="params">tagA,tagB</span>),...],</span></span></span><br><span class="line"><span class="params"><span class="meta">   suite=[...],</span></span></span><br><span class="line"><span class="params"><span class="meta">   module=[...],</span></span></span><br><span class="line"><span class="params"><span class="meta">   <span class="built_in">any</span>=[...]</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br></pre></td></tr></table></figure>

<p>or similarly</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SkipTags(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">   test=[tagA,(<span class="params">tagA,tagB</span>),...],</span></span></span><br><span class="line"><span class="params"><span class="meta">   suite=[...],</span></span></span><br><span class="line"><span class="params"><span class="meta">   module=[...],</span></span></span><br><span class="line"><span class="params"><span class="meta">   <span class="built_in">any</span>=[...]</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br></pre></td></tr></table></figure>

<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Tags(<span class="params"><span class="string">&quot;Tag A&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_A</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Tags(<span class="params"><span class="string">&quot;Tag B&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_B</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@OnlyTags(<span class="params">test=[<span class="string">&quot;tag A&quot;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_suite</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> loads(current_module(), Scenario):</span><br><span class="line">        scenario()</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@SkipTags(<span class="params">test=[<span class="string">&quot;tag A&quot;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_other_suite</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> loads(current_module(), Scenario):</span><br><span class="line">        scenario()</span><br></pre></td></tr></table></figure>

<h1 id="Tagging-Tests"><a href="#Tagging-Tests" class="headerlink" title="Tagging Tests"></a>Tagging Tests</h1><p>You can add <code>tags</code> to any test either by setting <a href="#tags">tags</a> parameter of the inline test
or using <a href="#tags">Tags</a> decorator if the test is defined as a decorated function. The values of the tags can be accessed
using the <code>tags</code> attribute of the test.</p>
<h2 id="tags"><a href="#tags" class="headerlink" title="tags"></a>tags</h2><p>The <a href="#tags">tags</a> parameter of the test can be used to set <a href="#tags">tags</a> of any inline test. The <a href="#tags">tags</a> parameter
can be passed either a <code>list</code>, <code>tuple</code> or a <code>set</code> of tag values. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, tags=(<span class="string">&quot;tagA&quot;</span>, <span class="string">&quot;tagB&quot;</span>)) <span class="keyword">as</span> test:</span><br><span class="line">    note(test.tags)</span><br></pre></td></tr></table></figure>
<h2 id="Tags"><a href="#Tags" class="headerlink" title="Tags"></a>Tags</h2><p>A <a href="#tags">Tags</a> decorator can be used to set <a href="#tags">tags</a> of any test that is defined used a decorated function. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Tags(<span class="params"><span class="string">&quot;tagA&quot;</span>, <span class="string">&quot;tagB&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scenario</span>(<span class="params">self</span>):</span><br><span class="line">    note(self.tags)</span><br></pre></td></tr></table></figure>

<h1 id="Test-Attributes"><a href="#Test-Attributes" class="headerlink" title="Test Attributes"></a>Test Attributes</h1><p>You can add <code>attributes</code> to any test either by setting <a href="#attributes">attributes</a> parameter of the inline test
or by using <a href="#attributes">Attributes</a> decorator if the test is defined as a decorated function. The values of the attributes can be accessed
using the <code>attributes</code> attribute of the test.</p>
<h2 id="attributes"><a href="#attributes" class="headerlink" title="attributes"></a>attributes</h2><p>The <a href="#attributes">attributes</a> parameter of the test can be used to set <a href="#attributes">attributes</a> of any inline test. The <a href="#attributes">attributes</a> parameter
can be passed either a <code>list</code> of <code>(name, value)</code> tuples or <code>Attribute</code> class instances. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, attributes=[(<span class="string">&quot;attr0&quot;</span>, <span class="string">&quot;value&quot;</span>), Attribute(<span class="string">&quot;attr1&quot;</span>, <span class="string">&quot;value&quot;</span>)] <span class="keyword">as</span> test:</span><br><span class="line">    note(test.attributes)</span><br></pre></td></tr></table></figure>

<h2 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h2><p>An <a href="#attributes">Attributes</a> decorator can be used to set <a href="#attributes">attributes</a> of any test that is defined used a decorated function. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Attributes(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;attr0&quot;</span>, <span class="string">&quot;value&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    Attribute(<span class="params"><span class="string">&quot;attr1&quot;</span>, <span class="string">&quot;value&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scenario</span>(<span class="params">self</span>):</span><br><span class="line">    note(self.attributes)</span><br></pre></td></tr></table></figure>

<h1 id="Test-Requirements"><a href="#Test-Requirements" class="headerlink" title="Test Requirements"></a>Test Requirements</h1><p>You can add <code>requirements</code> to any test either by setting <a href="#requirements">requirements</a> parameter of the inline test
or by using <a href="#requirements">Requirements</a> decorator if the test is defined as a decorated function. The values of the requirements can be accessed
using the <code>requirements</code> attribute of the test.</p>
<blockquote>
<p><strong>&#9995;</strong> <code>Requirement</code> class instances must always be called with the version number the test is expected to verify.
<code>RequirementError</code> exception will be raised if version does not match the version of the instance.</p>
</blockquote>
<h2 id="requirements"><a href="#requirements" class="headerlink" title="requirements"></a>requirements</h2><p>The <a href="#requirements">requirements</a> parameter of the test can be used to set <code>requirements</code> of any inline test. The <a href="#requirements">requirements</a> parameter
must be passed a <code>list</code> of called <code>Requirement</code> instances. of the inline test
or using <a href="#requirements">Requirements</a> decorator if the test is defined as a decorated function. The values of the requirements can be accessed
using the <code>requirements</code> attribute of the test.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">RQ1 = Requirement(<span class="string">&quot;RQ1&quot;</span>, version=<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, requirements=[RQ1(<span class="string">&quot;1.0&quot;</span>)] <span class="keyword">as</span> test:</span><br><span class="line">    note(test.requirements)</span><br></pre></td></tr></table></figure>

<h2 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h2><p>A <a href="#requirements">Requirements</a> decorator can be used to set <code>requirements</code> attribute of any test that is defined using a decorated function.
The decorator must be called with one or more called <code>Requirement</code> instances. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">RQ1 = Requirement(<span class="string">&quot;RQ1&quot;</span>, version=<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Requirements(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">    RQ1(<span class="params"><span class="string">&quot;1.0&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scenario</span>(<span class="params">self</span>):</span><br><span class="line">    note(self.requirements)</span><br></pre></td></tr></table></figure>

<h1 id="Test-Specifications"><a href="#Test-Specifications" class="headerlink" title="Test Specifications"></a>Test Specifications</h1><p>You can add <code>specifications</code> to higher level tests either by setting <a href="#specifications">specifications</a> parameter of the inline test
or using <a href="#specifications">Specifications</a> decorator if the test is defined as a decorated function. The values of the specifications can be accessed
using the <code>specifications</code> attribute of the test.</p>
<blockquote>
<p><strong>&#9995;</strong> <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L299">Specification class</a> instances may be called with the version number the test is expected to verify.
<code>SpecificationError</code> exception will be raised if the version does not match the version of the instance.</p>
</blockquote>
<h2 id="specifications"><a href="#specifications" class="headerlink" title="specifications"></a>specifications</h2><p>The <a href="#specifications">specifications</a> parameter of the test can be used to set <code>specifications</code> of any inline test. The <a href="#specifications">specifications</a> parameter
must be passed a <code>list</code> of <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L299">Specification class</a> object instances for the inline tests
or using <a href="#specifications">Specifications</a> decorator if the test is defined as a decorated function. The values of the specifications can be accessed
using the <code>specifications</code> attribute of the test.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> requirements <span class="keyword">import</span> SRS001</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, specifications=[SRS001] <span class="keyword">as</span> test:</span><br><span class="line">    note(test.specifications)</span><br></pre></td></tr></table></figure>

<h2 id="Specifications"><a href="#Specifications" class="headerlink" title="Specifications"></a>Specifications</h2><p>A <a href="#specifications">Specifications</a> decorator can be used to set <code>specifications</code> attribute of a higher level test that is defined using a decorated function.
The decorator must be called with one or more <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L299">Specification class</a> object instances. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> requirements <span class="keyword">import</span> SRS001</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="meta">@Specifications(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">    SRS001</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">feature</span>(<span class="params">self</span>):</span><br><span class="line">    note(self.specifications)</span><br></pre></td></tr></table></figure>

<h1 id="Test-Examples"><a href="#Test-Examples" class="headerlink" title="Test Examples"></a>Test Examples</h1><p>You can add <code>examples</code> to any test by setting <a href="#examples">examples</a> parameter of the inline test
or using <a href="#examples">Examples</a> decorator if the test is defined as a decorated function. The examples can be accessed
using the <code>examples</code> attribute of the test.</p>
<h2 id="examples"><a href="#examples" class="headerlink" title="examples"></a>examples</h2><p>The <a href="#examples">examples</a> parameter of the test can be used to set <code>examples</code> of any inline test. The <a href="#examples">examples</a> parameter
must be passed a table of examples, which can be defined using <code>Examples</code> class for an inline test
or using the same <a href="#examples">Examples</a> class as a decorator if the test is defined as a decorated function.
The rows of the examples table can be accessed
using the <code>examples</code> attribute of the test.</p>
<blockquote>
<p><strong>&#9995;</strong> Usually, examples are used only with test outlines. Please see <a href="#Outline">Outline</a> for more details.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, examples=Examples(<span class="string">&quot;col0 col1&quot;</span>, [(<span class="string">&quot;col0_row0&quot;</span>, <span class="string">&quot;col1_row0&quot;</span>), (<span class="string">&quot;col0_row1&quot;</span>, <span class="string">&quot;col1_row1&quot;</span>)])) <span class="keyword">as</span> test:</span><br><span class="line">    <span class="keyword">for</span> example <span class="keyword">in</span> test.examples:</span><br><span class="line">        note(<span class="built_in">str</span>(example))</span><br></pre></td></tr></table></figure>

<h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><p>An <a href="#examples">Examples</a> decorator can be used to set <code>examples</code> attribute of any test that is defined using a decorated function
or used as an argument of the <code>examples</code> parameter for the test.
The <a href="#examples">Examples</a> class defines a table of examples and should be passed a <code>header</code> and a <code>list</code> for the <code>rows</code>.</p>
<blockquote>
<p><strong>&#9995;</strong> Usually, examples are used only with test outlines. Please see <a href="#Outline">Outline</a> for more details.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;col0 col1&quot;</span>, rows=[</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;col0_row0&quot;</span>, <span class="string">&quot;col1_row0&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;col0_row1&quot;</span>, <span class="string">&quot;col1_row1&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> example <span class="keyword">in</span> self.examples:</span><br><span class="line">        note(<span class="built_in">str</span>(example))</span><br></pre></td></tr></table></figure>

<h1 id="Test-XFails"><a href="#Test-XFails" class="headerlink" title="Test XFails"></a>Test XFails</h1><p>You can specify test results to be crossed out, known as <code>xfails</code> for any test
either by setting <code>xfails</code> parameter of the inline test or by using <code>XFails</code> decorator
if the test is defined as a decorated function. See <a href="#Crossing-Out-Results">Crossing Out Results</a>
for more information.</p>
<h2 id="xfails"><a href="#xfails" class="headerlink" title="xfails"></a>xfails</h2><p>The <a href="#xfails">xfails</a> parameter of the test can be used to set <code>xfails</code> of any inline test. The <a href="#xfails">xfails</a> parameter
must be passed a dictionary of the form</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;pattern&quot;</span>:</span><br><span class="line">        [(result, <span class="string">&quot;cross out reason&quot;</span>[, when][, result_message]), ...],</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where key <code>pattern</code> is a test <a href="#pattern">pattern</a> that matches one or more tests for which one
or more results can be crossed out that are specified by the list.
A list must contain one or more <code>(result, &quot;reason&quot;[, when][, result_message])</code> tuples where
<code>result</code> shall be the result that you want to cross out, for example <a href="#Fail">Fail</a>,
the reason shall be a string that specifies a reason why this result is being
crossed out. You can also specify an optional <code>when</code> condition that shall be a function that
takes a current test object as the first and only argument and shall either return
<code>True</code> or <code>False</code>. The cross-out will only be applied if the <code>when</code> function returns <code>True</code>.
For a fine-grained control over which test results should be crossed out,
you can also specify <code>result_message</code> to select only results with a specific message.
It shall be a regex expression that will be used to match the result message
with <code>DOTALL|MULTILINE</code> flags set during matching.
If <code>result_message</code> is specified, then a test result will only be crossed out if a match is found.</p>
<blockquote>
<p><strong>&#9995;</strong> A reason for a crossed out result can be a URL such as
for an issue in an issue tracker.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Suite(<span class="string">&quot;My test&quot;</span>, xfails=&#123;<span class="string">&quot;my_test&quot;</span>: [(Fail, <span class="string">&quot;needs to be investigated&quot;</span>)]&#125;):</span><br><span class="line">    Scenario(name=<span class="string">&quot;my_test&quot;</span>, run=my_test)</span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Suite(run=my_suite, xfails=&#123;<span class="string">&quot;my test&quot;</span>: [Fail, <span class="string">&quot;https://my.issue.tracker.com/issue34567&quot;</span>]&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> If the test <code>pattern</code> is not absolute, then it is
anchored to the test where <a href="#xfails">xfails</a> is specified.</p>
</blockquote>
<h2 id="XFails"><a href="#XFails" class="headerlink" title="XFails"></a>XFails</h2><p>The <a href="#xfails">XFails</a> decorator can be used to set <code>xfails</code> attribute of any test that is defined using a decorated function
or used as an extra argument when defining a row for the <a href="#examples">examples</a> of the test.
The <a href="#xfails">XFails</a> decorator takes a dictionary of the same form as the <a href="#xfails">xfails</a> parameter, where
you can also specify <code>when</code> and <code>result_message</code> arguments.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@XFails(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my_test&quot;</span>: [</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params">Fail, <span class="string">&quot;needs to be investigated&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">    ]</span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">suite</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(run=my_test)</span><br></pre></td></tr></table></figure>

<h1 id="Test-XFlags"><a href="#Test-XFlags" class="headerlink" title="Test XFlags"></a>Test XFlags</h1><p>You can specify flags to be externally set or cleared for any test by setting <code>xflags</code> parameter or using <code>XFlags</code> decorator
for decorated tests. See <a href="#Setting-or-Clearing-Flags">Setting or Clearing Flags</a>.</p>
<h2 id="xflags"><a href="#xflags" class="headerlink" title="xflags"></a>xflags</h2><p>The <a href="#xflags">xflags</a> parameter of the test can be used to set <code>xflags</code> of a test. The <a href="#xflags">xflags</a> parameter
must be passed a dictionary of the form</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;pattern&quot;</span>:</span><br><span class="line">        (set_flags, clear_flags[, when]),</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where key <code>pattern</code> is a test <a href="#pattern">pattern</a> that matches one or more tests for which
flags will be set or cleared. The flags to be set or cleared are
specified by a tuple of the form <code>(set_flags, clear_flags[, when])</code> where the
first element specifies flags to be set, and the second element specifies
flags to be cleared. An optional <code>when</code> condition can be specified that shall be a function that
takes a current test object as the first and only argument and shall either return
<code>True</code> or <code>False</code>. If specified, the flags will only be set and cleared if
the <code>when</code> function returns <code>True</code>.</p>
<p>Here is an example to set <a href="#TE">TE</a> flag and to clear the <a href="#Skip">SKIP</a> flag,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Suite(<span class="string">&quot;My test&quot;</span>, xflags=&#123;<span class="string">&quot;my_test&quot;</span>: (TE, SKIP)&#125;):</span><br><span class="line">    Scenario(name=<span class="string">&quot;my_test&quot;</span>, run=my_test)</span><br></pre></td></tr></table></figure>

<p>or just set <a href="#Skip">SKIP</a> flag without clearing any other flag</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Suite(run=my_suite, xflags=&#123;<span class="string">&quot;my test&quot;</span>: (SKIP, <span class="number">0</span>)&#125;)</span><br></pre></td></tr></table></figure>

<p>and multiple flags can be combined using the binary <code>OR</code> (<code>|</code>) operator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># clear SKIP and TE flags for &quot;my test&quot;</span></span><br><span class="line">Suite(run=my_suite, xflags=&#123;<span class="string">&quot;my test&quot;</span>: (<span class="number">0</span>, SKIP|TE)&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> If the test <code>pattern</code> is not absolute then it is
anchored to the test where <a href="#xflags">xflags</a> is being specified.</p>
</blockquote>
<h2 id="XFlags"><a href="#XFlags" class="headerlink" title="XFlags"></a>XFlags</h2><p>The <a href="#xflags">XFlags</a> decorator can be used to set <code>xflags</code> attribute of any test that is defined using a decorated function
or used as an extra argument when defining a row for the <a href="#examples">examples</a> of the test.</p>
<p>The <a href="#xflags">XFlags</a> decorator takes a dictionary of the same form as the <a href="#xflags">xflags</a> parameter.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@XFlags(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my_test&quot;</span>: (<span class="params">TE, SKIP</span>) <span class="comment"># set TE and clear SKIP flags</span></span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">suite</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(run=my_test)</span><br></pre></td></tr></table></figure>

<h1 id="Test-FFails"><a href="#Test-FFails" class="headerlink" title="Test FFails"></a>Test FFails</h1><p>You can force the result, including <a href="#Fail">Fail</a> result, of any test by setting
<code>ffails</code> parameter or using <code>FFails</code> decorator
for decorated tests. See <a href="#Forcing-Results">Forcing Results</a>.</p>
<h2 id="ffails"><a href="#ffails" class="headerlink" title="ffails"></a>ffails</h2><p>The <a href="#ffails">ffails</a> parameter of the test can be used to force any result of a test, including <a href="#Fail">Fail</a>
while skipping the execution of its test body. The <a href="#ffails">ffails</a> parameter
must be passed a dictionary of the form</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;pattern&quot;</span>:</span><br><span class="line">        (Result, reason[, when]),</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where key <code>pattern</code> is a test <a href="#pattern">pattern</a> that matches one or more tests for which
the result will be set by force, and the body of the test will not be executed.
The forced result is specified by a two-tuple of the form <code>(Result, reason)</code> where the
first element specifies the force test result, such as <a href="#Fail">Fail</a>, and the second element specifies
the reason for forcing the result as a string.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Suite(<span class="string">&quot;My test&quot;</span>, ffails=&#123;<span class="string">&quot;my_test&quot;</span>: (Fail, <span class="string">&quot;test gets stuck&quot;</span>)&#125;):</span><br><span class="line">    Scenario(name=<span class="string">&quot;my_test&quot;</span>, run=my_test)</span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Suite(run=my_suite, ffails=&#123;<span class="string">&quot;my test&quot;</span>: (Skip, <span class="string">&quot;not supported&quot;</span>)&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> If the test <code>pattern</code> is not absolute then it is
anchored to the test where <a href="#ffails">ffails</a> is being specified.</p>
</blockquote>
<h3 id="Optional-when-Condition"><a href="#Optional-when-Condition" class="headerlink" title="Optional when Condition"></a>Optional <code>when</code> Condition</h3><p>Optionally, the tuple can include
a <code>when</code> condition, specified as a function, as the last element.
If present, the <code>when</code> function is called before test execution.
The boolean result returned by the <code>when</code> function determines if the forced result is applied,
if the function returns <code>True</code>, or not, if it returns <code>False</code>.
The <code>when</code> function must take one argument, which is the instance of the test.</p>
<blockquote>
<p><strong>&#9995;</strong> The optional <code>when</code> function can define any logic that
is needed to determine if some condition is met. Any <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#callable">callable</a> that
takes a current test object as the first and only argument can be used.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">version</span>(<span class="params">*versions</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check if the value of version test context variable</span></span><br><span class="line"><span class="string">    matches any in the list.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_when</span>(<span class="params">test</span>):</span><br><span class="line">        <span class="keyword">return</span> test.context.version <span class="keyword">in</span> versions</span><br><span class="line">    <span class="keyword">return</span> _when</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>):</span><br><span class="line">    <span class="comment"># force to skip my_suite test only on version 2.0</span></span><br><span class="line">    Suite(run=my_suite, ffails=&#123;<span class="string">&quot;my test&quot;</span>: (Skip, <span class="string">&quot;not supported&quot;</span>, version(<span class="string">&quot;2.0&quot;</span>))&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="FFails"><a href="#FFails" class="headerlink" title="FFails"></a>FFails</h2><p>The <a href="#ffails">FFails</a> decorator can be used to set <code>ffails</code> attribute of any test that is defined using a decorated function
or used as an extra argument when defining a row for the <a href="#examples">examples</a> of the test.</p>
<p>The <a href="#ffails">FFails</a> decorator takes a dictionary of the same form as the <a href="#ffails">ffails</a> parameter.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@FFails(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my test&quot;</span>: (<span class="params">Fail, <span class="string">&quot;test gets stuck&quot;</span></span>) <span class="comment"># force fail &quot;my test&quot; because it gets stuck</span></span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">suite</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(run=my_test)</span><br></pre></td></tr></table></figure>

<p>The optional <code>when</code> function can also be specified.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">version</span>(<span class="params">*versions</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check if the value of version test context variable</span></span><br><span class="line"><span class="string">    matches any in the list.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_when</span>(<span class="params">test</span>):</span><br><span class="line">        <span class="keyword">return</span> test.context.version <span class="keyword">in</span> versions</span><br><span class="line">    <span class="keyword">return</span> _when</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@FFails(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my test&quot;</span>: (<span class="params">Fail, <span class="string">&quot;test gets stuck&quot;</span>, version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>) <span class="comment"># force fail &quot;my test&quot; because it gets stuck on version 2.0</span></span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">suite</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(run=my_test)</span><br></pre></td></tr></table></figure>

<h1 id="Specialized-keywords"><a href="#Specialized-keywords" class="headerlink" title="Specialized keywords"></a>Specialized keywords</h1><p>when writing your test scenarios, the framework encourages the usage of specialized keywords because they can provide
the much-needed context for your steps.</p>
<p>The specialized keywords map to core <a href="#Step">Step</a>, <a href="#Test">Test</a>, <a href="#Suite">Suite</a>, and <a href="#Module">Module</a> test definition classes as follows:</p>
<ul>
<li><a href="#Module">Module</a> is defined as a <a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a> is defined as a <a href="#Feature">Feature</a></li>
<li><a href="#Test">Test</a> is defined as a <a href="#Scenario">Scenario</a></li>
<li><a href="#Step">Step</a> is defined as one of the following:<ul>
<li><a href="#Given">Given</a> is used define a step for precondition or setup</li>
<li><a href="#Background">Background</a> is used define a step for a complex precondition or setup</li>
<li><a href="#When">When</a> is used to define a step for an action</li>
<li><a href="#And">And</a> is used as a continuation of the previous step</li>
<li><a href="#By">By</a> is used to define a sub-step</li>
<li><a href="#Then">Then</a> is used to define a step for positive assertion</li>
<li><a href="#But">But</a> is used to define a step for negative assertion</li>
<li><a href="#Finally">Finally</a> is used to define a cleanup step</li>
</ul>
</li>
</ul>
<h1 id="Semi-Automated-And-Manual-Tests"><a href="#Semi-Automated-And-Manual-Tests" class="headerlink" title="Semi-Automated And Manual Tests"></a>Semi-Automated And Manual Tests</h1><p>Tests can be semi-automated and include one or more manual steps, or
be fully manual.</p>
<blockquote>
<p><strong>&#9995;</strong> It is often common to use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L325">input() function</a> to prompt
for input during execution of semi-automated or manual tests. See <a href="#Reading-Input">Reading Input</a>.</p>
</blockquote>
<h2 id="Semi-Automated"><a href="#Semi-Automated" class="headerlink" title="Semi-Automated"></a>Semi-Automated</h2><p>Semi-automated tests are tests that have one or more steps with the <a href="#MANUAL">MANUAL</a> flag set.</p>
<blockquote>
<p><strong>&#9995;</strong> <a href="#MANUAL">MANUAL</a> test flag is propagated down to all sub-tests.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my mixed scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;automated setup&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;manual step&quot;</span>, flags=MANUAL):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>When a semi-automated test is run, the test program pauses and asks for input
for each manual step.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Sep 06,2021 18:39:00   ⟥  Scenario my mixed scenario</span><br><span class="line">Sep 06,2021 18:39:00     ⟥  Given automated setup, flags:MANDATORY</span><br><span class="line">               559us     ⟥⟤ OK automated setup, /my mixed scenario/automated setup</span><br><span class="line">Sep 06,2021 18:39:00     ⟥  Step manual step, flags:MANUAL</span><br><span class="line">✍  Enter `manual step` result? OK</span><br><span class="line">✍  Is this correct [Y/n]? Y</span><br><span class="line">            3s 203ms     ⟥⟤ OK manual step, /my mixed scenario/manual step</span><br><span class="line">            3s 212ms   ⟥⟤ OK my mixed scenario, /my mixed scenario</span><br></pre></td></tr></table></figure>

<h2 id="Manual"><a href="#Manual" class="headerlink" title="Manual"></a>Manual</h2><p>A manual test is just a test that has <a href="#MANUAL">MANUAL</a> flag set at the test level.
Any sub-tests, such as steps, inherit <a href="#MANUAL">MANUAL</a> flag from the parent test.</p>
<blockquote>
<p><strong>&#9995;</strong> Manual tests are best executed using <a href="#manual-Output">manual output</a> format.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;manual scenario&quot;</span>, flags=MANUAL):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;manual setup&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;manual action&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>When a manual test is run, the test program pauses for each test step as well as to get
the result of the test itself.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Sep 06,2021 18:44:30   ⟥  Scenario manual scenario, flags:MANUAL</span><br><span class="line">Sep 06,2021 18:44:30     ⟥  Given manual setup, flags:MANUAL|MANDATORY</span><br><span class="line">✍  Enter `manual setup` result? OK</span><br><span class="line">✍  Is this correct [Y/n]? Y</span><br><span class="line">            3s 168ms     ⟥⟤ OK manual setup, /manual scenario/manual setup</span><br><span class="line">Sep 06,2021 18:44:33     ⟥  When manual action, flags:MANUAL</span><br><span class="line">✍  Enter `manual action` result? OK</span><br><span class="line">✍  Is this correct [Y/n]? Y</span><br><span class="line">            6s 529ms     ⟥⟤ OK manual action, /manual scenario/manual action</span><br><span class="line">✍  Enter `manual scenario` result? OK</span><br><span class="line">✍  Is this correct [Y/n]? Y</span><br><span class="line">           13s 368ms   ⟥⟤ OK manual scenario, /manual scenario</span><br></pre></td></tr></table></figure>

<h2 id="Manual-With-Automated-Steps"><a href="#Manual-With-Automated-Steps" class="headerlink" title="Manual With Automated Steps"></a>Manual With Automated Steps</h2><p>A test that has <a href="#MANUAL">MANUAL</a> flag could also include some automated steps,
which can be marked as automated using <a href="#AUTO">AUTO</a> flag.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;manual scenario&quot;</span>, flags=MANUAL):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;manual setup&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;automated action&quot;</span>, flags=AUTO):</span><br><span class="line">        note(<span class="string">&quot;some note&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>When the above example is executed, it will produce the following output that shows that the
result for <code>/manual scenario/automated action</code> was set automatically
based on the automated actions performed in this step.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Oct 31,2021 18:24:53   ⟥  Scenario manual scenario, flags:MANUAL</span><br><span class="line">Oct 31,2021 18:24:53     ⟥  Given manual setup, flags:MANUAL|MANDATORY</span><br><span class="line">✍  Enter `manual setup` result?</span><br><span class="line">✍  Is this correct [Y/n]?</span><br><span class="line">            1s 410ms     ⟥⟤ OK manual setup, /manual scenario/manual setup</span><br><span class="line">Oct 31,2021 18:24:54     ⟥  When automated action, flags:AUTO</span><br><span class="line">               304us     ⟥    [note] some note</span><br><span class="line">               374us     ⟥⟤ OK automated action, /manual scenario/automated action</span><br><span class="line">✍  Enter `manual scenario` result?</span><br><span class="line">✍  Is this correct [Y/n]?</span><br><span class="line">            5s 611ms   ⟥⟤ OK manual scenario, /manual scenario</span><br></pre></td></tr></table></figure>

<h1 id="Test-Definition-Classes"><a href="#Test-Definition-Classes" class="headerlink" title="Test Definition Classes"></a>Test Definition Classes</h1><h2 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h2><p>A <a href="#Module">Module</a> can be defined using <a href="#Module">Module</a> test definition class or <a href="#Module">TestModule</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">module</span>(<span class="params">self</span>):</span><br><span class="line">    Feature(run=feature)</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;module&quot;</span>):</span><br><span class="line">    Feature(run=feature)</span><br></pre></td></tr></table></figure>

<h2 id="Suite"><a href="#Suite" class="headerlink" title="Suite"></a>Suite</h2><p>A <a href="#Suite">Suite</a> can be defined using <a href="#Suite">Suite</a> test definition class or <a href="#Suite">TestSuite</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My suite&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">suite</span>(<span class="params">self</span>):</span><br><span class="line">    Test(run=testcase)</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Suite(<span class="string">&quot;My suite&quot;</span>):</span><br><span class="line">    Test(run=testcase)</span><br></pre></td></tr></table></figure>

<h2 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h2><p>A <a href="#Feature">Feature</a> can be defined using <a href="#Feature">Feature</a> test definition class or <a href="#Feature">TestFeature</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My feature&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">feature</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(run=scenario)</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Feature(<span class="string">&quot;My feature&quot;</span>):</span><br><span class="line">    Scenario(run=scenario)</span><br></pre></td></tr></table></figure>

<h2 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h2><p>A <a href="#Case-is">Case</a> can be defined using <a href="#Test">Test</a> test definition class or <a href="#Test">TestCase</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestCase</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My testcase&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">testcase</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;do something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My testcase&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;do something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> Note that here the word <code>test</code> is used to define a <a href="#Case-is">Case</a> to match the most common meaning of the word <code>test</code>.
When someone says they will run a <code>test</code> they most likely mean they will run a test <a href="#Case-is">Case</a>.</p>
</blockquote>
<h2 id="Scenario"><a href="#Scenario" class="headerlink" title="Scenario"></a>Scenario</h2><p>A <a href="#Scenario">Scenario</a> can be defined using <a href="#Scenario">Scenario</a> test definition class or <a href="#Scenario">TestScenario</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My scenario&quot;</span></span>):</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Check"><a href="#Check" class="headerlink" title="Check"></a>Check</h2><p>A <a href="#Check">Check</a> can be defined using <a href="#Check">Check</a> test definition class or <a href="#Check">TestCheck</a> decorator</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestCheck</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My check&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Check(<span class="string">&quot;My check&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>and is usually used inside either <a href="#Test">Test</a> or <a href="#Scenario">Scenario</a> to define an inline sub-test</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Check(<span class="string">&quot;My check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Check(<span class="string">&quot;My other check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Critical-Major-Minor"><a href="#Critical-Major-Minor" class="headerlink" title="Critical, Major, Minor"></a>Critical, Major, Minor</h2><p>A <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a>, or <a href="#Critical-Major-Minor">Minor</a> checks can be defined using <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a>
or <a href="#Critical-Major-Minor">Minor</a> test definition class, respectively, or similarly using <a href="#Critical-Major-Minor">TestCritical</a>, <a href="#Critical-Major-Minor">TestMajor</a>,
<a href="#Critical-Major-Minor">TestMinor</a> decorators</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestCritical</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My critical check&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">critical</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestMajor</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My major check&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">major</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestMinor</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My minor minor&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">minor</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Critical(<span class="string">&quot;My critical check&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Major(<span class="string">&quot;My major check&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Minor(<span class="string">&quot;My minor check&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>and are usually used inside either <a href="#Test">Test</a> or <a href="#Scenario">Scenario</a> to define inline sub-tests.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Critical(<span class="string">&quot;my critical check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Major(<span class="string">&quot;my major check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Minor(<span class="string">&quot;my minor check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>These classes are usually used for the classification of checks during reporting.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 scenario (1 ok)</span><br><span class="line">1 critical (1 ok)</span><br><span class="line">1 major (1 ok)</span><br><span class="line">1 minor (1 ok)</span><br></pre></td></tr></table></figure>

<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>An <a href="#Example">Example</a> can only be defined inline using <a href="#Example">Example</a> test definition class. There is no decorator
to define it outside of existing test. An <a href="#Example">Example</a> is of a <a href="#Types">Test Type</a> and is used to define
one or more sub-tests. Usually, <a href="#Example">Example</a>s are created automatically using <a href="#Outline">Outline</a>s.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Example(<span class="string">&quot;Example 1&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Example(<span class="string">&quot;Example 2&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Outline"><a href="#Outline" class="headerlink" title="Outline"></a>Outline</h2><p>An <a href="#Outline">Outline</a> can be defined using <a href="#Outline">Outline</a> test definition class or <a href="#Outline">TestOutline</a> decorator.
An <a href="#Outline">Outline</a> has its own test <a href="#Types">Type</a> but can be made specific when defined using <a href="#Outline">TestOutline</a>
decorator by passing it a specific <a href="#Types">Type</a> or a <a href="#Sub-Types">Sub-Type</a> such as <a href="#Scenario">Scenario</a> or <a href="#Suite">Suite</a> etc.</p>
<p>However, because <a href="#Outline">Outline</a>s are meant to be called from other tests or used with <a href="#examples">Examples</a>
it is best to define an <a href="#Outline">Outline</a> using <a href="#Outline">TestOutline</a> decorator as follows.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestOutline(<span class="params">Scenario</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;greeting name&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;John&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Goodbye&quot;</span>, <span class="string">&quot;Eric&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">outline</span>(<span class="params">self, greeting, name</span>):</span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;greeting&#125;</span> <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br><span class="line"></span><br><span class="line">outline()</span><br></pre></td></tr></table></figure>

<p>When <a href="#examples">Examples</a> are defined for the <a href="#Outline">Outline</a> and an outline is called with no arguments from a test
that is of a higher <a href="#Types">Type</a> than the <a href="#Types">Type</a> of outline itself, then when called, the outline will iterate over all
the examples defined in the <a href="#examples">Examples</a> table. For example,if you run the example above that executes the outline
with no arguments, you will see that the outline iterates over all the examples in the <a href="#examples">Examples</a> table, where
each example, a row in the examples table, defines the values of the arguments for the outline.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Jul 05,2020 18:16:34   ⟥  Scenario outline</span><br><span class="line">                            Examples</span><br><span class="line">                              greeting | name</span><br><span class="line">                              -------- | ----</span><br><span class="line">                              Hello    | John</span><br><span class="line">                              Goodbye  | Eric</span><br><span class="line">Jul 05,2020 18:16:34     ⟥  Example greeting=<span class="string">&#x27;Hello&#x27;</span>, name=<span class="string">&#x27;John&#x27;</span></span><br><span class="line">                              Arguments</span><br><span class="line">                                greeting</span><br><span class="line">                                  Hello</span><br><span class="line">                                name</span><br><span class="line">                                  John</span><br><span class="line">               757us     ⟥    [note] Hello John!</span><br><span class="line">               868us     ⟥⟤ OK greeting=<span class="string">&#x27;Hello&#x27;</span>, name=<span class="string">&#x27;John&#x27;</span>, /outline/greeting=<span class="string">&#x27;Hello&#x27;</span>, name=<span class="string">&#x27;John&#x27;</span></span><br><span class="line">Jul 05,2020 18:16:34     ⟥  Example greeting=<span class="string">&#x27;Goodbye&#x27;</span>, name=<span class="string">&#x27;Eric&#x27;</span></span><br><span class="line">                              Arguments</span><br><span class="line">                                greeting</span><br><span class="line">                                  Goodbye</span><br><span class="line">                                name</span><br><span class="line">                                  Eric</span><br><span class="line">               675us     ⟥    [note] Goodbye Eric!</span><br><span class="line">               766us     ⟥⟤ OK greeting=<span class="string">&#x27;Goodbye&#x27;</span>, name=<span class="string">&#x27;Eric&#x27;</span>, /outline/greeting=<span class="string">&#x27;Goodbye&#x27;</span>, name=<span class="string">&#x27;Eric&#x27;</span></span><br><span class="line">                 4ms   ⟥⟤ OK outline, /outline</span><br></pre></td></tr></table></figure>

<p>If we run the same outline with arguments, then the outline will not use the <a href="#examples">Examples</a> but instead will
use the argument values that were provided to the outline. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    outline(greeting=<span class="string">&quot;Hey&quot;</span>, name=<span class="string">&quot;Bob&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>will produce the following output.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Jul 05,2020 18:23:02   ⟥  Scenario My scenario</span><br><span class="line">                 1ms   ⟥    [note] Hey Bob!</span><br><span class="line">                 2ms   ⟥⟤ OK My scenario, /My scenario</span><br></pre></td></tr></table></figure>

<h3 id="Setting-Parameters"><a href="#Setting-Parameters" class="headerlink" title="Setting Parameters"></a>Setting Parameters</h3><h4 id="For-an-Example"><a href="#For-an-Example" class="headerlink" title="For an Example"></a><strong>For an Example</strong></h4><p>You can set parameters for an individual example by specifying them right after the values for the example row.</p>
<blockquote>
<p><strong>&#9995;</strong> Any test parameters that are specified for the example will override any common parameter values.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestOutline(<span class="params">Scenario</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;greeting name&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;John&quot;</span>, &#123;<span class="string">&quot;tags&quot;</span>: (<span class="params"><span class="string">&quot;tag0&quot;</span>, <span class="string">&quot;tag1&quot;</span></span>), <span class="string">&quot;attributes&quot;</span>: [(<span class="params"><span class="string">&quot;attr0&quot;</span>, <span class="string">&quot;value0&quot;</span></span>)]&#125;</span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Goodbye&quot;</span>, <span class="string">&quot;Eric&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">outline</span>(<span class="params">self, greeting, name</span>):</span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;greeting&#125;</span> <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="For-All-Examples"><a href="#For-All-Examples" class="headerlink" title="For All Examples"></a><strong>For All Examples</strong></h4><p>You can set common parameter values for all the examples specified by the <a href="#examples">Examples</a> table using the <code>args</code> parameter
and passing it a <code>dict</code> with parameter values as the argument.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that parameters set for a specific example override any common values.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestOutline(<span class="params">Scenario</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;greeting name&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;John&quot;</span>, &#123;<span class="string">&quot;tags&quot;</span>: (<span class="params"><span class="string">&quot;tag0&quot;</span>, <span class="string">&quot;tag1&quot;</span></span>), <span class="string">&quot;attributes&quot;</span>:[(<span class="params"><span class="string">&quot;attr0&quot;</span>, <span class="string">&quot;value0&quot;</span></span>)]&#125;</span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Goodbye&quot;</span>, <span class="string">&quot;Eric&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">], args=&#123;<span class="string">&quot;tags&quot;</span>: (<span class="params"><span class="string">&quot;common_tag0&quot;</span>, <span class="string">&quot;common_tag1&quot;</span></span>)&#125;</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">outline</span>(<span class="params">self, greeting, name</span>):</span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;greeting&#125;</span> <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Iteration"><a href="#Iteration" class="headerlink" title="Iteration"></a>Iteration</h2><p>An <a href="#Iteration">Iteration</a> is not meant to be used explicitly, and in most cases it is only used
internally to implement test repetitions.</p>
<h2 id="RetryIteration"><a href="#RetryIteration" class="headerlink" title="RetryIteration"></a>RetryIteration</h2><p>A <a href="#RetryIteration">RetryIteration</a> is not meant to be used explicitly and, in most cases, is only used
internally to implement test retries.</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><p>A <a href="#Step">Step</a> can be defined using <a href="#Step">Step</a> test definition class or <a href="#Step">TestStep</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">step</span>(<span class="params">self</span>):</span><br><span class="line">    note(<span class="string">&quot;generic test step&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>A <a href="#Step">TestStep</a> can be made specific by passing it a specific [BBD] step <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">When</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">step</span>(<span class="params">self</span>):</span><br><span class="line">    note(<span class="string">&quot;a When step&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>A <a href="#Step">Step</a> can be defined inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Step(<span class="string">&quot;step&quot;</span>):</span><br><span class="line">    note(<span class="string">&quot;generic test step&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Given"><a href="#Given" class="headerlink" title="Given"></a>Given</h2><p>A <a href="#Given">Given</a> step is used to define preconditions or setup and is always treated as a mandatory step
that can’t be skipped because <a href="#MANDATORY">MANDATORY</a> flag will be set by default.
It is defined using <a href="#Given">Given</a> test definition class or using <a href="#Step">TestStep</a> with <a href="#Given">Given</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">Given</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">I_have_something</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>A <a href="#Background">Background</a> step is used to define a complex preconditions or setup, usually containing multiple
<a href="#Given">Given</a>‘s and can be defined using <a href="#Background">Background</a> test definition class or <a href="#Background">TestBackground</a>
decorator. It is treated as a mandatory step that can’t be skipped.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestBackground</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My complex setup&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">background</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I need to setup something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> And(<span class="string">&quot;I need to setup something else&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Background(<span class="string">&quot;My complex setup&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I need to setup something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> And(<span class="string">&quot;I need to setup something else&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="When"><a href="#When" class="headerlink" title="When"></a>When</h2><p>A <a href="#When">When</a> step is used to define an action within a <a href="#Scenario">Scenario</a>. It can be defined using <a href="#When">When</a> test definition class
or using <a href="#Step">TestStep</a> decorator with <a href="#When">When</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">When</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">I_do_some_action</span>(<span class="params">self</span>):</span><br><span class="line">    do_some_action()</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> When(<span class="string">&quot;I do some action&quot;</span>):</span><br><span class="line">    do_some_action()</span><br></pre></td></tr></table></figure>

<h2 id="And"><a href="#And" class="headerlink" title="And"></a>And</h2><p>An <a href="#And">And</a> step is used to define a step of the same <a href="#Sub-Types">Sub-Type</a> as the step right above it.
It is defined using <a href="#And">And</a> test definition class.</p>
<blockquote>
<p><strong>&#9995;</strong> It does not make sense to use <a href="#Step">TestStep</a> decorator to define it, so always define it inline.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> When(<span class="string">&quot;I do some action&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> And(<span class="string">&quot;I do another action&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I do some action to setup things&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> And(<span class="string">&quot;I do another action to continue the setup&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> <code>TypeError</code> exception will be raised if the <a href="#And">And</a> step is defined where it has no siblings. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">  <span class="comment"># TypeError exception will be raised on the next line</span></span><br><span class="line">  <span class="comment"># and can be fixed by changing the `And` step into a `When` step</span></span><br><span class="line">  <span class="keyword">with</span> And(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">      <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>with the exception being as follows.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: `And` subtype can&#x27;t be used here as it has no sibling from which to inherit the subtype</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> <code>TypeError</code> exception will also be raised if the <a href="#Types">Type</a> of the sibling does not match the <a href="#Types">Type</a> of the <a href="#And">And</a> step.
For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">  <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># TypeError exception will be raised on the next line</span></span><br><span class="line"><span class="comment"># and can be fixed by changing the `And` step into a `When` step</span></span><br><span class="line"><span class="keyword">with</span> And(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">  <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>with the exception being as follows.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: `And` subtype can&#x27;t be used here as it sibling is not of the same type</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="By"><a href="#By" class="headerlink" title="By"></a>By</h2><p>A <a href="#By">By</a> step is usually used to define a sub-step using <a href="#By">By</a> test definition class.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> By(<span class="string">&quot;doing some action&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Then"><a href="#Then" class="headerlink" title="Then"></a>Then</h2><p>A <a href="#Then">Then</a> step is used to define a step that usually contains a positive assertion.
It can be defined using <a href="#Then">Then</a> test definition class
or using <a href="#Step">TestStep</a> decorator with <a href="#Then">Then</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">Then</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">I_check_something_is_true</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">assert</span> something</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Then(<span class="string">&quot;I expect something&quot;</span>):</span><br><span class="line">    <span class="keyword">assert</span> something</span><br></pre></td></tr></table></figure>

<h2 id="But"><a href="#But" class="headerlink" title="But"></a>But</h2><p>A companion of the <a href="#Then">Then</a> step is a <a href="#But">But</a> step and is
used to define a step that usually contains a negative assertion.
It can be defined using <a href="#But">But</a> test definition class
or using <a href="#Step">TestStep</a> decorator with <a href="#But">But</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">But</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">I_check_something_is_not_true</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">assert</span> <span class="keyword">not</span> something</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> But(<span class="string">&quot;I check something is not true&quot;</span>):</span><br><span class="line">    <span class="keyword">assert</span> <span class="keyword">not</span> something</span><br></pre></td></tr></table></figure>

<h2 id="Finally"><a href="#Finally" class="headerlink" title="Finally"></a>Finally</h2><p>A <a href="#Finally">Finally</a> step is used to define a cleanup step and is treated as a mandatory step
that can’t be skipped because <a href="#MANDATORY">MANDATORY</a> flag will be set by default.</p>
<p>It can be defined using <a href="#Finally">Finally</a> test definition class
or using <a href="#Step">TestStep</a> decorator with <a href="#Finally">Finally</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">Finally</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">I_clean_up</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Finally(<span class="string">&quot;I clean up&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>The <a href="#TE">TE</a> flag is always set for <a href="#Finally">Finally</a> steps as multiple <a href="#Finally">Finally</a>
steps can be defined back to back and the failure
of a previous step should not prevent execution of other <a href="#Finally">Finally</a> steps that follow.</p>
<h1 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h1><p>The framework was implemented with the following concepts and definitions in mind.
These definitions were used as a guideline to implement the test <a href="#Tree-is">Tree</a> hierarchy.
While the implementation does not strictly enforce these concepts, users are encouraged
to apply these definitions during the design of their tests.</p>
<h2 id="Everything-is-a-Test"><a href="#Everything-is-a-Test" class="headerlink" title="Everything is a Test"></a>Everything is a Test</h2><p>The framework treats everything as a test, including setup and teardown.</p>
<h2 id="Definitions"><a href="#Definitions" class="headerlink" title="Definitions"></a>Definitions</h2><h3 id="Test-is"><a href="#Test-is" class="headerlink" title="Test is"></a>Test is</h3><p>something that produces a result.</p>
<h3 id="Flow-is"><a href="#Flow-is" class="headerlink" title="Flow is"></a>Flow is</h3><p>a specific order of execution of <a href="#Test-is">Tests</a></p>
<h3 id="Tree-is"><a href="#Tree-is" class="headerlink" title="Tree is"></a>Tree is</h3><p>a rooted tree graph that results from the execution of a <a href="#Flow-is">Flow</a></p>
<h3 id="Step-is"><a href="#Step-is" class="headerlink" title="Step is"></a>Step is</h3><p>is a lowest level <a href="#Test-is">Test</a></p>
<h3 id="Case-is"><a href="#Case-is" class="headerlink" title="Case is"></a>Case is</h3><p>a <a href="#Test-is">Test</a> that is made up of one or more <a href="#Step-is">Steps</a></p>
<h3 id="Suite-is"><a href="#Suite-is" class="headerlink" title="Suite is"></a>Suite is</h3><p>is a <a href="#Test-is">Test</a> that is made up of one or more <a href="#Case-is">Cases</a></p>
<h3 id="Module-is"><a href="#Module-is" class="headerlink" title="Module is"></a>Module is</h3><p>a <a href="#Test-is">Test</a> that is made up of one or more <a href="#Suite-is">Suites</a></p>
<h1 id="Types"><a href="#Types" class="headerlink" title="Types"></a>Types</h1><p>The framework divides tests into the following <a href="#Types">Types</a> from highest to the lowest</p>
<ul>
<li><a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a></li>
<li><a href="#Test">Test</a></li>
<li><a href="#Outline">Outline</a></li>
<li><a href="#Iteration">Iteration</a></li>
<li><a href="#RetryIteration">RetryIteration</a></li>
<li><a href="#Step">Step</a></li>
</ul>
<p>Children of each <a href="#Types">Type</a> usually must be of the same <a href="#Types">Type</a> or lower, with the only notable exception
being an <a href="#Iteration">Iteration</a> that is used to implement test repetitions.</p>
<h1 id="Sub-Types"><a href="#Sub-Types" class="headerlink" title="Sub-Types"></a>Sub-Types</h1><p>The framework uses the following <a href="#Sub-Types">Sub-Types</a> in order to provide more flexibility and implement specialized keywords</p>
<ul>
<li><a href="#Feature">Feature</a></li>
<li><a href="#Scenario">Scenario</a></li>
<li><a href="#Example">Example</a></li>
<li><a href="#Check">Check</a></li>
<li><a href="#Critical-Major-Minor">Critical</a></li>
<li><a href="#Critical-Major-Minor">Major</a></li>
<li><a href="#Critical-Major-Minor">Minor</a></li>
<li><a href="#Background">Background</a></li>
<li><a href="#Given">Given</a></li>
<li><a href="#When">When</a></li>
<li><a href="#Then">Then</a></li>
<li><a href="#And">And</a></li>
<li><a href="#But">But</a></li>
<li><a href="#By">By</a></li>
<li><a href="#Finally">Finally</a></li>
</ul>
<h1 id="Sub-Types-Mapping"><a href="#Sub-Types-Mapping" class="headerlink" title="Sub-Types Mapping"></a>Sub-Types Mapping</h1><p>The <a href="#Sub-Types">Sub-Types</a> have the following mapping to the core six <a href="#Types">Types</a></p>
<ul>
<li><a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a><ul>
<li><a href="#Feature">Feature</a></li>
</ul>
</li>
<li><a href="#Test">Test</a><ul>
<li><a href="#Scenario">Scenario</a></li>
<li><a href="#Check">Check</a></li>
<li><a href="#Critical-Major-Minor">Critical</a></li>
<li><a href="#Critical-Major-Minor">Major</a></li>
<li><a href="#Critical-Major-Minor">Minor</a></li>
<li><a href="#Example">Example</a></li>
</ul>
</li>
<li><a href="#Outline">Outline</a></li>
<li><a href="#Iteration">Iteration</a></li>
<li><a href="#Step">Step</a><ul>
<li><a href="#Given">Given</a></li>
<li><a href="#When">When</a></li>
<li><a href="#Then">Then</a></li>
<li><a href="#But">But</a></li>
<li><a href="#By">By</a></li>
<li><a href="#Finally">Finally</a></li>
<li><a href="#Background">Background</a></li>
</ul>
</li>
</ul>
<h1 id="Pausing-Tests"><a href="#Pausing-Tests" class="headerlink" title="Pausing Tests"></a>Pausing Tests</h1><p>When tests perform complex automated actions, it is often useful to pause a test either
right before it starts executing its body or right after its completion.
Pausing a test means that the test execution will be halted and input in the form
of pressing <code>Enter</code> will be requested from the user. This pause allows
time to manually examine the system under test as well as the test environment.</p>
<p>Pausing either before or after a test is controlled by setting either <a href="#PAUSE_BEFORE">PAUSE_BEFORE</a>
or <a href="#PAUSE_AFTER">PAUSE_AFTER</a> flags, respectively. You can also conditionally pause
after test execution on passing or failing result using <a href="#PAUSE_ON_PASS">PAUSE_ON_PASS</a> or <a href="#PAUSE_ON_FAIL">PAUSE_ON_FAIL</a>.</p>
<blockquote>
<p><em>&#9995;</em> <a href="#PAUSE_BEFORE">PAUSE_BEFORE</a>, <a href="#PAUSE_AFTER">PAUSE_AFTER</a>, <a href="#PAUSE_ON_PASS">PAUSE_ON_PASS</a>, and <a href="#PAUSE_ON_FAIL">PAUSE_ON_FAIL</a>
flags can be applied to any test except the <a href="#Top-Level-Test">Top Level Test</a> test.
For <a href="#Top-Level-Test">Top Level Test</a> test these flags are ignored.</p>
</blockquote>
<h2 id="Pausing-Using-Command-Line"><a href="#Pausing-Using-Command-Line" class="headerlink" title="Pausing Using Command Line"></a>Pausing Using Command Line</h2><p>Most of the time, the most convenient way to pause a test program is to specify at which
test, the program should pause using <a href="#%E2%80%93pause-before">–pause-before</a>, <a href="#%E2%80%93pause-after">–pause-after</a>,
<a href="#%E2%80%93pause-on-pass">–pause-on-pass</a>, and <a href="#%E2%80%93pause-on-fail">–pause-on-fail</a> arguments.</p>
<p>These arguments accept one or more test names <a href="#pattern">pattern</a>s. Any test name
that matches the pattern except for the <a href="#Top-Level-Test">Top Level Test</a> will be paused.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">--pause-before pattern [pattern ...]            pause before executing selected tests</span><br><span class="line">--pause-after pattern [pattern ...]             pause after executing selected tests</span><br><span class="line">--pause-on-fail pattern [pattern ...]           pause after selected tests on failing result</span><br><span class="line">--pause-on-pass pattern [pattern ...]           pause after selected tests on passing result</span><br></pre></td></tr></table></figure>


<p>For example, if we have the following test program.</p>
<blockquote>
<p><code>pause.py</code></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step 1&quot;</span>):</span><br><span class="line">        note(<span class="string">&quot;my step 1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step 2&quot;</span>):</span><br><span class="line">        note(<span class="string">&quot;my step 2&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>Then, if we want to pause before executing the body of <code>my step 1</code> and right after
executing <code>my step 2</code> we can execute our test program as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 pause.py --pause-before <span class="string">&quot;/my test/my step 1&quot;</span> --pause-after <span class="string">&quot;/my test/my step 2&quot;</span></span><br></pre></td></tr></table></figure>

<p>This will cause the test program to be halted twice, requesting <code>Enter</code> input
from the user to continue execution.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> Sep 25,2021 8:34:45   ⟥  Test my <span class="built_in">test</span></span><br><span class="line"> Sep 25,2021 8:34:45     ⟥  Step my step 1, flags:PAUSE_BEFORE</span><br><span class="line">✋ Paused, enter any key to <span class="built_in">continue</span>...</span><br><span class="line">               830ms     ⟥    [note] my step 1</span><br><span class="line">               830ms     ⟥⟤ OK my step 1, /my <span class="built_in">test</span>/my step 1</span><br><span class="line"> Sep 25,2021 8:34:45     ⟥  Step my step 2, flags:PAUSE_AFTER</span><br><span class="line">               609us     ⟥    [note] my step 2</span><br><span class="line">               753us     ⟥⟤ OK my step 2, /my <span class="built_in">test</span>/my step 2</span><br><span class="line">✋ Paused, enter any key to <span class="built_in">continue</span>...</span><br><span class="line">            1s 490ms   ⟥⟤ OK my <span class="built_in">test</span>, /my <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<h2 id="Pausing-In-Code"><a href="#Pausing-In-Code" class="headerlink" title="Pausing In Code"></a>Pausing In Code</h2><p>You can explicitly specify <a href="#PAUSE_BEFORE">PAUSE_BEFORE</a>, <a href="#PAUSE_AFTER">PAUSE_AFTER</a>, <a href="#PAUSE_ON_PASS">PAUSE_ON_PASS</a> and
<a href="#PAUSE_ON_FAIL">PAUSE_ON_FAIL</a> flags inside your test program.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step 1&quot;</span>, flags=PAUSE_BEFORE):</span><br><span class="line">        note(<span class="string">&quot;my step 1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step 2&quot;</span>, flags=PAUSE_AFTER):</span><br><span class="line">        note(<span class="string">&quot;my step 2&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step 2&quot;</span>, flags=PAUSE_ON_PASS):</span><br><span class="line">        note(<span class="string">&quot;my step 2&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step 2&quot;</span>, flags=PAUSE_ON_FAIL):</span><br><span class="line">        note(<span class="string">&quot;my step 2&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>For decorated tests <a href="#flags">Flags</a> decorator can be used to set these flags.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Flags(<span class="params">PAUSE_BEFORE|PAUSE_AFTER</span>) </span><span class="comment"># pause before and after this test</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="Using-pause"><a href="#Using-pause" class="headerlink" title="Using pause()"></a>Using <code>pause()</code></h3><p>You can also use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L313">pause() function</a> to explicitly pause the test during test program
execution.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pause(test=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>test</code> the test instance in which the test program will be paused, default: current test</li>
</ul>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    pause()</span><br></pre></td></tr></table></figure>

<p>when executed the test program is paused.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Nov 15,2021 17:31:58   ⟥  Scenario my scenario</span><br><span class="line">✋ Paused, enter any key to <span class="built_in">continue</span>...</span><br><span class="line">             1s 55ms   ⟥⟤ OK my scenario, /my scenario</span><br></pre></td></tr></table></figure>

<h1 id="Using-Contexts"><a href="#Using-Contexts" class="headerlink" title="Using Contexts"></a>Using Contexts</h1><p>Each test has <code>context</code> attribute for storing and passing state
to sub-tests. Each test has a unique object instance of <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L132">Context class</a> however,
context variables from the parent
can be accessed as long as the same context variable is not redefined by the current
test.</p>
<p>The main use case for using <code>context</code> is to avoid passing along common arguments
to sub-tests, and becuase <code>context</code>s enable them to pass_automatically_.</p>
<p>Also, test clean up functions can be added to the current test using <code>context</code>.
See <a href="#Cleanup-Functions">Cleanup Functions</a>.</p>
<p>Here is an example of using <code>context</code> to store and pass state.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_test</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="comment"># note will print &#x27;hello there&#x27;</span></span><br><span class="line">    note(self.context.my_var)</span><br><span class="line">    <span class="comment"># this will redefine my_var for this test and any sub-tests</span></span><br><span class="line">    <span class="comment"># but parent.context.my_var will remain unchanged</span></span><br><span class="line">    self.context.my_var = <span class="string">&quot;hello here&quot;</span></span><br><span class="line">    <span class="comment"># note will print &#x27;hello here&#x27;</span></span><br><span class="line">    note(self.context.my_var)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self</span>):</span><br><span class="line">    self.context.my_var = <span class="string">&quot;hello there&quot;</span></span><br><span class="line"></span><br><span class="line">    Scenario(run=my_test)</span><br><span class="line">    <span class="comment"># my_var change in sub-test does not change the value at the parent&#x27;s level</span></span><br><span class="line">    <span class="comment"># note will print &#x27;hello there&#x27;</span></span><br><span class="line">    note(self.context.my_var)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>and you can confirm this by running the test program above.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sep 24,2021 10:24:54   ⟥  Module regression</span><br><span class="line">Sep 24,2021 10:24:54     ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">               671us     ⟥    [note] hello there</span><br><span class="line">               730us     ⟥    [note] hello here</span><br><span class="line">               898us     ⟥⟤ OK my <span class="built_in">test</span>, /regression/my <span class="built_in">test</span></span><br><span class="line">                10ms   ⟥    [note] hello there</span><br><span class="line">                10ms   ⟥⟤ OK regression, /regression</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> You should not modify parent’s context directly (<del>self.parent.context</del>).
Always set variables using the context of the current test, either by using
<code>self.context</code> or <code>current().context</code>.</p>
</blockquote>
<h2 id="Using-in-Operator"><a href="#Using-in-Operator" class="headerlink" title="Using in Operator"></a>Using <code>in</code> Operator</h2><p>You can use <code>in</code> operator to check if a variable is set in context.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># check if variable &#x27;my_var&#x27; is set in context</span></span><br><span class="line">note(<span class="string">&quot;my_var&quot;</span> <span class="keyword">in</span> self.context)</span><br></pre></td></tr></table></figure>

<h2 id="Using-hasattr"><a href="#Using-hasattr" class="headerlink" title="Using hasattr()"></a>Using <code>hasattr()</code></h2><p>Alternatively, you can also use built-in [hasattr()] function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">note(<span class="built_in">hasattr</span>(self.context, <span class="string">&quot;my_var&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="Using-getattr"><a href="#Using-getattr" class="headerlink" title="Using getattr()"></a>Using <code>getattr()</code></h2><p>If you are not sure if context variable is set, you can use built-in <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#getattr">getattr()</a> function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">note(<span class="built_in">getattr</span>(self.context, <span class="string">&quot;my_var2&quot;</span>, <span class="string">&quot;was not set&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="Using-getsattr"><a href="#Using-getsattr" class="headerlink" title="Using getsattr()"></a>Using <code>getsattr()</code></h2><p>If you want to set <code>context</code> variable to a specific value, if the variable
is not defined in the context, use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L408">getsattr() function</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Test, note</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> getsattr</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>) <span class="keyword">as</span> test:</span><br><span class="line">    getsattr(test.context, <span class="string">&quot;my_var2&quot;</span>, <span class="string">&quot;value if my_var2 is not set&quot;</span>)</span><br><span class="line">    note(test.context.my_var2)</span><br></pre></td></tr></table></figure>

<h2 id="Arbitrary-Variable-Names"><a href="#Arbitrary-Variable-Names" class="headerlink" title="Arbitrary Variable Names"></a>Arbitrary Variable Names</h2><p>If you would like to add a variable that, for example, has empty spaces
and therefore would not be valid to be referenced directly
as an attribute of the <code>context</code> then you can use <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#setattr">setattr()</a> and <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#getattr">getattr()</a>
to set and get the variable respectively.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>) <span class="keyword">as</span> test:</span><br><span class="line">    <span class="built_in">setattr</span>(test.context, <span class="string">&quot;my long variable with spaces&quot;</span>, <span class="string">&quot;value&quot;</span>)</span><br><span class="line">    note(<span class="built_in">getattr</span>(test.context, <span class="string">&quot;my long variable with spaces&quot;</span>))</span><br></pre></td></tr></table></figure>

<h1 id="Setups-And-Teardowns"><a href="#Setups-And-Teardowns" class="headerlink" title="Setups And Teardowns"></a>Setups And Teardowns</h1><p>Test setup and teardown could be explicitly specified using <a href="#Given">Given</a> and <a href="#Finally">Finally</a> steps.</p>
<p>For example, <a href="#Scenario">Scenario</a> that needs to do some setup and perform clean up as part
of teardown can be defined as follows using explicit <a href="#Given">Given</a> and <a href="#Finally">Finally</a> steps.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> Given(<span class="string">&quot;my setup&quot;</span>):</span><br><span class="line">            do_some_setup()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> When(<span class="string">&quot;I perform action&quot;</span>):</span><br><span class="line">            perform_action()</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">with</span> Finally(<span class="string">&quot;clean up&quot;</span>):</span><br><span class="line">            do_cleanup()</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> It is recommended to use a decorated <a href="#Given">Given</a> step that contains <code>yield</code> statement
in most cases. See <a href="#Given-With-yield">Given With <code>yield</code></a>.</p>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> <a href="#Given">Given</a> and <a href="#Finally">Finally</a> steps have <a href="#MANDATORY">MANDATORY</a> flag set by default,
and therefore these steps can’t be skipped.</p>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> <a href="#Finally">Finally</a> steps must be located within <code>finally</code> blocks
to ensure their execution.</p>
</blockquote>
<h2 id="Common-Setup-And-Teardown"><a href="#Common-Setup-And-Teardown" class="headerlink" title="Common Setup And Teardown"></a>Common Setup And Teardown</h2><p>If multiple tests require the same setup and teardown and the result of the setup
can be shared between these tests, then the common setup and teardown
should be defined at the parent test level. Therefore,
for multiple <a href="#Scenario">Scenario</a>s that share the same setup and teardown,
it should be defined at the <a href="#Feature">Feature</a> level and for multiple
<a href="#Feature">Feature</a>s that share the same setup and teardown, it should be defined
at the <a href="#Module">Module</a> level.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario1</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario2</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Feature(<span class="string">&quot;my feature&quot;</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> Given(<span class="string">&quot;my setup&quot;</span>):</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        Scenario(run=my_scenario1)</span><br><span class="line">        Scenario(run=my_scenario2)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">with</span> Finally(<span class="string">&quot;clean up&quot;</span>):</span><br><span class="line">            <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>


<h2 id="Handling-Resources"><a href="#Handling-Resources" class="headerlink" title="Handling Resources"></a>Handling Resources</h2><p>When setup creates a resource that needs to be cleaned up, one must
ensure that <a href="#Finally">Finally</a> step checks if <a href="#Given">Given</a> has actually succeeded in creating
the resource that needs to be cleaned up.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    resource = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> Given(<span class="string">&quot;my setup&quot;</span>):</span><br><span class="line">            resource = do_some_setup()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> When(<span class="string">&quot;I perform action&quot;</span>):</span><br><span class="line">            perform_action()</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">with</span> Finally(<span class="string">&quot;clean up&quot;</span>):</span><br><span class="line">        	<span class="keyword">if</span> resource <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">	            do_cleanup()</span><br></pre></td></tr></table></figure>

<h2 id="Multiple-Setups-and-Teardowns"><a href="#Multiple-Setups-and-Teardowns" class="headerlink" title="Multiple Setups and Teardowns"></a>Multiple Setups and Teardowns</h2><p>When a test needs to perform multiple setups and teardowns, then
multiple <a href="#Given">Given</a> and <a href="#Finally">Finally</a> can be used.</p>
<blockquote>
<p><strong>&#9995;</strong> Use <a href="#And">And</a> step to make test procedure more fluid.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> Given(<span class="string">&quot;my first setup&quot;</span>):</span><br><span class="line">            do_first_setup()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> And(<span class="string">&quot;my second setup&quot;</span>):</span><br><span class="line">            do_second_setup()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> When(<span class="string">&quot;I perform action&quot;</span>):</span><br><span class="line">            perform_action()</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">with</span> Finally(<span class="string">&quot;first clean up&quot;</span>):</span><br><span class="line">            do_first_cleanup()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> And(<span class="string">&quot;second clean up&quot;</span>):</span><br><span class="line">            do_first_cleanup()</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> <a href="#TE">TE</a> flag is always implicitly set for <a href="#Finally">Finally</a> steps
to ensure that failure of one step does not prevent execution
of other <a href="#Finally">Finally</a> steps.</p>
<p>Therefore,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Finally(<span class="string">&quot;first clean up&quot;</span>):</span><br><span class="line">    do_first_cleanup()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> And(<span class="string">&quot;second clean up&quot;</span>):</span><br><span class="line">    do_first_cleanup()</span><br></pre></td></tr></table></figure>
<p>is equivalent to the following.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Finally(<span class="string">&quot;first clean up&quot;</span>, flags=TE):</span><br><span class="line">    do_first_cleanup()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> And(<span class="string">&quot;second clean up&quot;</span>, flags=TE):</span><br><span class="line">    do_first_cleanup()</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="Given-With-yield"><a href="#Given-With-yield" class="headerlink" title="Given With yield"></a>Given With <code>yield</code></h2><p>Because any <a href="#Given">Given</a> step usually has a corresponding <a href="#Finally">Finally</a> step
<strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> supports <code>yield</code> statement inside a decorated <a href="#Given">Given</a> step
to convert the decorated function into a generator that
will be first run to execute the setup and then executed
a second time to perform the clean during the test’s teardown.</p>
<blockquote>
<p><strong>&#9995;</strong> It is an error to define a <a href="#Given">Given</a> step that
contains multiple <code>yield</code> statements.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep(<span class="params">Given</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_setup</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment">#do_setup()</span></span><br><span class="line">        <span class="keyword">yield</span></span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">with</span> Finally(<span class="string">&quot;clean up&quot;</span>):</span><br><span class="line">            <span class="comment"># do_cleanup()</span></span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;my setup&quot;</span>):</span><br><span class="line">        my_setup()</span><br></pre></td></tr></table></figure>

<p>Executing the example above shows that the <a href="#Finally">Finally</a> step gets executed
at the end of the test.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Sep 07,2021 19:26:23   ⟥  Scenario my scenario</span><br><span class="line">Sep 07,2021 19:26:23     ⟥  Given my setup, flags:MANDATORY</span><br><span class="line">                 1ms     ⟥⟤ OK my setup, /my scenario/my setup</span><br><span class="line">Sep 07,2021 19:26:23     ⟥  Finally I clean up, flags:MANDATORY</span><br><span class="line">Sep 07,2021 19:26:23       ⟥  And clean up, flags:MANDATORY</span><br><span class="line">               442us       ⟥⟤ OK clean up, /my scenario/I clean up/clean up</span><br><span class="line">                 1ms     ⟥⟤ OK I clean up, /my scenario/I clean up</span><br><span class="line">                11ms   ⟥⟤ OK my scenario, /my scenario</span><br></pre></td></tr></table></figure>

<h3 id="Yielding-Resources"><a href="#Yielding-Resources" class="headerlink" title="Yielding Resources"></a>Yielding Resources</h3><p>If <a href="#Given">Given</a> step creates a resource, it can by <code>yield</code>ed
as a value.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep(<span class="params">Given</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_setup</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&quot;resource&quot;</span></span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">with</span> Finally(<span class="string">&quot;clean up&quot;</span>):</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;my setup&quot;</span>):</span><br><span class="line">        resource = my_setup()</span><br><span class="line">        note(resource)</span><br></pre></td></tr></table></figure>

<p>produces the following output.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Sep 07,2021 19:36:52   ⟥  Scenario my scenario</span><br><span class="line">Sep 07,2021 19:36:52     ⟥  Given my setup, flags:MANDATORY</span><br><span class="line">               916us     ⟥    [note] resource</span><br><span class="line">                 1ms     ⟥⟤ OK my setup, /my scenario/my setup</span><br><span class="line">Sep 07,2021 19:36:52     ⟥  Finally I clean up, flags:MANDATORY</span><br><span class="line">Sep 07,2021 19:36:52       ⟥  And clean up, flags:MANDATORY</span><br><span class="line">               638us       ⟥⟤ OK clean up, /my scenario/I clean up/clean up</span><br><span class="line">                 1ms     ⟥⟤ OK I clean up, /my scenario/I clean up</span><br><span class="line">                12ms   ⟥⟤ OK my scenario, /my scenario</span><br></pre></td></tr></table></figure>

<h2 id="Cleanup-Functions"><a href="#Cleanup-Functions" class="headerlink" title="Cleanup Functions"></a>Cleanup Functions</h2><p>Explicit cleanup functions can be added by calling <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L144">Context.cleanup() function</a>.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_cleanup</span>():</span><br><span class="line">    note(<span class="string">&quot;my cleanup&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="comment"># add explicit cleanup function to context</span></span><br><span class="line">    self.context.cleanup(my_cleanup)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I perform action&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>produces the following output.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Sep 07,2021 19:58:11   ⟥  Scenario my scenario</span><br><span class="line">Sep 07,2021 19:58:11     ⟥  When I perform action</span><br><span class="line">               796us     ⟥⟤ OK I perform action, /my scenario/I perform action</span><br><span class="line">Sep 07,2021 19:58:11     ⟥  Finally I clean up, flags:MANDATORY</span><br><span class="line">               575us     ⟥    [note] my cleanup</span><br><span class="line">               817us     ⟥⟤ OK I clean up, /my scenario/I clean up</span><br><span class="line">                11ms   ⟥⟤ OK my scenario, /my scenario</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Returning-Values"><a href="#Returning-Values" class="headerlink" title="Returning Values"></a>Returning Values</h1><p>A test is not just a function but an entity that can either be run
within caller’s thread, in another thread, in a different process,
or even on a remote host. Therefore, depending on how a test is called,
returning values from a test might not be as simple as
when one calls a regular function.</p>
<h2 id="Using-value"><a href="#Using-value" class="headerlink" title="Using value()"></a>Using <code>value()</code></h2><p>A generic way for a test to return a value is by using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L159">value() function</a>.
Test can call <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L159">value() function</a> to set one or more values.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_step</span>(<span class="params">self</span>):</span><br><span class="line">    value(name=<span class="string">&quot;first&quot;</span>, value=<span class="string">&quot;my first value&quot;</span>)</span><br><span class="line">    value(name=<span class="string">&quot;second&quot;</span>, value=<span class="string">&quot;my second value&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>The values can be retrieved using <code>values</code> attribute of the <code>result</code> of the test</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    my_values = my_step().result.values</span><br><span class="line">    <span class="comment"># [note] [Value(name=&#x27;first&#x27;,value=&#x27;my first value&#x27;,type=None,group=None,uid=None), Value(name=&#x27;second&#x27;,value=&#x27;my second value&#x27;,type=None,group=None,uid=None)]</span></span><br><span class="line">    note(my_values)</span><br></pre></td></tr></table></figure>

<p>and using the <code>value</code> attribute of the <code>result</code> you can get the last value.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    my_value = my_step().result.value</span><br><span class="line">    note(my_value) <span class="comment"># [note] my second value</span></span><br></pre></td></tr></table></figure>

<p>Note that if the decorated test is called as a function
within the same test type, the return value is <code>None</code>
if the test function did not return any value using the <code>return</code> statement.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Step(<span class="string">&quot;my step&quot;</span>):</span><br><span class="line">    my_step() <span class="comment"># returns None</span></span><br></pre></td></tr></table></figure>

<p>But if the test does <code>return</code> a value, then it is set as the last value
in the <code>values</code> attribute of the <code>result</code> of the test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_step</span>(<span class="params">self</span>):</span><br><span class="line">    value(name=<span class="string">&quot;first&quot;</span>, value=<span class="string">&quot;my first value&quot;</span>)</span><br><span class="line">    value(name=<span class="string">&quot;second&quot;</span>, value=<span class="string">&quot;my second value&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;my third value&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    my_values = my_step().result.values[-<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># [note] Value(name=&#x27;return&#x27;,value=&#x27;my third value&#x27;,type=None,group=None,uid=None)</span></span><br><span class="line">    note(my_values)</span><br></pre></td></tr></table></figure>

<h2 id="Using-return"><a href="#Using-return" class="headerlink" title="Using return"></a>Using <code>return</code></h2><p>The most convenient way a decorated test can return a value is by
using <code>return</code> statement. For example, a test step can be defined as follows:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_step</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;my value&quot;</span></span><br></pre></td></tr></table></figure>

<p>and when called within another step, the returned value is received just
like from a function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Step(<span class="string">&quot;my step&quot;</span>):</span><br><span class="line">    my_value = my_step()</span><br></pre></td></tr></table></figure>

<p>This is because calling a decorated test
within a test of the same type, just runs the decorated test function
and therefore the call is similar to calling a function with the ability
to get the return value directly. See <a href="#Calling-Decorated-Tests">Calling Decorated Tests</a>.</p>
<p>However, if you call a decorated test as a function
within a higher test type, for example calling a <a href="#Step">Step</a> within a <a href="#Test">Test</a>,
or when you call an inline defined test, then the return value
is a <code>TestBase</code> object and the returned value needs to be retrieved
as <code>value</code> attribute from the <code>result</code> attribute of the <code>TestBase</code> object,
 or using <code>values</code> attribute to get a list of all the values produced by a test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="comment"># incorrect - `my_value` is TestBase object</span></span><br><span class="line">    <span class="comment"># my_value = my_step()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># incorrect - `my_value` is Step object</span></span><br><span class="line">    <span class="comment"># my_value = Step(test=my_step)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># incorrect - `my_value` is TestBase object</span></span><br><span class="line">    <span class="comment"># my_value = Step(test=my_step)()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># incorrect - `my_value` is TestBase object</span></span><br><span class="line">    <span class="comment"># my_value = Step(run=my_step)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># correct</span></span><br><span class="line">    my_value = my_step().result.value</span><br><span class="line"></span><br><span class="line">    <span class="comment"># correct</span></span><br><span class="line">    my_value = my_step().result.values[-<span class="number">1</span>].value</span><br><span class="line"></span><br><span class="line">    <span class="comment"># correct</span></span><br><span class="line">    my_value = Step(test=my_step)().result.value</span><br><span class="line"></span><br><span class="line">    <span class="comment"># correct</span></span><br><span class="line">    my_value = Step(run=my_step).result.value</span><br></pre></td></tr></table></figure>

<h1 id="Loading-Tests"><a href="#Loading-Tests" class="headerlink" title="Loading Tests"></a>Loading Tests</h1><h2 id="Using-load"><a href="#Using-load" class="headerlink" title="Using load()"></a>Using <code>load()</code></h2><p>You can use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L61">load() function</a> to load a test or any object from another
module.</p>
<p>For example, given a <a href="#Scenario">Scenario</a> defined in <code>tests/another_module.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_test_in_another_module</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>then, using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L61">load() function</a> you can load this test in another module
and use it as a base test for an inline defined <a href="#Scenario">Scenario</a> as follows.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;my module&quot;</span>):</span><br><span class="line">     Scenario(<span class="string">&quot;my test&quot;</span>, run=load(<span class="string">&quot;tests.another_module&quot;</span>, test=<span class="string">&quot;my_test_in_another_module&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="Using-loads"><a href="#Using-loads" class="headerlink" title="Using loads()"></a>Using <code>loads()</code></h2><p>You can use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2708">loads() function</a> to load one or more tests of a given
test class.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">loads(name, *types, package=<span class="literal">None</span>, frame=<span class="literal">None</span>, <span class="built_in">filter</span>=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<p>where</p>
<ul>
<li><code>name</code> module name or module</li>
<li><code>*types</code> test types (<a href="#Step">Step</a>, <a href="#Test">Test</a>, <a href="#Scenario">Scenario</a>, <a href="#Suite">Suite</a>, <a href="#Feature">Feature</a>, or <a href="#Module">Module</a>), default: all</li>
<li><code>package</code> package name if module name is relative (optional)</li>
<li><code>frame</code> caller frame if module name is not specified (optional)</li>
<li><code>filter</code> filter function (optional)</li>
</ul>
<p>and <strong>returns</strong> list of tests.</p>
<p>For example, given multiple <a href="#Scenario">Scenario</a>s defined in the same file, one can
use <code>loads() function</code> to execute all the <a href="#Scenario">Scenario</a>s as follows</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test1</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test2</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">feature</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> loads(current_module(), Scenario):</span><br><span class="line">        scenario()</span><br></pre></td></tr></table></figure>

<p>If a file contains multiple test types, then you can just
specify them as needed. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test1</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test2</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">feature</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> test <span class="keyword">in</span> loads(current_module(), Scenario, Suite):</span><br><span class="line">        test()</span><br></pre></td></tr></table></figure>

<p>See also <a href="#Using-current-module">using current_module()</a>.</p>
<h2 id="Using-ordered"><a href="#Using-ordered" class="headerlink" title="Using ordered()"></a>Using <code>ordered()</code></h2><p>By default, <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2708">loads() function</a> returns tests in random order. If you want
a deterministic order, then use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2699">ordered() function</a> to sort
a list of tests loaded with <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2708">loads() function</a> by test function name.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">feature</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> ordered(loads(current_module(), Scenario)):</span><br><span class="line">        scenario()</span><br></pre></td></tr></table></figure>

<h1 id="Loading-Modules"><a href="#Loading-Modules" class="headerlink" title="Loading Modules"></a>Loading Modules</h1><h2 id="Using-current-module"><a href="#Using-current-module" class="headerlink" title="Using current_module()"></a>Using <code>current_module()</code></h2><p>Using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L40">current_module() function</a> allows you to conveniently reference
the current module. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">feature</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> test <span class="keyword">in</span> loads(current_module(), Scenario, Suite):</span><br><span class="line">        test()</span><br></pre></td></tr></table></figure>

<h2 id="Using-load-module"><a href="#Using-load-module" class="headerlink" title="Using load_module()"></a>Using <code>load_module()</code></h2><p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L47">load_module() function</a> allows to load any module by specifying the module name.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">feature</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> loads(load_module(<span class="string">&quot;tests.another_module&quot;</span>), Scenario):</span><br><span class="line">        scenario()</span><br></pre></td></tr></table></figure>

<h1 id="Async-Tests"><a href="#Async-Tests" class="headerlink" title="Async Tests"></a>Async Tests</h1><p>Asynchronous tests are natively supported.
All asynchronous tests get <a href="#ASYNC">ASYNC</a> flag set in <a href="#flags">flags</a>.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that the top level test must <em>not</em> be asynchronous.</p>
</blockquote>
<p>If you try to run an asynchronous test as the top level test, you will get an error:</p>
<blockquote>
<p><code>error: top level test was not started in main thread</code></p>
</blockquote>
<h2 id="Inline-1"><a href="#Inline-1" class="headerlink" title="Inline"></a>Inline</h2><p>An inline asynchronous test can be defined using <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#async-with">async with</a> statement as follows.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">suite</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> Test(<span class="string">&quot;my async test&quot;</span>):</span><br><span class="line">        <span class="keyword">async</span> <span class="keyword">with</span> Step(<span class="string">&quot;my async test step&quot;</span>):</span><br><span class="line">            note(<span class="string">&quot;Hello from asyncio!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;module&quot;</span>):</span><br><span class="line">    suite()</span><br></pre></td></tr></table></figure>

<h2 id="Decorated-1"><a href="#Decorated-1" class="headerlink" title="Decorated"></a>Decorated</h2><p>A decorated asynchronous test can be defined in a similar way as a non-asynchronous test.
The only difference is that the decorated function must be asynchronous
and be defined using <code>async def</code> keyword just like any other asynchronous function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">my_test</span>(<span class="params">self, number</span>):</span><br><span class="line">    note(<span class="string">&quot;Hello from async scenario &#123;number&#125;!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">suite</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">await</span> Scenario(name=<span class="string">&quot;my test 0&quot;</span>, test=my_test)(number=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">await</span> Scenario(name=<span class="string">&quot;my test 1&quot;</span>, test=my_test)(number=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;module&quot;</span>):</span><br><span class="line">    suite()</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> See <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/asyncio.html">asyncio</a> module to learn more about asynchronous programming in <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a>.</p>
</blockquote>
<h1 id="Parallel-Tests"><a href="#Parallel-Tests" class="headerlink" title="Parallel Tests"></a>Parallel Tests</h1><h2 id="Running"><a href="#Running" class="headerlink" title="Running"></a>Running</h2><p>Tests can be executed in parallel either using threads
or an asynchronous executor defined using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/parallel/executor/thread.py#L57">ThreadPool class</a> or <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/parallel/executor/asyncio.py#L113">AsyncPool class</a> respectively.</p>
<p>In order to run a test in parallel, it must either have <a href="#PARALLEL">PARALLEL</a> flag
set or <code>parallel=True</code> specified during the test definition.</p>
<p>A parallel executor can be specified using <code>executor</code> parameter. If no executor
is explicitly specified, then a default executor is created for the
test of the type that is needed to execute a test.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that the default executor does not have a limit on the number
of parallel tests because the pool size is not limited.</p>
</blockquote>
<p>Here is an example when <code>executor</code> is not specified.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_test</span>(<span class="params">self, number, sleep=<span class="number">1</span></span>):</span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> starting&quot;</span>)</span><br><span class="line">    time.sleep(sleep)</span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> done&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">module</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 0&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">0</span>)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 1&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    module()</span><br></pre></td></tr></table></figure>

<h2 id="Using-join"><a href="#Using-join" class="headerlink" title="Using join()"></a>Using <code>join()</code></h2><p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/parallel/__init__.py#L108">join() function</a> can be used to join any currently running parallel tests.
For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">module</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 0&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">0</span>)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 1&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># wait until `my test 0` and `my test 1` complete</span></span><br><span class="line">    join()</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 2&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Parallel-Executors"><a href="#Parallel-Executors" class="headerlink" title="Parallel Executors"></a>Parallel Executors</h1><p>Parallel executors can be used to gain fine grained control over how many
tests are executed in parallel.</p>
<blockquote>
<p><strong>&#9995;</strong> You should not share a single pool executor between different tests
as it can lead to a deadlock given that a situation might arise when a parent test
can be left waiting for the child test to complete, and a child test will not be
able to complete due to the shared pool having no available workers.</p>
</blockquote>
<p>If you want to share a pool between different tests, you must use either
<code>SharedThreadPool class</code> or <code>SharedAsyncPool class</code> for normal or asynchronous tests,
respectively. These classes ensure that a deadlock between a parent and child test is avoided
by blocking and waiting for the completion of any task that is submitted when no idle workers
are available.</p>
<h2 id="Thread-Pool"><a href="#Thread-Pool" class="headerlink" title="Thread Pool"></a>Thread Pool</h2><p>A thread pool executor is defined by creating an object of <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/parallel/executor/thread.py#L57">Pool class</a> which is
a short form for defining a <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/parallel/executor/thread.py#L57">ThreadPool class</a> and will run a test in another thread.</p>
<p>The maximum number of threads can be controlled by setting <code>max_workers</code>
parameter, and by default is set to <code>16</code>. If <code>max_workers</code> is set to <code>None</code>
then the pool size is not limited.</p>
<p>If there are more tasks submitted to the pool than there are currently available
threads, then any extra tasks will block until a worker in the pool
is freed up.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Pool(<span class="number">5</span>) <span class="keyword">as</span> pool:</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 0&quot;</span>, test=my_test, parallel=<span class="literal">True</span>, executor=pool)(number=<span class="number">0</span>)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 1&quot;</span>, test=my_test, parallel=<span class="literal">True</span>, executor=pool)(number=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Async-Pool"><a href="#Async-Pool" class="headerlink" title="Async Pool"></a>Async Pool</h2><p>An asynchronous pool executor is defined by creating an object of <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/parallel/executor/asyncio.py#L113">AsyncPool class</a>
and will run an asynchronous test using a new loop running in another thread unless
<code>loop</code> parameter is explicitly specified during executor object creation.</p>
<p>The maximum number of concurrent asynchronous tasks can be controlled by setting <code>max_workers</code>
parameter, and by default is set to <code>1024</code>. If <code>max_workers</code> is set to <code>None</code>
then the pool size is not limited.</p>
<p>If there are more tasks submitted to the pool than there are currently available
threads, then any extra tasks will block until a worker in the pool
is freed up.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> AsyncPool(<span class="number">5</span>) <span class="keyword">as</span> pool:</span><br><span class="line">    Scenario(name=<span class="string">&quot;my async test 0&quot;</span>, test=my_async_test, parallel=<span class="literal">True</span>, executor=pool)(number=<span class="number">0</span>)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my async test 1&quot;</span>, test=my_async_test, parallel=<span class="literal">True</span>, executor=pool)(number=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Crossing-Out-Results"><a href="#Crossing-Out-Results" class="headerlink" title="Crossing Out Results"></a>Crossing Out Results</h1><p>All test results except <a href="#Skip">Skip</a> result can be crossed out, including <a href="#OK">OK</a>. This functionality
is useful when one or more tests fail and you don’t want to see the next run
fail because of the same test failing.</p>
<p>Crossing out a result means converting it to the corresponding crossed out result
that starts with <code>X</code>.</p>
<ul>
<li><del><a href="#Fail">Fail</a></del> becomes <a href="#XFail">XFail</a></li>
<li><del><a href="#Error">Error</a></del> becomes <a href="#XError">XError</a></li>
<li><del><a href="#Null">Null</a></del> becomes <a href="#XNull">XNull</a></li>
<li><del><a href="#OK">OK</a></del> becomes <a href="#XOK">XOK</a></li>
</ul>
<blockquote>
<p><strong>&#9995;</strong> The concept of crossing out a result should not be confused with expected results.
It is invalid to say that, for example, <a href="#XFail">XFail</a>, means an expected fail.
In general, if you expect a fail, then if the result of the test is <a href="#Fail">Fail</a>, then
the final test result is <a href="#OK">OK</a> and any other result would cause the final
result to be <a href="#Fail">Fail</a> as the expectation was not satisfied.</p>
</blockquote>
<p>The correct way to think about crossed out results is to imagine that a test
summary report is printed on a paper, and after looking over the test results
and performing some analysis, any result can be crossed out with an optional reason.</p>
<p>Only the result that exactly matches the result to be crossed out is actually crossed out.
For example, if you want to cross out <a href="#Fail">Fail</a> result of the test but the test has
a different result, then it will not be crossed out.</p>
<p>The actual crossing out of the results is done by specifying either <a href="#xfails">xfails</a> parameter
of the test or using <a href="#xfails">XFails</a> decorator.</p>
<p>In general, the <a href="#xfails">xfails</a> are set at the level of the top test. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="meta">@XFails(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my suite/my test&quot;</span>: [</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params">Fail, <span class="string">&quot;known issue&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params">OK, <span class="string">&quot;need to check if the issue has been fixed&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    ],</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my suite/my other test&quot;</span>: [</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params">Fail, <span class="string">&quot;other known issue&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params">Error, <span class="string">&quot;can also error&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">    ]</span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self</span>):</span><br><span class="line">    Suite(run=my_suite)</span><br></pre></td></tr></table></figure>

<p>All the <a href="#pattern">pattern</a>s are usually specified using relative form and are
anchored to the top level test during the assignment.</p>
<h1 id="Setting-or-Clearing-Flags"><a href="#Setting-or-Clearing-Flags" class="headerlink" title="Setting or Clearing Flags"></a>Setting or Clearing Flags</h1><p>Test flags can be set or cleared externally using <a href="#xflags">xflags</a> or <a href="#xflags">XFlags</a> decorator.
As long as the <a href="#pattern">pattern</a> has a chance of matching, this test attribute is pushed down the flow from parent test to child tests.</p>
<p>This allows setting or clearing flags for any child test at any level of the test flow
including at the top level test.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="meta">@XFlags(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my suite/my test&quot;</span>: (<span class="params"><span class="number">0</span>, TE</span>), <span class="comment"># clear TE flag</span></span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my suite/my other test&quot;</span>: (<span class="params">TE, <span class="number">0</span></span>) <span class="comment"># set TE flag</span></span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self</span>):</span><br><span class="line">    Suite(run=my_suite)</span><br></pre></td></tr></table></figure>

<h1 id="Forcing-Results"><a href="#Forcing-Results" class="headerlink" title="Forcing Results"></a>Forcing Results</h1><p>Test results can be forced, and the body of the test can be skipped
by using <a href="#ffails">ffails</a> or <a href="#ffails">FFails</a> decorator.
As long as the <a href="#pattern">pattern</a> has a chance of matching, this test attribute is pushed down the flow
from parent test to child tests</p>
<p>This enables the result of any child test to be force at any level of the test flow,
including at the top level test.</p>
<blockquote>
<p><strong>&#9995;</strong> When a test result is forced, the body of the test is not executed.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="meta">@FFails(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my suite/my test&quot;</span>: (<span class="params">Fail, <span class="string">&quot;test gets stuck&quot;</span></span>), <span class="comment"># skip body of the test and force `Fail` result</span></span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my suite/my other test&quot;</span>: (<span class="params">SKIP, <span class="string">&quot;not supported&quot;</span></span>) <span class="comment"># skip body of the test and force `Skip` result</span></span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self</span>):</span><br><span class="line">    Suite(run=my_suite)</span><br></pre></td></tr></table></figure>

<p>The optional <code>when</code> function can also be specified.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">version</span>(<span class="params">*versions</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check if the value of version test context variable</span></span><br><span class="line"><span class="string">    matches any in the list.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_when</span>(<span class="params">test</span>):</span><br><span class="line">        <span class="keyword">return</span> test.context.version <span class="keyword">in</span> versions</span><br><span class="line">    <span class="keyword">return</span> _when</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@FFails(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="comment"># force fail &quot;my test&quot; because it gets stuck on version 2.0</span></span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my test&quot;</span>: (<span class="params">Fail, <span class="string">&quot;test gets stuck&quot;</span>, version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">suite</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(run=my_test)</span><br></pre></td></tr></table></figure>

<h2 id="Forced-Result-Decorators"><a href="#Forced-Result-Decorators" class="headerlink" title="Forced Result Decorators"></a>Forced Result Decorators</h2><p>Forced result decorators such as <a href="#Skipped">Skipped</a>, <a href="#Failed">Failed</a>, <a href="#XFailed">XFailed</a>, <a href="#XErrored">XErrored</a>, <a href="#Okayed">Okayed</a>,
and <a href="#XOkayed">XOkayed</a> can be used to tie the force result right where the test is defined.</p>
<blockquote>
<p><strong>&#9995;</strong> When a test result is forced, the body of the test is not executed.</p>
</blockquote>
<p>These decorators are just a short-hand form of
specifying forced results using <a href="#ffails">ffails</a>
test attribute. Therefore, if parent test explicitly specifies <a href="#ffails">ffails</a> then it overrides
forced results tied to the test.</p>
<blockquote>
<p><strong>&#9995;</strong> Only one such decorator can be applied to a given test.
If you want to specify more than one forced result, use <a href="#ffails">FFails</a> decorator.</p>
</blockquote>
<p>See also the description for the <a href="#Optional-when-Condition">Optional <code>when</code> Condition</a>.</p>
<h3 id="Skipped"><a href="#Skipped" class="headerlink" title="Skipped"></a>Skipped</h3><p>The <a href="#Skipped">Skipped</a> decorator can be used to force <a href="#Skip">Skip</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Skipped(<span class="params"><span class="string">&quot;not supported on 2.0&quot;</span>, when=version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_test</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="Failed"><a href="#Failed" class="headerlink" title="Failed"></a>Failed</h3><p>The <a href="#Failed">Failed</a> decorator can be used to force <a href="#Fail">Fail</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Failed(<span class="params"><span class="string">&quot;force Fail on 2.0&quot;</span>, when=version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_test</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="XFailed"><a href="#XFailed" class="headerlink" title="XFailed"></a>XFailed</h3><p>The <a href="#XFailed">XFailed</a> decorator can be used to force <a href="#XFail">XFail</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@XFailed(<span class="params"><span class="string">&quot;force XFail on 2.0&quot;</span>, when=version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_test</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="XErrored"><a href="#XErrored" class="headerlink" title="XErrored"></a>XErrored</h3><p>The <a href="#XErrored">XErrored</a> decorator can be used to force <a href="#XError">XError</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@XErrored(<span class="params"><span class="string">&quot;force XError on 2.0&quot;</span>, when=version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_test</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="Okayed"><a href="#Okayed" class="headerlink" title="Okayed"></a>Okayed</h3><p>The <a href="#Okayed">Okayed</a> decorator can be used to force <a href="#OK">OK</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Okayed(<span class="params"><span class="string">&quot;force OK result on 2.0&quot;</span>, when=version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_test</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="XOkayed"><a href="#XOkayed" class="headerlink" title="XOkayed"></a>XOkayed</h3><p>The <a href="#XOkayed">XOkayed</a> decorator can be used to force <a href="#XOK">XOK</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@XOkayed(<span class="params"><span class="string">&quot;force XOK result on 2.0&quot;</span>, when=version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_test</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h1 id="Repeating-Tests"><a href="#Repeating-Tests" class="headerlink" title="Repeating Tests"></a>Repeating Tests</h1><p>You can repeat tests by specifying <a href="#Repeats">repeats</a> parameter either explicitly
for inline tests or using <a href="#Repeats">Repeats</a> or <a href="#Repeat">Repeat</a> decorator for decorated tests.</p>
<p>Repeating a test means to run it multiple times. For each run, a new <a href="#Iteration">Iteration</a> is
created, with the name being the index of the current iteration. The result of each
iteration is counted, and failures are not ignored.</p>
<p>In general, it’s useful to repeat a test when you would like to confirm test stability.
In addition to specifying repeats inside a test program, you can also pass [–repeat option]
to your test program to specify which tests you would like to repeat from the command line.</p>
<blockquote>
&#9995; If you need to repeat a test and you would like to count only
<p>the last passing iteration, see <a href="#Retrying-Tests">Retrying Tests</a> section.</p>
</blockquote>
<p>You can combine <a href="#Repeats">Repeats</a> with <a href="#Retries">Retries</a> and if done so, retries are performed
for each <a href="#Iteration">Iteration</a>.</p>
<p>By specifying <code>until</code> parameter, you can repeat a test <code>until</code> either <code>pass</code>, <code>fail</code> or <code>complete</code> criteria is met.</p>
<blockquote>
<p><strong>&#9995;</strong> Repeats can only be applied to tests that have a <a href="#Types">Test Type</a> or higher.
Repeating <a href="#Step">Step</a>s is not supported.</p>
</blockquote>
<h2 id="Until-Condition"><a href="#Until-Condition" class="headerlink" title="Until Condition"></a>Until Condition</h2><h3 id="pass"><a href="#pass" class="headerlink" title="pass"></a><code>pass</code></h3><p>Until <strong>pass</strong> means that iteration over a test will stop before the specified number of
repeats if an iteration has a passing results. Passing results include <a href="#OK">OK</a>, <a href="#XFail">XFail</a>, <a href="#XError">XError</a>, <a href="#XOK">XOK</a>, <a href="#XNull">XNull</a>.</p>
<h3 id="fail"><a href="#fail" class="headerlink" title="fail"></a><code>fail</code></h3><p>Until <strong>fail</strong> means that iteration over a test will stop before the specified number
of repeats if an iteration has a failing results. Failing results include <a href="#Fail">Fail</a>, <a href="#Error">Error</a>, and <a href="#Null">Null</a>.</p>
<h3 id="complete"><a href="#complete" class="headerlink" title="complete"></a><code>complete</code></h3><p>Until <strong>complete</strong> indicates that iteration over a test will end only after the specified number
of repetitions completes, regardless of the outcome of the result of each iteration.</p>
<h2 id="Repeats"><a href="#Repeats" class="headerlink" title="Repeats"></a>Repeats</h2><p>The <a href="#Repeats">Repeats</a> decorator can be applied to a decorated test that has a <a href="#Types">Test Type</a> or higher.
Repeating test <a href="#Step">Step</a>s is not allowed. The <a href="#Repeats">Repeats</a> decorator should be used
when you want to specify more than one test to be repeated. The tests to be repeated
are selected using test <a href="#pattern">pattern</a>s. The <a href="#Repeats">Repeats</a> decorator sets <a href="#Repeats">repeats</a> attribute
of the test.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="meta">@Repeats(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my scenario 0&quot;</span>: (<span class="params"><span class="number">5</span>, <span class="string">&quot;pass&quot;</span></span>) <span class="comment"># (count, until)</span></span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my scenario 1&quot;</span>: (<span class="params"><span class="number">10</span>, <span class="string">&quot;complete&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my scenario 2&quot;</span>: (<span class="params"><span class="number">3</span>, <span class="string">&quot;fail&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_feature</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(run=<span class="string">&quot;my_scenario&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>If you want to specify that only one test should repeat, it is more convenient to use <a href="#Repeat">Repeat</a>
decorator instead.</p>
<h2 id="Repeat"><a href="#Repeat" class="headerlink" title="Repeat"></a>Repeat</h2><p>The <a href="#Repeat">Repeat</a> decorator is used to specify a repetition for a single test that has
a <a href="#Types">Test Type</a> or higher. Repeating test <a href="#Step">Step</a>s is not allowed. The <a href="#Repeat">Repeat</a> decorator is
usually applied to the test to which the decorator is attached as, by default, the <code>pattern</code> is empty
and means it applies to the current test, and the <code>until</code> is set to <code>complete</code>
which means that the test will be repeated the specified number of times.</p>
<blockquote>
<p><strong>&#9995;</strong> If you need to specify repeat for more than one test,
use <a href="#Repeats">Repeats</a> decorator instead.</p>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> <a href="#Repeat">Repeat</a> decorator cannot be applied more than once
to the same test.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Repeat(<span class="params"><span class="number">5</span></span>) </span><span class="comment"># by default pattern=&quot;&quot;, until=&quot;complete&quot;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>If you want to specify a custom <code>pattern</code> or <code>until</code> condition, then pass them
using the parameters <code>pattern</code> and <code>until</code> respectively.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Repeat(<span class="params">count=<span class="number">5</span>, pattern=<span class="string">&quot;my subtest&quot;</span>, until=<span class="string">&quot;fail&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(name=<span class="string">&quot;my subtest&quot;</span>, run=my_test)</span><br></pre></td></tr></table></figure>

<h1 id="Repeating-Code-or-Function-Calls"><a href="#Repeating-Code-or-Function-Calls" class="headerlink" title="Repeating Code or Function Calls"></a>Repeating Code or Function Calls</h1><p>When you need to repeat a block of code or a function call, you can use
<a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L848">repeats class</a> and <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2928">repeat() function</a> respectively. This class and function
are flexible enough to repeat functions or inline code that contains tests.</p>
<h2 id="Using-repeats"><a href="#Using-repeats" class="headerlink" title="Using repeats()"></a>Using <code>repeats()</code></h2><p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L848">repeats class</a> can be used to repeat any block of inline code and is flexible
enough to repeat code that includes tests.</p>
<p>It takes the following optional arguments:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repeats(count=<span class="literal">None</span>, until=<span class="string">&quot;complete&quot;</span>, delay=<span class="number">0</span>, backoff=<span class="number">1</span>, jitter=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>count</code> number of iterations, default: <code>None</code></li>
<li><code>until</code> stop condition, either <code>pass</code>, <code>fail</code>, or <code>complete</code>, default: <code>complete</code></li>
<li><code>delay</code> delay in seconds between iterations, default: 0 seconds</li>
<li><code>backoff</code> backoff multiplier that is applied to the delay, default: 1</li>
<li><code>jitter</code> jitter added to delay between iterations specified as a tuple(min, max), default: <code>(0,0)</code></li>
</ul>
<p>and returns an iterator that can be used in <code>for</code> loop. For each iteration,
the iterator returns an <code>Iteration</code> object that you can use to wrap the code that needs to be repeated.</p>
<p>For example, below, we repeat for the code <code>5</code> times until all iterations are complete using <code>0.1</code> sec delay
between each iteration, a backoff multiplier of <code>1.2</code>, and jitter range between <code>-0.05</code> min to <code>0.05</code> max.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I try to get a random number&quot;</span>):</span><br><span class="line">        <span class="keyword">for</span> iteration <span class="keyword">in</span> repeats(count=<span class="number">5</span>, until=<span class="string">&quot;complete&quot;</span>, delay=<span class="number">0.1</span>, backoff=<span class="number">1.2</span>, jitter=(-<span class="number">0.05</span>,<span class="number">0.05</span>)):</span><br><span class="line">            <span class="keyword">with</span> iteration:</span><br><span class="line">                <span class="keyword">assert</span> random.random() &gt; <span class="number">0.8</span>, error()</span><br></pre></td></tr></table></figure>

<p>The code block is considered successful if no exception is raised during any of the iterations.
If an exception is raised in the code, the corresponding iteration is marked as failed.
The until condition controls when to stop iterations.</p>
<h2 id="Using-repeat"><a href="#Using-repeat" class="headerlink" title="Using repeat()"></a>Using <code>repeat()</code></h2><p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2928">repeat() function</a> can be used to repeat any function call
including decorated tests.</p>
<p>It takes the following arguments, where only <code>func</code> is mandatory.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repeat(func, count=<span class="literal">None</span>, until=<span class="string">&quot;complete&quot;</span>, delay=<span class="number">0</span>, backoff=<span class="number">1</span>, jitter=<span class="literal">None</span>)(*args, **kwargs)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>func</code> is the function to be retried</li>
<li><code>count</code> is the number of iterations, default: <code>None</code></li>
<li><code>until</code> stop condition, either <code>pass</code>, <code>fail</code>, or <code>complete</code>, default: <code>complete</code></li>
<li><code>delay</code> delay between iterations in seconds, default: <code>0</code></li>
<li><code>backoff</code> delay backoff multiplier, default: <code>1</code></li>
<li><code>jitter</code> tuple of the form <code>(min, max)</code> that specifies delay jitter
normally distributed between the <code>min</code> and <code>max</code> values, default: <code>None</code></li>
</ul>
<p>that returns a wrapper function, which then can be called with any arguments that are
passed to the repeated <code>func</code> on each iteration.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_func</span>(<span class="params">x</span>):</span><br><span class="line">    v = random.random()</span><br><span class="line">    <span class="keyword">assert</span> v &lt; x, error()</span><br><span class="line">    <span class="keyword">return</span> v</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    value = repeat(my_func, count=<span class="number">5</span>)(<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>

<p>Here is an example that shows how <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2928">repeat() function</a> can be used to repeat a test step.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_func</span>(<span class="params">x</span>):</span><br><span class="line">    v = random.random()</span><br><span class="line">    <span class="keyword">assert</span> v &lt; x, error()</span><br><span class="line">    <span class="keyword">return</span> v</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_step</span>(<span class="params">self, x</span>):</span><br><span class="line">    <span class="keyword">return</span> my_func(x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    note(repeat(my_step, count=<span class="number">5</span>)(x=<span class="number">0.2</span>)[<span class="number">0</span>].result.value)</span><br></pre></td></tr></table></figure>

<p>The same behavior can be achieved by setting <code>repeats</code> attribute of the test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_step</span>(<span class="params">self, x</span>):</span><br><span class="line">    <span class="keyword">return</span> my_func(x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    When(<span class="string">&quot;I run my step&quot;</span>, test=my_step, repeats=Repeat(count=<span class="number">5</span>))(x=<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>

<p>You can also use <code>repeat() function</code> inside an inline step.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_step</span>(<span class="params">self, x</span>):</span><br><span class="line">    <span class="keyword">return</span> my_func(x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I run my step&quot;</span>):</span><br><span class="line">        repeat(my_step, count=<span class="number">5</span>)(x=<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Retrying-Tests"><a href="#Retrying-Tests" class="headerlink" title="Retrying Tests"></a>Retrying Tests</h1><p>You can retry tests until they pass or until the number of retries is exhausted
or a timeout is reached by specifying <a href="#Retries">retries</a> parameter either explicitly
for inline tests or using <a href="#Retries">Retries</a> or <a href="#Retry">Retry</a> decorator for decorated tests.</p>
<p>Retrying a test means to run it multiple times until it passes.
A pass means that a retry has either <a href="#OK">OK</a>, <a href="#XFail">XFail</a>, <a href="#XError">XError</a>, <a href="#XNull">XNull</a>, <a href="#XOK">XOK</a>, or <a href="#Skip">Skip</a>
result.</p>
<p>For each attempt, a <a href="#RetryIteration">RetryIteration</a> is created with a name corresponding to the
attempt number. Any failures of an individual
attempt are ignored except for the last retry attempt. The last <a href="#RetryIteration">RetryIteration</a>
is marked using <a href="#LAST_RETRY">LAST_RETRY</a> flag.</p>
<p>In general, it’s useful to retry a test when test is unstable and sometimes could fail.
However, you still would like to run it as long as it passes within the specified number
of attempts or within a specified timeout period.</p>
<h2 id="Retries"><a href="#Retries" class="headerlink" title="Retries"></a>Retries</h2><p>The <a href="#Retries">Retries</a> decorator can be applied to any decorated test, including steps or higher.
The <a href="#Retries">Retries</a> decorator should be used when you want to specify more than one test to be retried.
The tests to be retried are selected using test <a href="#pattern">pattern</a>s. The <a href="#Retries">Retries</a> decorator sets <a href="#Retries">retries</a> attribute
of the test and causes the test to be retried until either it passes, the maximum
number of retries is reached, or timeout occurs if a timeout was specified.</p>
<p>The <a href="#Retries">Retries</a> decorator takes as an argument a dictionary of the following form</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    pattern: count[, timeout[, delay[, backoff[, jitter[, initial_delay]]]]],</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>count</code> is the number of retries, default: <code>None</code></li>
<li><code>timeout</code> is timeout in seconds, default: <code>None</code></li>
<li><code>delay</code> delay between retries in seconds, default: <code>0</code></li>
<li><code>backoff</code> delay backoff multiplier, default: <code>1</code></li>
<li><code>jitter</code> tuple of the form <code>(min, max)</code> that specifies delay jitter
normally distributed between the <code>min</code> and <code>max</code> values, default: <code>None</code></li>
<li><code>initial_delay</code> initial delay in seconds, default: <code>0</code></li>
</ul>
<p>If both <code>count</code> and <code>timeout</code> are specified, then the test is retried
either until the maximum retry <code>count</code> is reached or <code>timeout</code> is hit - whichever comes first.</p>
<blockquote>
<p><strong>&#9995;</strong> By default, if the number of retries or timeout is not specified, then
the test will be retried until it passes, but note that if the test can’t reach a passing result
then it can lead to an infinite loop.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="meta">@Retries(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my scenario 0&quot;</span>: <span class="number">5</span>,</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my scenario 1&quot;</span>: <span class="number">10</span></span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_feature</span>(<span class="params">self</span>):</span><br><span class="line">    Scenario(name=<span class="string">&quot;my scenario 0&quot;</span>, run=my_scenario)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my scenario 1&quot;</span>, run=my_scenario)</span><br></pre></td></tr></table></figure>

<p>will retry test <code>my scenario 0</code> up to <code>5</code> times and <code>my scenario 1</code> up to 10 times.</p>
<p>If you want to retry only one test, it is more convenient to use <a href="#Retry">Retry</a>
decorator instead.</p>
<h2 id="Retry"><a href="#Retry" class="headerlink" title="Retry"></a>Retry</h2><p>The <a href="#Retry">Retry</a> decorator is used to specify a retry for a single test that has
a <a href="#Types">Step Type</a> or higher. The <a href="#Retry">Retry</a> decorator is
usually applied to the test to which the decorator is attached, as by default, the <code>pattern</code> is empty,
which means it applies to the current test.
The <a href="#Retry">Retry</a> decorator sets <a href="#Retries">retries</a> attribute
of the test and causes the test to be retried until either it passes, the maximum
number of retries or timeout is reached.</p>
<blockquote>
<p><strong>&#9995;</strong> If you need to specify retries for more than one test,
use <a href="#Retries">Retries</a> decorator instead.</p>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> <a href="#Retry">Retry</a> decorator cannot be applied more than once
for the same test.</p>
</blockquote>
<p>The <a href="#Retry">Retry</a> decorator can take the following optional arguments</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Retry(count=<span class="literal">None</span>, timeout=<span class="literal">None</span>, delay=<span class="number">0</span>, backoff=<span class="number">1</span>, jitter=<span class="literal">None</span>, pattern=<span class="string">&quot;&quot;</span>, initial_delay=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>count</code> is the number of retries, default: <code>None</code></li>
<li><code>timeout</code> is timeout in seconds, default: <code>None</code></li>
<li><code>delay</code> delay between retries in seconds, default: <code>0</code></li>
<li><code>backoff</code> delay backoff multiplier, default: <code>1</code></li>
<li><code>jitter</code> tuple of the form <code>(min, max)</code> that specifies delay jitter
normally distributed between the <code>min</code> and <code>max</code> values, default: <code>None</code></li>
<li><code>pattern</code> is the test name pattern, default: <code>&quot;&quot;</code> which means the current test</li>
<li><code>initial_delay</code> initial delay in seconds, default: <code>0</code></li>
</ul>
<p>If both <code>count</code> and <code>timeout</code> are specified, then the test is retried until
either the maximum retry <code>count</code> is reached or <code>timeout</code> is hit - whichever comes first.</p>
<blockquote>
<p><strong>&#9995;</strong> By default, if number of retries or timeout is not specified, then
the test will be retried until it passes, but note that if the test can’t reach a passing result
then it can lead to an infinite loop.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Retry(<span class="params"><span class="number">5</span></span>) </span><span class="comment"># by default pattern=&quot;&quot;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or you can specify <code>pattern</code> explicitely. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Retry(<span class="params"><span class="number">5</span>, pattern=<span class="string">&quot;test to repeat&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_scenario</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h1 id="Retrying-Code-or-Function-Calls"><a href="#Retrying-Code-or-Function-Calls" class="headerlink" title="Retrying Code or Function Calls"></a>Retrying Code or Function Calls</h1><p>When you need to retry a block of code or a function call, you can use
<a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L891">retries class</a> and <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2819">retry() function</a> respectively. This class and function
are flexible enough to retry functions or inline code that contains tests.</p>
<h2 id="Using-retries"><a href="#Using-retries" class="headerlink" title="Using retries()"></a>Using <code>retries()</code></h2><p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L891">retries class</a> can be used to retry any block of inline code and is flexible
enough to retry code that includes tests.</p>
<p>It takes the following optional arguments:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">retries(count=<span class="literal">None</span>, timeout=<span class="literal">None</span>, delay=<span class="number">0</span>, backoff=<span class="number">1</span>, jitter=<span class="literal">None</span>, initial_delay=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>count</code> is the number of retries, default: <code>None</code></li>
<li><code>timeout</code> is timeout in seconds, default: <code>None</code></li>
<li><code>delay</code> delay between retries in seconds, default: <code>0</code></li>
<li><code>backoff</code> delay backoff multiplier, default: <code>1</code></li>
<li><code>jitter</code> tuple of the form <code>(min, max)</code> that specifies delay jitter
normally distributed between the <code>min</code> and <code>max</code> values, default: <code>None</code></li>
<li><code>initial_delay</code> initial delay in seconds, default: <code>0</code></li>
</ul>
<p>and returns an iterator that can be used in <code>for</code> loop. For each iteration,
the iterator returns a <code>RetryIteration</code> object that wraps the code that needs to be retried.</p>
<p>For example, below we wait for the code to succeed within <code>5</code> sec using <code>0.1</code> sec delay
between retries and backoff multiplier of <code>1.2</code> with a jitter range
of <code>-0.05</code> min to <code>0.05</code> max.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I try to get a random number&quot;</span>):</span><br><span class="line">        <span class="keyword">for</span> attempt <span class="keyword">in</span> retries(timeout=<span class="number">5</span>, delay=<span class="number">0.1</span>, backoff=<span class="number">1.2</span>, jitter=(-<span class="number">0.05</span>,<span class="number">0.05</span>)):</span><br><span class="line">            <span class="keyword">with</span> attempt:</span><br><span class="line">                <span class="keyword">assert</span> random.random() &gt; <span class="number">0.8</span>, error()</span><br></pre></td></tr></table></figure>

<p>The code block is considered successful if no exception is raised.</p>
<p>If an exception is raised, the code is retried until it succeeds, or, if specified,
the maximum number of retries or timeout is reached.</p>
<h2 id="Using-retry"><a href="#Using-retry" class="headerlink" title="Using retry()"></a>Using <code>retry()</code></h2><p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2819">retry() function</a> can be used to retry any function call,
including decorated tests.</p>
<p>It takes the following arguments, where only <code>func</code> is mandatory.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">retry(func, count=<span class="literal">None</span>, timeout=<span class="literal">None</span>, delay=<span class="number">0</span>, backoff=<span class="number">1</span>, jitter=<span class="literal">None</span>, initial_delay=<span class="number">0</span>)(*args, **kwargs)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>func</code> is the function to be retried</li>
<li><code>count</code> is the number of retries, default: <code>None</code></li>
<li><code>timeout</code> is timeout in seconds, default: <code>None</code></li>
<li><code>delay</code> delay between retries in seconds, default: <code>0</code></li>
<li><code>backoff</code> delay backoff multiplier, default: <code>1</code></li>
<li><code>jitter</code> tuple of the form <code>(min, max)</code> that specifies delay jitter
normally distributed between the <code>min</code> and <code>max</code> values, default: <code>None</code></li>
<li><code>initial_delay</code> initial delay in seconds, default: <code>0</code></li>
</ul>
<p>that returns a wrapper function, which then can be called with any arguments that are
passed to the retried <code>func</code> on each retry.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_func</span>(<span class="params">x</span>):</span><br><span class="line">    v = random.random()</span><br><span class="line">    <span class="keyword">assert</span> v &lt; x, error()</span><br><span class="line">    <span class="keyword">return</span> v</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    value = retry(my_func, timeout=<span class="number">5</span>)(<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>

<p>Here is an example that shows how <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/test.py#L2819">retry() function</a> can be used to retry a test step.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_func</span>(<span class="params">x</span>):</span><br><span class="line">    v = random.random()</span><br><span class="line">    <span class="keyword">assert</span> v &lt; x, error()</span><br><span class="line">    <span class="keyword">return</span> v</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_step</span>(<span class="params">self, x</span>):</span><br><span class="line">    <span class="keyword">return</span> my_func(x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    note(retry(my_step, timeout=<span class="number">5</span>)(x=<span class="number">0.2</span>).result.value)</span><br></pre></td></tr></table></figure>

<p>The same behavior can be achieved by setting <code>retries</code> attribute of the test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_step</span>(<span class="params">self, x</span>):</span><br><span class="line">    <span class="keyword">return</span> my_func(x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    When(<span class="string">&quot;I run my step&quot;</span>, test=my_step, retries=Retry(timeout=<span class="number">5</span>))(x=<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>

<p>You can also use <code>retry() function</code> inside an inline step.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_step</span>(<span class="params">self, x</span>):</span><br><span class="line">    <span class="keyword">return</span> my_func(x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I run my step&quot;</span>):</span><br><span class="line">        retry(my_step, timeout=<span class="number">5</span>)(x=<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Using-YML-Config-Files"><a href="#Using-YML-Config-Files" class="headerlink" title="Using YML Config Files"></a>Using YML Config Files</h1><p>All the test programs have a common optional <code>--config</code> argument that allows to
specify one or more configuration files in <a target="_blank" rel="noopener" href="https://yaml.org/">YML</a> format.
The configuration files can be used to specify either common test program arguments
such as <a href="#%E2%80%93no-colors">–no-colors</a>, <a href="#%E2%80%93output">–output</a>, etc. as well as custom
<a href="#Command-Line-Arguments">Command Line Arguments</a> that were added using
<a href="#argparser">argparser</a> parameter.</p>
<blockquote>
<p><em>&#9995;</em> Technically <a target="_blank" rel="noopener" href="https://yaml.org/">YML</a> files should always start with <code>---</code>
to indicate the start of a new document. However, in <em><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></em> configuration
files, you can omit them.</p>
</blockquote>
<h2 id="Test-Run-Arguments"><a href="#Test-Run-Arguments" class="headerlink" title="Test Run Arguments"></a>Test Run Arguments</h2><p>Common test run arguments such as <a href="#%E2%80%93no-colors">–no-colors</a>, <a href="#%E2%80%93output">–output</a>, etc. must be specified
in the <code>test run:</code> section of the <a target="_blank" rel="noopener" href="https://yaml.org/">YML</a> configuration file.</p>
<p>For example,</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">   <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>can be called with the following <a target="_blank" rel="noopener" href="https://yaml.org/">YML</a> config file to set <a href="#%E2%80%93output">–output</a> and <a href="#%E2%80%93no-colors">–no-colors</a>
options for the test program to run.</p>
<blockquote>
<p><code>config.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">test run:</span></span><br><span class="line"> <span class="attr">no-colors:</span> <span class="literal">true</span></span><br><span class="line"> <span class="attr">output:</span> <span class="string">progress</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
&#9995; Names of the common test run arguments have the same names as the corresponding
<p>command line option, without the <code>--</code> prefix.</p>
<p>For example,</p>
<ul>
<li><code>--no-colors</code> is <code>no-colors:</code></li>
<li><code>--output</code> is <code>output:</code></li>
<li><code>--show-skipped</code> is <code>show-skipped:</code></li>
</ul>
</blockquote>
<p>If you run <code>test.py</code> and apply the above <code>config.yml</code> you will see that the output format
for the test run will be set to <code>progress</code> and no terminal color highlighting will be applied
to the output.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --config config.yml</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Executed 1 <span class="built_in">test</span> (1 ok)</span><br><span class="line"></span><br><span class="line">Passing</span><br><span class="line"></span><br><span class="line">✔ [ OK ] /my <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">1 scenario (1 ok)</span><br></pre></td></tr></table></figure>

<h2 id="Custom-Arguments"><a href="#Custom-Arguments" class="headerlink" title="Custom Arguments"></a>Custom Arguments</h2><p>Test program custom <a href="#Command-Line-Arguments">Command Line Arguments</a> that are added using
<a href="#argparser">argparser</a> parameter can be specified at the top level of <a target="_blank" rel="noopener" href="https://yaml.org/">YML</a> configuration file.</p>
<blockquote>
&#9995; Names of the custom options have the same names as the corresponding
<p>command line option without the <code>--</code> prefix.</p>
<p>For example,</p>
<ul>
<li><code>--custom-arg</code> is <code>custom-colors:</code></li>
<li><code>--build</code> is <code>build:</code></li>
</ul>
</blockquote>
<p>For example,</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">argparser</span>(<span class="params">parser</span>):</span><br><span class="line">   parser.add_argument(<span class="string">&quot;--custom-arg&quot;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, <span class="built_in">help</span>=<span class="string">&quot;my custom test program argument&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>, argparser=argparser):</span><br><span class="line">   <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>and if you havee the following configuration file</p>
<blockquote>
<p><code>config.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom-arg:</span> <span class="string">hello</span> <span class="string">there</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>and apply it when running <code>test.py</code> then you will see that <code>custom-arg</code> value
will be set to the one you’ve specified in the <code>config.yml</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py -c config.yml</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Sep 24,2021 21:40:52   ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">                            Attributes</span><br><span class="line">                              custom-arg</span><br><span class="line">                                hello there</span><br><span class="line">                 3ms   ⟥⟤ OK my <span class="built_in">test</span>, /my <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<h2 id="Applying-Multiple-YML-Files"><a href="#Applying-Multiple-YML-Files" class="headerlink" title="Applying Multiple YML Files"></a>Applying Multiple YML Files</h2><p>If more than one <a target="_blank" rel="noopener" href="https://yaml.org/">YML</a> configuration file is specified on the command line,
the configuration files are then applied in the order specified, from left to right
as specified on the command line, with the right most file having the highest precedence.</p>
<p>For example,</p>
<blockquote>
<p><code>config1.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom-arg:</span> <span class="string">hello</span> <span class="string">here</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><code>config2.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom-arg:</span> <span class="string">hello</span> <span class="string">there</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py -c config1.yml -c config2.yml</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Sep 24,2021 21:48:47   ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">                            Attributes</span><br><span class="line">                              custom-arg</span><br><span class="line">                                hello there</span><br><span class="line">                 4ms   ⟥⟤ OK my <span class="built_in">test</span>, /my <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<h1 id="Adding-Messages"><a href="#Adding-Messages" class="headerlink" title="Adding Messages"></a>Adding Messages</h1><p>You can add custom messages to your tests using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L201">note() function</a>, <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L206">debug() function</a>,
<a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L211">trace() function</a>, and <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L216">message() function</a>.</p>
<blockquote>
<p><strong>&#9995;</strong> Use Python <a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/inputoutput.html#tut-f-strings">f-string</a>s if you need to format a message using variables.</p>
</blockquote>
<h2 id="Using-note"><a href="#Using-note" class="headerlink" title="Using note()"></a>Using <code>note()</code></h2><p>Use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L201">note() function</a> to add a note message to your test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">note(message, test=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>message</code> is a string that contains your message</li>
<li><code>test</code> (optional) the instance of the test to which the message will be added, default: current test</li>
</ul>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    name = <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">    note(<span class="string">f&quot;Hello <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>when executed shows the <code>note</code> message.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Nov 15,2021 14:17:21   ⟥  Scenario my scenario</span><br><span class="line">                 8ms   ⟥    [note] Hello Your Name!</span><br><span class="line">                 8ms   ⟥⟤ OK my scenario, /my scenario</span><br></pre></td></tr></table></figure>

<h2 id="Using-debug"><a href="#Using-debug" class="headerlink" title="Using debug()"></a>Using <code>debug()</code></h2><p>Use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L206">debug() function</a> to add a debug message to your test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">debug(message, test=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>message</code> is a string that contains your message</li>
<li><code>test</code> (optional) the instance of the test to which the message will be added, default: current test</li>
</ul>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    name = <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">    debug(<span class="string">f&quot;Hello <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>when executed shows the <code>debug</code> message.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Nov 15,2021 14:19:27   ⟥  Scenario my scenario</span><br><span class="line">                 4ms   ⟥    [debug] Hello Your Name!</span><br><span class="line">                 4ms   ⟥⟤ OK my scenario, /my scenario</span><br></pre></td></tr></table></figure>

<h2 id="Using-trace"><a href="#Using-trace" class="headerlink" title="Using trace()"></a>Using <code>trace()</code></h2><p>Use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L211">trace() function</a> to add a trace message to your test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">trace(message, test=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>message</code> is a string that contains your message</li>
<li><code>test</code> (optional) the instance of the test to which the message will be added, default: current test</li>
</ul>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    name = <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">    trace(<span class="string">f&quot;Hello <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>when executed shows the <code>trace</code> message.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Nov 15,2021 14:20:17   ⟥  Scenario my scenario</span><br><span class="line">                 4ms   ⟥    [trace] Hello Your Name!</span><br><span class="line">                 4ms   ⟥⟤ OK my scenario, /my scenario</span><br></pre></td></tr></table></figure>

<h2 id="Using-message"><a href="#Using-message" class="headerlink" title="Using message()"></a>Using <code>message()</code></h2><p>Use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L216">message() function</a> to add a generic message to your test
that could optionally be assigned to a <code>stream</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">message(message, test=<span class="literal">None</span>, stream=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>message</code> is a string that contains your message</li>
<li><code>test</code> (optional) the instance of the test to which the message will be added, default: current test</li>
<li><code>stream</code> (option) is a stream with which the message should be associated</li>
</ul>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    name = <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">    message(<span class="string">f&quot;Hello <span class="subst">&#123;name&#125;</span>!&quot;</span>, stream=<span class="string">&quot;my stream&quot;</span>)</span><br><span class="line">    message(<span class="string">f&quot;Hello <span class="subst">&#123;name&#125;</span> there again!&quot;</span>, stream=<span class="string">&quot;another stream&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>when executed shows the custom <code>message</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Nov 15,2021 14:37:53   ⟥  Scenario my scenario</span><br><span class="line">                 4ms        [my stream] Hello Your Name!</span><br><span class="line">                 4ms        [another stream] Hello Your Name there again!</span><br><span class="line">                 4ms   ⟥⟤ OK my scenario, /my scenario</span><br></pre></td></tr></table></figure>

<h2 id="Using-exception"><a href="#Using-exception" class="headerlink" title="Using exception()"></a>Using <code>exception()</code></h2><p>Use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L221">exception() function</a> to manually add an exception message to your test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exception(exc_type, exc_value, exc_traceback, test=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>exc_type</code> exception type</li>
<li><code>exc_value</code> exception value</li>
<li><code>exc_traceback</code> exception traceback</li>
<li><code>test</code> (optional) the instance of the test to which the message will be added, default: current test</li>
</ul>
<blockquote>
<p><strong>&#9995;</strong> The <code>exc_type</code>, <code>exc_value</code>, and <code>exc_traceback</code>
are usually obtained from <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/sys.html#sys.exc_info">sys.exc_info()</a> that must be called
within <code>except</code> block.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">raise</span> RuntimeError(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        exception(*sys.exc_info())</span><br></pre></td></tr></table></figure>

<p>when executed shows the <code>exception</code> message.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Nov 15,2021 15:08:48   ⟥  Scenario my scenario</span><br><span class="line">                 4ms   ⟥    Exception: Traceback (most recent call last):</span><br><span class="line">                                File <span class="string">&quot;msgs.py&quot;</span>, line 6, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                                  raise RuntimeError(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">                              RuntimeError: error</span><br><span class="line">                 4ms   ⟥⟤ OK my scenario, /my scenario</span><br></pre></td></tr></table></figure>

<h1 id="Adding-Metrics"><a href="#Adding-Metrics" class="headerlink" title="Adding Metrics"></a>Adding Metrics</h1><p>You can add <code>metric</code> messages to your test using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L145">metric() function</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">metric(name, value, units, <span class="built_in">type</span>=<span class="literal">None</span>, group=<span class="literal">None</span>, uid=<span class="literal">None</span>, base=Metric, test=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>name</code> name of the metric</li>
<li><code>value</code> value of the metric</li>
<li><code>units</code> units of the metric (string)</li>
<li><code>type</code> (optional) metric type</li>
<li><code>group</code> (optional) metric group</li>
<li><code>uid</code> (optionl) metric unique identifier</li>
<li><code>base</code> (optional) metric base class, default: <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L252">Metric class</a></li>
<li><code>test</code> (optional) the instance of the test to which the message will be added, default: current test</li>
</ul>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    metric(<span class="string">&quot;my metric&quot;</span>, <span class="number">20.56</span>, <span class="string">&quot;Hz&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>when executed shows the <code>metric</code> message.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Nov 15,2021 16:44:13   ⟥  Scenario my scenario</span><br><span class="line">                 5ms   ⟥    Metric my metric</span><br><span class="line">                              20.56 Hz</span><br><span class="line">                 5ms   ⟥⟤ OK my scenario, /my scenario</span><br></pre></td></tr></table></figure>

<p>You can use <code>cat test.log | tfs show metrics</code> command to see all the metrics for a given test.
See <a href="#Show-Metrics">Show Metrics</a> and <a href="#Metrics-Report">Metrics Report</a>.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs show metrics</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Scenario /my scenario</span><br><span class="line">  Metric my metric</span><br><span class="line">    20.56 Hz</span><br></pre></td></tr></table></figure>

<h1 id="Reading-Input"><a href="#Reading-Input" class="headerlink" title="Reading Input"></a>Reading Input</h1><p>You can read input during test program execution using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L325">input() function</a>.
This function is commonly used in <a href="#Semi-Automated-And-Manual-Tests">Semi-Automated And Manual Tests</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">input</span>(<span class="built_in">type</span>, multiline=<span class="literal">False</span>, choices=<span class="literal">None</span>, confirm=<span class="literal">True</span>, test=<span class="literal">None</span></span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>type</code> is either a string or <code>result</code> function.</li>
<li><code>multiline</code> (optional) flag to indicate if input is multiline string, default: <code>False</code></li>
<li><code>choices</code> (optional) a list of valid options (only applies if <code>type</code> is string)</li>
<li><code>confirm</code> (optional) request confirmation, default: <code>True</code></li>
<li><code>test</code> the instance of the test that will be associated with the input message, default: current test</li>
</ul>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    <span class="built_in">input</span>(<span class="string">&quot;What is your name?&quot;</span>, multiline=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<p>when executed prompts for <code>input</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Nov 15,2021 17:19:25   ⟥  Scenario my scenario</span><br><span class="line">✍  What is your name?</span><br><span class="line">TestFlows</span><br><span class="line">✍  Is this correct [Y/n]? Y</span><br><span class="line">            6s 490ms   ⟥⟤ OK my scenario, /my scenario</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Also, you can prompt for the result. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    <span class="built_in">input</span>(result)</span><br></pre></td></tr></table></figure>

<p>when executed prompts for <code>result</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Nov 15,2021 17:22:26   ⟥  Scenario my scenario</span><br><span class="line">✍  Enter `my scenario` result? OK success</span><br><span class="line">✍  Is this correct [Y/n]?</span><br><span class="line">            3s 198ms   ⟥⟤ OK my scenario, /my scenario, success</span><br></pre></td></tr></table></figure>

<h1 id="Test-Program-Options"><a href="#Test-Program-Options" class="headerlink" title="Test Program Options"></a>Test Program Options</h1><h2 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h2><h3 id="h-–help"><a href="#h-–help" class="headerlink" title="-h, –help"></a>-h, –help</h3><p>The <code>-h</code>, <code>--help</code> option can be used to obtain a help message that describes all the command line
options a test can accept. For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>

<h3 id="l-–log"><a href="#l-–log" class="headerlink" title="-l, –log"></a>-l, –log</h3><p>The <code>-l</code>, <code>--log</code> option can be used to specify the path of the file where the test log will be saved.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --<span class="built_in">log</span> ./test.log</span><br></pre></td></tr></table></figure>

<h3 id="–name"><a href="#–name" class="headerlink" title="–name"></a>–name</h3><p>The <code>--name</code> option can be used to specify the name of the top level test.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --name <span class="string">&quot;My custom top level test name&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="–tag"><a href="#–tag" class="headerlink" title="–tag"></a>–tag</h3><p>The <code>--tag</code> option can be used to specify one or more tags for the top level test.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --tag <span class="string">&quot;tag0&quot;</span> <span class="string">&quot;tag1&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="–attr"><a href="#–attr" class="headerlink" title="–attr"></a>–attr</h3><p>The <code>--attr</code> option can be used to specify one or more attributes for the top level test.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --attr attr0=value0 attr1=value1</span><br></pre></td></tr></table></figure>

<h3 id="–debug"><a href="#–debug" class="headerlink" title="–debug"></a>–debug</h3><p>Enable debugging mode. Turned off by default.</p>
<h3 id="–output"><a href="#–output" class="headerlink" title="–output"></a>–output</h3><p>The <code>--output</code> option can be used to control the output format of messages printed to <code>stdout</code>.</p>
<h3 id="–no-colors"><a href="#–no-colors" class="headerlink" title="–no-colors"></a>–no-colors</h3><p>The <code>--no-colors</code> option can be used to turn off terminal color highlighting.</p>
<h3 id="–id"><a href="#–id" class="headerlink" title="–id"></a>–id</h3><p>The <code>--id</code> option can be used to specify a custom <a href="#Top-Level-Test">Top Level Test</a> id.</p>
<h3 id="–show-skipped"><a href="#–show-skipped" class="headerlink" title="–show-skipped"></a>–show-skipped</h3><p>Show skipped tests.</p>
<h3 id="–show-retries"><a href="#–show-retries" class="headerlink" title="–show-retries"></a>–show-retries</h3><p>Show retried tests.</p>
<h3 id="–test-to-end"><a href="#–test-to-end" class="headerlink" title="–test-to-end"></a>–test-to-end</h3><p>Force all tests to be completed and continue the run even if one of the tests fails.</p>
<h3 id="–first-fail"><a href="#–first-fail" class="headerlink" title="–first-fail"></a>–first-fail</h3><p>Force all tests to fail and stop the run on the first failing test.</p>
<h3 id="Filtering"><a href="#Filtering" class="headerlink" title="Filtering"></a>Filtering</h3><h4 id="pattern"><a href="#pattern" class="headerlink" title="pattern"></a>pattern</h4><p>Options such as <a href="#%E2%80%93only">–only</a>, <a href="#%E2%80%93skip">–skip</a>, <a href="#%E2%80%93start">–start</a>, <a href="#%E2%80%93end">–end</a> as well as
<a href="#%E2%80%93pause-before">–pause-before</a> and <a href="#%E2%80%93pause-after">–pause-after</a> take a <a href="#pattern">pattern</a> to specify the exact test
which the option will be applied.</p>
<p>The <a href="#pattern">pattern</a> is used to match test names using a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Glob_(programming)">unix-like file path pattern</a> that supports wildcards</p>
<ul>
<li><code>/</code> path level separator</li>
<li><code>*</code> matches everything</li>
<li><code>?</code> matches any single character</li>
<li><code>[seq]</code> matches any character in seq</li>
<li><code>[!seq]</code> matches any character not in seq</li>
<li><code>:</code> matches anything at the current path level</li>
</ul>
<blockquote>
<p><strong>&#9995;</strong> Note that for a literal match, you must wrap the meta-characters in brackets
where <code>[?]</code> matches the character <code>?</code>.</p>
</blockquote>
<h4 id="–only"><a href="#–only" class="headerlink" title="–only"></a>–only</h4><p>The <code>--only</code> option can be used to filter the test flow so that only the specified tests
are executed.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that mandatory tests will still be run.</p>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> Note that most of the time the <a href="#pattern">pattern</a> should end with <code>/*</code> so that
any steps or sub-tests are executed inside the selected test.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only <span class="string">&quot;/my test/*&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="–skip"><a href="#–skip" class="headerlink" title="–skip"></a>–skip</h4><p>The <code>--skip</code> option can be used to filter the test flow so that the specified tests
are skipped.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–start"><a href="#–start" class="headerlink" title="–start"></a>–start</h4><p>The <code>--start</code> option can be used to filter the test flow so that the test flow starts at
the specified test.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–only-tags"><a href="#–only-tags" class="headerlink" title="–only-tags"></a>–only-tags</h4><p>The <code>--only-tags</code> option can be used to filter the test flow so that only
tests with a particular tag are selected to run and others are skipped.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–skip-tags"><a href="#–skip-tags" class="headerlink" title="–skip-tags"></a>–skip-tags</h4><p>The <code>--skip-tags</code> option can be used to filter the test flow so that only
tests with a particular tag are skipped.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–end"><a href="#–end" class="headerlink" title="–end"></a>–end</h4><p>The <code>--end</code> option can be used to filter the test flow so that the test flow ends at
the specified tests.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–pause-before"><a href="#–pause-before" class="headerlink" title="–pause-before"></a>–pause-before</h4><p>The <code>--pause-before</code> option can be used to specify the tests before which the test flow
will be paused.</p>
<h4 id="–pause-after"><a href="#–pause-after" class="headerlink" title="–pause-after"></a>–pause-after</h4><p>The <code>--pause-after</code> option can be used to specify the tests after which the test flow
will be paused.</p>
<h4 id="–pause-on-pass"><a href="#–pause-on-pass" class="headerlink" title="–pause-on-pass"></a>–pause-on-pass</h4><p>The <code>--pause-on-pass</code> option can be used to specify the tests after which the test flow
will be paused if the test has a passing result.</p>
<h4 id="–pause-on-fail"><a href="#–pause-on-fail" class="headerlink" title="–pause-on-fail"></a>–pause-on-fail</h4><p>The <code>--pause-on-fail</code> option can be used to specify the tests after which the test flow
will be paused if the test has a failing result.</p>
<h4 id="–repeat"><a href="#–repeat" class="headerlink" title="–repeat"></a>–repeat</h4><p>The <code>--repeat</code> option can be used to specify the tests to be repeated.</p>
<h4 id="–retry"><a href="#–retry" class="headerlink" title="–retry"></a>–retry</h4><p>The <code>--retry</code> option can be used to specify the tests to be retried.</p>
<h1 id="Test-Flags"><a href="#Test-Flags" class="headerlink" title="Test Flags"></a>Test Flags</h1><p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> supports the following test flags.</p>
<h2 id="TE"><a href="#TE" class="headerlink" title="TE"></a>TE</h2><p>Test to end flag. Continues executing tests even if this test fails.</p>
<h2 id="UT"><a href="#UT" class="headerlink" title="UT"></a>UT</h2><p>Utility test flags. Marks test as utility for reporting.</p>
<h2 id="SKIP"><a href="#SKIP" class="headerlink" title="SKIP"></a>SKIP</h2><p>Skip test flag. Skips the test during execution.</p>
<h2 id="EOK"><a href="#EOK" class="headerlink" title="EOK"></a>EOK</h2><p>Expected <a href="#OK">OK</a> flag. Test result will be set to <a href="#Fail">Fail</a> if the test result is not <a href="#OK">OK</a> otherwise <a href="#OK">OK</a>.</p>
<h2 id="EFAIL"><a href="#EFAIL" class="headerlink" title="EFAIL"></a>EFAIL</h2><p>Expected <a href="#Fail">Fail</a> flag. Test result will be set to <a href="#Fail">Fail</a> if the test result is not <a href="#Fail">Fail</a> otherwise <a href="#OK">OK</a>.</p>
<h2 id="EERROR"><a href="#EERROR" class="headerlink" title="EERROR"></a>EERROR</h2><p>Expected <a href="#Error">Error</a> flag. Test result will be set to <a href="#Fail">Fail</a> if the test result is not <a href="#Error">Error</a> otherwise <a href="#OK">OK</a>.</p>
<h2 id="ESKIP"><a href="#ESKIP" class="headerlink" title="ESKIP"></a>ESKIP</h2><p>Expected <a href="#Skip">Skip</a> flag. Test result will be set to <a href="#Fail">Fail</a> if the test result is not <a href="#Skip">Skip</a> otherwise <a href="#OK">OK</a>.</p>
<h2 id="XOK-1"><a href="#XOK-1" class="headerlink" title="XOK"></a>XOK</h2><p>Cross out <a href="#OK">OK</a> flag. Test result will be set to <a href="#XOK">XOK</a> if the test result is <a href="#OK">OK</a>.</p>
<h2 id="XFAIL"><a href="#XFAIL" class="headerlink" title="XFAIL"></a>XFAIL</h2><p>Cross out <a href="#Fail">Fail</a> flag. Test result will be set to <a href="#XFail">XFail</a> if the test result is <a href="#Fail">Fail</a>.</p>
<h2 id="XERROR"><a href="#XERROR" class="headerlink" title="XERROR"></a>XERROR</h2><p>Cross out <a href="#Error">Error</a> flag. Test result will be set to <a href="#XError">XError</a> if the test result is <a href="#Error">Error</a>.</p>
<h2 id="XNULL"><a href="#XNULL" class="headerlink" title="XNULL"></a>XNULL</h2><p>Cross out <a href="#Null">Null</a> flag. Test result will be set to <a href="#XNull">XNull</a> if the test result is <a href="#Null">Null</a>.</p>
<h2 id="FAIL-NOT-COUNTED"><a href="#FAIL-NOT-COUNTED" class="headerlink" title="FAIL_NOT_COUNTED"></a>FAIL_NOT_COUNTED</h2><p><a href="#Fail">Fail</a> not counted. <a href="#Fail">Fail</a> result will not be counted.</p>
<h2 id="ERROR-NOT-COUNTED"><a href="#ERROR-NOT-COUNTED" class="headerlink" title="ERROR_NOT_COUNTED"></a>ERROR_NOT_COUNTED</h2><p><a href="#Error">Error</a> not counted. <a href="#Error">Error</a> result will not be counted.</p>
<h2 id="NULL-NOT-COUNTED"><a href="#NULL-NOT-COUNTED" class="headerlink" title="NULL_NOT_COUNTED"></a>NULL_NOT_COUNTED</h2><p><a href="#Null">Null</a> not counted. <a href="#Null">Null</a> result will not be counted.</p>
<h2 id="PAUSE-BEFORE"><a href="#PAUSE-BEFORE" class="headerlink" title="PAUSE_BEFORE"></a>PAUSE_BEFORE</h2><p>Pause before test execution.</p>
<h2 id="PAUSE"><a href="#PAUSE" class="headerlink" title="PAUSE"></a>PAUSE</h2><p>Pause before test execution short form. See <a href="#PAUSE_BEFORE">PAUSE_BEFORE</a>.</p>
<h2 id="PAUSE-AFTER"><a href="#PAUSE-AFTER" class="headerlink" title="PAUSE_AFTER"></a>PAUSE_AFTER</h2><p>Pause after test execution.</p>
<h2 id="PAUSE-ON-PASS"><a href="#PAUSE-ON-PASS" class="headerlink" title="PAUSE_ON_PASS"></a>PAUSE_ON_PASS</h2><p>Pause after test execution on passing result.</p>
<h2 id="PAUSE-ON-FAIL"><a href="#PAUSE-ON-FAIL" class="headerlink" title="PAUSE_ON_FAIL"></a>PAUSE_ON_FAIL</h2><p>Pause after test execution on failing result.</p>
<h2 id="REPORT"><a href="#REPORT" class="headerlink" title="REPORT"></a>REPORT</h2><p>Report flag. Mark test to be included for reporting.</p>
<h2 id="DOCUMENT"><a href="#DOCUMENT" class="headerlink" title="DOCUMENT"></a>DOCUMENT</h2><p>Document flag. Mark test to be included in the documentation.</p>
<h2 id="MANDATORY"><a href="#MANDATORY" class="headerlink" title="MANDATORY"></a>MANDATORY</h2><p>Mandatory flag. Mark test as mandatory such that it can’t be skipped.</p>
<h2 id="ASYNC"><a href="#ASYNC" class="headerlink" title="ASYNC"></a>ASYNC</h2><p>Asynchronous test flag. This flag is set for all asynchronous tests.</p>
<h2 id="PARALLEL"><a href="#PARALLEL" class="headerlink" title="PARALLEL"></a>PARALLEL</h2><p>Parallel test flag. This flag is set if test is running in parallel.</p>
<h2 id="MANUAL"><a href="#MANUAL" class="headerlink" title="MANUAL"></a>MANUAL</h2><p>Manual test flag. This flag indicates that test is manual.</p>
<h2 id="AUTO"><a href="#AUTO" class="headerlink" title="AUTO"></a>AUTO</h2><p>Automated test flag. This flag indicates that the test is automated
when parent test has <a href="#MANUAL">MANUAL</a> flag set.</p>
<h2 id="LAST-RETRY"><a href="#LAST-RETRY" class="headerlink" title="LAST_RETRY"></a>LAST_RETRY</h2><p>Last retry flag. This flag is auto-set for the last retry iteration.</p>
<h1 id="Controlling-Output"><a href="#Controlling-Output" class="headerlink" title="Controlling Output"></a>Controlling Output</h1><p>Test output can be controlled with <code>-o</code> or <a href="#%E2%80%93output">–output</a> option, which specifies the output format to use
to print to <code>stdout</code>. By default, the most detailed <code>nice</code> output is used.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-o format, --output format                      stdout output format, choices are: [<span class="string">&#x27;new-fails&#x27;</span>,</span><br><span class="line">                                                <span class="string">&#x27;fails&#x27;</span>, <span class="string">&#x27;classic&#x27;</span>, <span class="string">&#x27;slick&#x27;</span>, <span class="string">&#x27;nice&#x27;</span>, <span class="string">&#x27;brisk&#x27;</span>,</span><br><span class="line">                                                <span class="string">&#x27;quiet&#x27;</span>, <span class="string">&#x27;short&#x27;</span>, <span class="string">&#x27;manual&#x27;</span>, <span class="string">&#x27;dots&#x27;</span>, <span class="string">&#x27;progress&#x27;</span>,</span><br><span class="line">                                                <span class="string">&#x27;raw&#x27;</span>], default: <span class="string">&#x27;nice&#x27;</span></span><br></pre></td></tr></table></figure>

<p>For example, you can use the following test and see how the output format
changes based on the output that is specified.</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>, flags=TE, attributes=[(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;value&quot;</span>)], tags=(<span class="string">&quot;tag1&quot;</span>, <span class="string">&quot;tag2&quot;</span>)):</span><br><span class="line">   <span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>, description=<span class="string">&quot;Test description.&quot;</span>):</span><br><span class="line">       <span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">           note(<span class="string">&quot;do something&quot;</span>)</span><br><span class="line">       <span class="keyword">with</span> Then(<span class="string">&quot;I check the result&quot;</span>):</span><br><span class="line">           note(<span class="string">&quot;check the result&quot;</span>)</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="nice-Output"><a href="#nice-Output" class="headerlink" title="nice Output"></a><code>nice</code> Output</h2><p>The <a href="#nice-Output"><code>nice</code></a> output format is the default output format and provides the most
details when developing and debugging tests. This output format includes all test types,
their attributes and results, as well as any messages that are associated with them.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format is the most useful for developing and
debugging an individual test.
This output format is not useful when tests are executed in parallel.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --output <span class="built_in">nice</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Sep 25,2021 9:29:39   ⟥  Module regression, flags:TE</span><br><span class="line">                           Attributes</span><br><span class="line">                             name</span><br><span class="line">                               value</span><br><span class="line">                           Tags</span><br><span class="line">                             tag1</span><br><span class="line">                             tag2</span><br><span class="line">Sep 25,2021 9:29:39     ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">                             Test description.</span><br><span class="line">Sep 25,2021 9:29:39       ⟥  When I <span class="keyword">do</span> something</span><br><span class="line">              508us       ⟥    [note] <span class="keyword">do</span> something</span><br><span class="line">              715us       ⟥⟤ OK I <span class="keyword">do</span> something, /regression/my <span class="built_in">test</span>/I <span class="keyword">do</span> something</span><br><span class="line">Sep 25,2021 9:29:39       ⟥  Then I check the result</span><br><span class="line">              471us       ⟥    [note] check the result</span><br><span class="line">              704us       ⟥⟤ OK I check the result, /regression/my <span class="built_in">test</span>/I check the result</span><br><span class="line">                2ms     ⟥⟤ OK my <span class="built_in">test</span>, /regression/my <span class="built_in">test</span></span><br><span class="line">               12ms   ⟥⟤ OK regression, /regression</span><br></pre></td></tr></table></figure>

<p>produces the same output as when <a href="#%E2%80%93output">–output</a> is omitted.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py</span><br></pre></td></tr></table></figure>

<h2 id="brisk-Output"><a href="#brisk-Output" class="headerlink" title="brisk Output"></a><code>brisk</code> Output</h2><p>The <a href="#brisk-Output"><code>brisk</code></a> output format is very similar to <a href="#nice-Output"><code>nice</code></a> output format but
omits all steps (tests that have <a href="#Types">Step Type</a>). This format is useful when
you would like to focus on the actions of the test, such as commands executed
on the system under test, rather than on the test procedure itself.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format is useful for
debugging individual tests when you would like to omit test steps.
This output format is not useful when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 output.py -o brisk</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Sep 25,2021 12:05:25   ⟥  Module regression, flags:TE</span><br><span class="line">                            Attributes</span><br><span class="line">                              name</span><br><span class="line">                                value</span><br><span class="line">                            Tags</span><br><span class="line">                              tag2</span><br><span class="line">                              tag1</span><br><span class="line">Sep 25,2021 12:05:25     ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">                              Test description.</span><br><span class="line">               479us     ⟥    [note] <span class="keyword">do</span> something</span><br><span class="line">               719us     ⟥    [note] check the result</span><br><span class="line">                 2ms     ⟥⟤ OK my <span class="built_in">test</span>, /regression/my <span class="built_in">test</span></span><br><span class="line">                12ms   ⟥⟤ OK regression, /regression</span><br></pre></td></tr></table></figure>

<h2 id="short-Output"><a href="#short-Output" class="headerlink" title="short Output"></a><code>short</code> Output</h2><p>The <a href="#short-Output"><code>short</code></a> output format provides a shorter output than <a href="#nice-Output"><code>nice</code></a> output format
as only test and result messages are formatted.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format is very useful to highlight and verify test procedures.
This output format is not useful when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py -o short</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Module regression</span><br><span class="line">  Attributes</span><br><span class="line">    name</span><br><span class="line">      value</span><br><span class="line">  Tags</span><br><span class="line">    tag1</span><br><span class="line">    tag2</span><br><span class="line">  Scenario my <span class="built_in">test</span></span><br><span class="line">    Test description.</span><br><span class="line">    When I <span class="keyword">do</span> something</span><br><span class="line">    OK</span><br><span class="line">    Then I check the result</span><br><span class="line">    OK</span><br><span class="line">  OK</span><br><span class="line">OK</span><br></pre></td></tr></table></figure>

<h2 id="classic-Output"><a href="#classic-Output" class="headerlink" title="classic Output"></a><code>classic</code> Output</h2><p>The <a href="#classic-Output"><code>classic</code></a> output format shows only full test names for
any test with a <a href="#Types">Test Type</a> of higher will receive test and result messages.
Tests with <a href="#Types">Step Type</a> are not displayed.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format can be used for CI&#x2F;CD runs as long as the
number of tests is not too large.
This output format can be used when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py -o classic</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➤ Sep 25,2021 11:14:15 /regression</span><br><span class="line">➤ Sep 25,2021 11:14:15 /regression/my <span class="built_in">test</span></span><br><span class="line">✔ 2ms       [   OK   ] /regression/my <span class="built_in">test</span></span><br><span class="line">✔ 12ms      [   OK   ] /regression</span><br></pre></td></tr></table></figure>

<h2 id="progress-Output"><a href="#progress-Output" class="headerlink" title="progress Output"></a><code>progress</code> Output</h2><p>The <a href="#progress-Output"><code>progress</code></a> output format shows the progress of the test run.
The output is always printed on one line on progress updates and is useful
when running tests locally.</p>
<p>Any test failures are printed inline as soon as they occur.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format should not be used for CI&#x2F;CD runs
as it outputs terminal control codes to update the same line.
This output format can be used when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py -o progress</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Executing 2 tests /regression/my <span class="built_in">test</span>/I <span class="keyword">do</span> something</span><br></pre></td></tr></table></figure>

<h2 id="fails-Output"><a href="#fails-Output" class="headerlink" title="fails Output"></a><code>fails</code> Output</h2><p>The <a href="#fails-Output"><code>fails</code></a> output format only shows failing results <a href="#Fail">Fail</a>, <a href="#Error">Error</a>, and <a href="#Null">Null</a>
and crossed out the results <a href="#XFail">XFail</a>, <a href="#XError">XError</a>, <a href="#XNull">XNull</a>, <a href="#XOK">XOK</a>.</p>
<p>Failing results are only shown for tests with <a href="#Types">Test Type</a> of higher.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format can be used for CI&#x2F;CD runs
as long as the number of crossed-out results is not too large; otherwise,
use <a href="#new-fails-Output"><code>new-fails</code></a> output format instead.
This output format can be used when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py -o fails</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">✘ 3ms       [ XFail  ] /regression/my <span class="built_in">test</span></span><br><span class="line">    expected fail</span><br></pre></td></tr></table></figure>

<h2 id="new-fails-Output"><a href="#new-fails-Output" class="headerlink" title="new-fails Output"></a><code>new-fails</code> Output</h2><p>The <a href="#new-fails-Output"><code>new-fails</code></a> output format only shows failing results <a href="#Fail">Fail</a>, <a href="#Error">Error</a>, and <a href="#Null">Null</a>.
Crossed out results are not shown.</p>
<p>Failing results are only shown for tests with <a href="#Types">Test Type</a> of higher.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format can be used for CI&#x2F;CD runs.
This output format can be used when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py -o new-fails</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">✘ 3ms       [  Fail  ] /regression/my <span class="built_in">test</span></span><br><span class="line">    AssertionError</span><br><span class="line">    Traceback (most recent call last):</span><br><span class="line">      File <span class="string">&quot;output.py&quot;</span>, line 8, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">        assert False</span><br><span class="line">    AssertionError</span><br></pre></td></tr></table></figure>

<h2 id="slick-Output"><a href="#slick-Output" class="headerlink" title="slick Output"></a><code>slick</code> Output</h2><p>The <a href="#slick-Output"><code>slick</code></a> output format provides even shorter output than <a href="#short-Output"><code>short</code></a> output format
as it only shows test and result messages for any test that has <a href="#Types">Test Type</a> of higher.
Tests that have <a href="#Types">Step Type</a> are not showed.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format is more eye-candy.
This output format is not useful when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --output slick</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➤ Module regression</span><br><span class="line">  ✔ Scenario my <span class="built_in">test</span></span><br><span class="line">✔ Module regression</span><br></pre></td></tr></table></figure>

<h2 id="quiet-Output"><a href="#quiet-Output" class="headerlink" title="quiet Output"></a><code>quiet</code> Output</h2><p>The <a href="#quiet-Output"><code>quiet</code></a> output format does not output anything to stdout.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format can be used for CI&#x2F;CD runs.
This output format can be used when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py -o quiet</span><br></pre></td></tr></table></figure>

<h2 id="manual-Output"><a href="#manual-Output" class="headerlink" title="manual Output"></a><code>manual</code> Output</h2><p>The <a href="#manual-Output"><code>manual</code></a> output format is only suitable for running manual or semi-automated
tests where the tester is constantly prompted for input. The terminal screen is always cleared
before starting any test with <a href="#Types">Test Type</a> or higher.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format is only useful for manual or semi-automated tests.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py -o manual</span><br><span class="line">────────────────────────────────────────────────────────────────────────────────</span><br><span class="line">SCENARIO my <span class="built_in">test</span></span><br><span class="line">Test description.</span><br><span class="line">────────────────────────────────────────────────────────────────────────────────</span><br><span class="line">□ When I <span class="keyword">do</span> something</span><br><span class="line">[note] <span class="keyword">do</span> something</span><br><span class="line">✍  Enter `I <span class="keyword">do</span> something` result?</span><br></pre></td></tr></table></figure>

<h2 id="raw-Output"><a href="#raw-Output" class="headerlink" title="raw Output"></a><code>raw</code> Output</h2><p>The <a href="#raw-Output"><code>raw</code></a> output format outputs raw messages.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format is only useful for <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong>
developers and curious users who want to understand what raw messages look like.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py -o raw</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&quot;message_keyword&quot;</span>:<span class="string">&quot;PROTOCOL&quot;</span>,<span class="string">&quot;message_hash&quot;</span>:<span class="string">&quot;1336ea41&quot;</span>,<span class="string">&quot;message_object&quot;</span>:0,<span class="string">&quot;message_num&quot;</span>:0,<span class="string">&quot;message_stream&quot;</span>:null,<span class="string">&quot;message_level&quot;</span>:1,<span class="string">&quot;message_time&quot;</span>:1632584893.162271,<span class="string">&quot;message_rtime&quot;</span>:0.009011,<span class="string">&quot;test_type&quot;</span>:<span class="string">&quot;Module&quot;</span>,<span class="string">&quot;test_subtype&quot;</span>:null,<span class="string">&quot;test_id&quot;</span>:<span class="string">&quot;/fd823a2c-1e17-11ec-8830-cb614fe11752&quot;</span>,<span class="string">&quot;test_name&quot;</span>:<span class="string">&quot;/regression&quot;</span>,<span class="string">&quot;test_flags&quot;</span>:1,<span class="string">&quot;test_cflags&quot;</span>:0,<span class="string">&quot;test_level&quot;</span>:1,<span class="string">&quot;protocol_version&quot;</span>:<span class="string">&quot;TFSPv2.1&quot;</span>&#125;</span><br><span class="line">...</span><br><span class="line">&#123;<span class="string">&quot;message_keyword&quot;</span>:<span class="string">&quot;STOP&quot;</span>,<span class="string">&quot;message_hash&quot;</span>:<span class="string">&quot;6956b3c5&quot;</span>,<span class="string">&quot;message_object&quot;</span>:0,<span class="string">&quot;message_num&quot;</span>:7,<span class="string">&quot;message_stream&quot;</span>:null,<span class="string">&quot;message_level&quot;</span>:2,<span class="string">&quot;message_time&quot;</span>:1632584893.167364,<span class="string">&quot;message_rtime&quot;</span>:0.014104,<span class="string">&quot;test_type&quot;</span>:<span class="string">&quot;Module&quot;</span>,<span class="string">&quot;test_subtype&quot;</span>:null,<span class="string">&quot;test_id&quot;</span>:<span class="string">&quot;/fd823a2c-1e17-11ec-8830-cb614fe11752&quot;</span>,<span class="string">&quot;test_name&quot;</span>:<span class="string">&quot;/regression&quot;</span>,<span class="string">&quot;test_flags&quot;</span>:1,<span class="string">&quot;test_cflags&quot;</span>:0,<span class="string">&quot;test_level&quot;</span>:1&#125;</span><br></pre></td></tr></table></figure>

<p>Advanced users can use this format to apply custom message transformations.</p>
<p>For example, it can be transformed using <code>tfs transform nice</code> command into <a href="#nice-Output"><code>nice</code></a>
format</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py -o raw | tfs transfrom <span class="built_in">nice</span></span><br></pre></td></tr></table></figure>

<p>or combined with other unix tools such as <code>grep</code> with further message transformations.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 output.py -o raw | grep <span class="string">&#x27;&#123;&quot;message_keyword&quot;:&quot;RESULT&quot;,&#x27;</span> | tfs transform <span class="built_in">nice</span></span><br></pre></td></tr></table></figure>

<h2 id="Summary-Reports"><a href="#Summary-Reports" class="headerlink" title="Summary Reports"></a>Summary Reports</h2><p>Most output formats include one or more summary reports.
These reports are printed after all tests have been executed.</p>
<blockquote>
<p><strong>&#9995;</strong> Most summary reports only include tests that have <a href="#Types">Test Type</a> or higher.
Tests with <a href="#Types">Step Type</a> are not included.</p>
</blockquote>
<h3 id="Passing"><a href="#Passing" class="headerlink" title="Passing"></a>Passing</h3><p>This report generates <code>Passing</code> section and show passing tests.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Passing</span><br><span class="line"></span><br><span class="line">✔ [ OK ] /regression/my <span class="built_in">test</span></span><br><span class="line">✔ [ OK ] /regression</span><br></pre></td></tr></table></figure>

<h3 id="Failing"><a href="#Failing" class="headerlink" title="Failing"></a>Failing</h3><p>This report generates <code>Failing</code> section and shows failing tests.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Failing</span><br><span class="line"></span><br><span class="line">✘ [ Fail ] /regression/my <span class="built_in">test</span></span><br><span class="line">✘ [ Fail ] /regression</span><br></pre></td></tr></table></figure>

<h3 id="Known"><a href="#Known" class="headerlink" title="Known"></a>Known</h3><p>This report generates <code>Known</code> section.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Known</span><br><span class="line"></span><br><span class="line">✘ [ XFail ] /regression/my <span class="built_in">test</span> ᐅ expected fail</span><br></pre></td></tr></table></figure>

<h3 id="Unstable"><a href="#Unstable" class="headerlink" title="Unstable"></a>Unstable</h3><p>This report generates <code>Unstable</code> section. Tests are considered unstable
if they are repeated and different iterations have different results.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Unstable</span><br><span class="line"></span><br><span class="line">◔ [ 50.00% ] /regression/my <span class="built_in">test</span> (1 ok, 1 failed)</span><br></pre></td></tr></table></figure>

<h3 id="Coverage"><a href="#Coverage" class="headerlink" title="Coverage"></a>Coverage</h3><p>This report generates <code>Coverage</code> section. It is only generated if
at least one <code>Specification</code> is attached to any of the tests and shows
requirements coverage statistics for each <code>Specification</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Coverage</span><br><span class="line"></span><br><span class="line">QA-SRS004 Tiered Storage</span><br><span class="line">  86 requirements (72 satisfied 83.7%, 4 unsatisfied 4.7%, 10 untested 11.6%)</span><br></pre></td></tr></table></figure>

<h3 id="Totals"><a href="#Totals" class="headerlink" title="Totals"></a>Totals</h3><p>This report generates test counts and total test time section.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 module (1 ok)</span><br><span class="line">1 scenario (1 ok)</span><br><span class="line">2 steps (2 ok)</span><br><span class="line"></span><br><span class="line">Total time 12ms</span><br></pre></td></tr></table></figure>

<h3 id="Version"><a href="#Version" class="headerlink" title="Version"></a>Version</h3><p>This report generates a message that shows the date time of the test run
and the version of the framework that was used to run the test program.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Executed on Sep 25,2021 12:05</span><br><span class="line">TestFlows.com Open-Source Software Testing Framework v1.7.210922.1181131</span><br></pre></td></tr></table></figure>

<h1 id="Turning-Off-Color-Highlighting"><a href="#Turning-Off-Color-Highlighting" class="headerlink" title="Turning Off Color Highlighting"></a>Turning Off Color Highlighting</h1><p>There are times when color highlighting might be in the way. For example,
when piping output to a different utility or saving it into the file.
In both of these cases, use <a href="#%E2%80%93no-colors">–no-colors</a> to tell <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong>
to turn off adding terminal control color codes.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --no-colors &gt; nice.log</span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --no-colors | less</span><br></pre></td></tr></table></figure>

<p>The same option can be specified for the <code>tfs</code> utility.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs --no-colors show messages</span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">tail</span> -f test.log | tfs --no-colors transform <span class="built_in">nice</span> | less</span><br></pre></td></tr></table></figure>

<h2 id="Use-no-colors-in-Code"><a href="#Use-no-colors-in-Code" class="headerlink" title="Use --no-colors in Code"></a>Use <code>--no-colors</code> in Code</h2><p>You can also detect if terminal color codes are turned off in code
by looking at <code>settings.no_colors</code> attribute, as follows</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> testflows.settings <span class="keyword">as</span> settings</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">if</span> settings.no_colors:</span><br><span class="line">        debug(<span class="string">&quot;do something when terminal colors are turned off&quot;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Forcing-To-Abort-On-First-Fail"><a href="#Forcing-To-Abort-On-First-Fail" class="headerlink" title="Forcing To Abort On First Fail"></a>Forcing To Abort On First Fail</h1><p>You can force a test program to abort on first failure irrespective
of the presence of <a href="#TE">TE</a> flags by using <a href="#%E2%80%93first-fail">–first-fail</a>
test program argument.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --first-fail</span><br></pre></td></tr></table></figure>

<h1 id="Forcing-To-Continue-On-Fail"><a href="#Forcing-To-Continue-On-Fail" class="headerlink" title="Forcing To Continue On Fail"></a>Forcing To Continue On Fail</h1><p>You can force the test program to continue running if any of the tests fail
irrespective of the presence of <a href="#TE">TE</a> flags by using <a href="#%E2%80%93test-to-end">–test-to-end</a>
test program argument.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --test-to-end</span><br></pre></td></tr></table></figure>

<h1 id="Enabling-Debug-Mode"><a href="#Enabling-Debug-Mode" class="headerlink" title="Enabling Debug Mode"></a>Enabling Debug Mode</h1><p>You can enable debug mode by specifying <a href="#%E2%80%93debug">–debug</a> option to your test program.
When debug mode is enabled, the tracebacks will include more details, such as
internal function calls inside the framework that are hidden by default to reduce
clutter.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --debug</span><br></pre></td></tr></table></figure>

<h2 id="Use-debug-in-Code"><a href="#Use-debug-in-Code" class="headerlink" title="Use --debug in Code"></a>Use <code>--debug</code> in Code</h2><p>You can also trigger actions in your test code based on if <a href="#%E2%80%93debug">–debug</a> option
was specified or not. When <a href="#%E2%80%93debug">–debug</a> option is specified, the value
can be retrieved from <code>settings.debug</code> as follows</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> testflows.settings <span class="keyword">as</span> settings</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">if</span> settings.debug:</span><br><span class="line">        debug(<span class="string">&quot;do something in debug mode&quot;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Getting-Test-Time"><a href="#Getting-Test-Time" class="headerlink" title="Getting Test Time"></a>Getting Test Time</h1><h2 id="Using-current-time"><a href="#Using-current-time" class="headerlink" title="Using current_time()"></a>Using <code>current_time()</code></h2><p><em>&#10024; Available in</em> <a target="_blank" rel="noopener" href="https://pypi.org/project/testflows/1.7.57/">1.7.57</a></p>
<p>You can get current test execution time using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L415">current_time() function</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">current_time(test=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>test</code> (optional) the instance of the test for which a test time should be obtained, default: current test</li>
</ul>
<p>The returned value is fixed after test has finished its execution.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step&quot;</span>) <span class="keyword">as</span> step:</span><br><span class="line">        note(current_time())</span><br><span class="line">    note(current_time(test=step))</span><br></pre></td></tr></table></figure>

<h1 id="Show-Test-Data"><a href="#Show-Test-Data" class="headerlink" title="Show Test Data"></a>Show Test Data</h1><p>After the test program is executed, you can retrieve different test data related to the test run
using <code>tfs show</code> command.</p>
<p>The following commands are available:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tfs show -h</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">commands:</span><br><span class="line">  <span class="built_in">command</span></span><br><span class="line">    results         results</span><br><span class="line">    passing         passing</span><br><span class="line">    fails           fails</span><br><span class="line">    unstable        unstable</span><br><span class="line">    totals          totals</span><br><span class="line">    coverage        coverage</span><br><span class="line">    version         version</span><br><span class="line">    tests           tests</span><br><span class="line">    messages        messages</span><br><span class="line">    details         details</span><br><span class="line">    procedure       procedure</span><br><span class="line">    description     description</span><br><span class="line">    arguments       arguments</span><br><span class="line">    attributes      attributes</span><br><span class="line">    requirements    requirements</span><br><span class="line">    tags            tags</span><br><span class="line">    metrics         metrics</span><br><span class="line">    examples        examples</span><br><span class="line">    specifications  specifications</span><br><span class="line">    result          result</span><br></pre></td></tr></table></figure>

<h2 id="Show-Metrics"><a href="#Show-Metrics" class="headerlink" title="Show Metrics"></a>Show Metrics</h2><p>Use <code>tfs show metrics</code> command to show metrics for a given test.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">positional arguments:</span><br><span class="line">  name               <span class="built_in">test</span> name</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --<span class="built_in">help</span>         show this <span class="built_in">help</span> message and <span class="built_in">exit</span></span><br><span class="line">  --<span class="built_in">log</span> [input]      input <span class="built_in">log</span>, default: stdin</span><br><span class="line">  --output [output]  output, default: stdout</span><br></pre></td></tr></table></figure>

<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> test.log | tfs show metrics</span><br></pre></td></tr></table></figure>
<h1 id="Using-Secrets"><a href="#Using-Secrets" class="headerlink" title="Using Secrets"></a>Using Secrets</h1><p>Secrets are values that you would like to hide in your test logs, for example, passwords,
authentication keys, or even usernames, etc.
In <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong>, a secret can be defined using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L409">Secret class</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Secret(name, <span class="built_in">type</span>=<span class="literal">None</span>, group=<span class="literal">None</span>, uid=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>name</code> is a unique name of the secret</li>
<li><code>type</code> secret type (optional)</li>
<li><code>group</code> secret group (optional)</li>
<li><code>uid</code> secret unique identifier (optional)</li>
</ul>
<p> When creating a secret,only the <code>name</code> is required, the other arguments <code>type</code>,
<code>group</code>, <code>uid</code>, are optional.</p>
<p>The name must be a valid regex group name as defined by Python’s <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/re.html">re</a> module.
For example, no spaces or dashes are allowed in the name, you must use underscores instead.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># secret = Secret(&quot;my secret&quot;)(&quot;my secret value&quot;) # invalid, empty spaces not allowed</span></span><br><span class="line">secret = Secret(<span class="string">&quot;my_secret&quot;</span>)(<span class="string">&quot;my secret value&quot;</span>) <span class="comment"># valid</span></span><br></pre></td></tr></table></figure>

<p>If a name is invalid, you will see an exception as follows,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">16ms   ⟥    Exception: Traceback (most recent call last):</span><br><span class="line">              File <span class="string">&quot;/using_secrets.py&quot;</span>, line 4, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                secret = Secret(<span class="string">&quot;my secret&quot;</span>)(<span class="string">&quot;my secret value&quot;</span>)</span><br><span class="line">              ValueError: invalid secret name, bad character <span class="keyword">in</span> <span class="string">&#x27;my secret&#x27;</span> at position 4</span><br></pre></td></tr></table></figure>

<p>Here is an example of how to create and use secrets,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;using secrets&quot;</span>):</span><br><span class="line">    secret = Secret(<span class="string">&quot;mysecret&quot;</span>)(<span class="string">&quot;my secret value&quot;</span>)</span><br><span class="line">    note(<span class="string">f&quot;my secret is: <span class="subst">&#123;secret&#125;</span>&quot;</span>)</span><br><span class="line">    note(<span class="string">f&quot;my secret value is: <span class="subst">&#123;secret.value&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Mar 03,2022 11:22:01   ⟥  Scenario using secrets</span><br><span class="line">                 3ms   ⟥    [note] my secret is: Secret(name=<span class="string">&#x27;mysecret&#x27;</span>)</span><br><span class="line">                 3ms   ⟥    [note] [masked]:Secret(name=<span class="string">&#x27;mysecret&#x27;</span>) is: [masked]:Secret(name=<span class="string">&#x27;mysecret&#x27;</span>)</span><br><span class="line">                 3ms   ⟥⟤ OK using secrets, /using secrets</span><br></pre></td></tr></table></figure>

<p>Secret values are only filtered by <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> in messages added to the test by <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L216">message() function</a>,
<a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L201">note() function</a>, <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L206">debug() function</a>, <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/funcs.py#L211">trace() function</a> and messages in results.</p>
<p>If you need to create multiple secrets, the names of each secret must be unique
otherwise, you will get an error.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Mar 24,2022 9:54:46    ⟥  Scenario using secrets</span><br><span class="line">                4ms    ⟥    Exception: Traceback (most recent call last):</span><br><span class="line">                                File <span class="string">&quot;/Using_Secrets.py&quot;</span>, line 11, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                                  secret2 = Secret(<span class="string">&quot;mysecret&quot;</span>)(<span class="string">&quot;[masked]:Secret(name=&#x27;mysecret&#x27;)&quot;</span>)</span><br><span class="line">                              ValueError: secret <span class="string">&#x27;mysecret&#x27;</span> already registered</span><br></pre></td></tr></table></figure>

<p>Here is an example of creating multiple secrets,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;using secrets&quot;</span>):</span><br><span class="line">    secret1 = Secret(<span class="string">&quot;mysecret1&quot;</span>)(<span class="string">&quot;my secret value 1&quot;</span>)</span><br><span class="line">    secret2 = Secret(<span class="string">&quot;mysecret2&quot;</span>)(<span class="string">&quot;my secret value 2&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>Note, that multiple secrets can have the same secret value. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;using secrets&quot;</span>):</span><br><span class="line">    secret1 = Secret(<span class="string">&quot;mysecret1&quot;</span>)(<span class="string">&quot;the same secret value&quot;</span>)</span><br><span class="line">    secret2 = Secret(<span class="string">&quot;mysecret2&quot;</span>)(<span class="string">&quot;the same secret value&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Secrets-in-Argument-Parser"><a href="#Secrets-in-Argument-Parser" class="headerlink" title="Secrets in Argument Parser"></a>Secrets in Argument Parser</h2><p>You can easily use secrets in the Argument Parser by setting <code>type</code> of
the argument to the <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/858037b74c8ad9ed36096d1d222d22d6b2072938/testflows/_core/objects.py#L409">Secret class</a> object.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">argparser</span>(<span class="params">parser</span>):</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg0&quot;</span>,</span><br><span class="line">        <span class="built_in">type</span>=Secret(<span class="string">&quot;arg0&quot;</span>), <span class="built_in">help</span>=<span class="string">&quot;argument0&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg1&quot;</span>,</span><br><span class="line">        <span class="built_in">type</span>=Secret(<span class="string">&quot;arg1&quot;</span>), <span class="built_in">help</span>=<span class="string">&quot;argument1&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="meta">@ArgumentParser(<span class="params">argparser</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">regression</span>(<span class="params">self, arg0, arg1</span>):</span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;arg0&#125;</span> <span class="subst">&#123;arg1&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Testing-Documentation"><a href="#Testing-Documentation" class="headerlink" title="Testing Documentation"></a>Testing Documentation</h1><p>Use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Texts">testflows.texts</a> module to help you write auto verified software documentation
by combining your text with the verification procedure for the described functionality,
in the same source file while leveraging the power and flexibility of <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong>.</p>
<p>By convention the <code>.tfd</code> extension is used for source files for auto verified documentation
and are written using Markdown. Therefore, all <code>.tfd</code> files are valid
Markdown files. However, <code>.tfd</code> files are only the source files for your documentation
that must be executed using <code>tfs document run</code> command to produce the final
Markdown documentation files.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tfs document run --input my_document.tfd --output my_document.md</span><br></pre></td></tr></table></figure>
<h2 id="Installing-testflows-texts"><a href="#Installing-testflows-texts" class="headerlink" title="Installing testflows.texts"></a>Installing <code>testflows.texts</code></h2><p>You can install <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Texts">testflows.texts</a> using <code>pip3</code> command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install --upgrade testflows.texts</span><br></pre></td></tr></table></figure>

<p>After installing <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Texts">testflows.texts</a> you will also have <code>tfs</code> command available in your environment.</p>
<h2 id="Writing-Auto-Verified-Docs"><a href="#Writing-Auto-Verified-Docs" class="headerlink" title="Writing Auto Verified Docs"></a>Writing Auto Verified Docs</h2><p>Follow the example Markdown document to get to know how you can write auto verified docs yourself.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">## This is a heading</span></span><br><span class="line"></span><br><span class="line">This file is written using Markdown where you can have any number</span><br><span class="line">of <span class="code">`python:testflows`</span> code blocks that contain executable Python code.</span><br><span class="line"></span><br><span class="line"><span class="code">```python:testflows</span></span><br><span class="line"><span class="code"># This is Python code that will be executed when .tfd document is run.</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">msg = &quot;Hello TestFlows Texts&quot;</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">The scope is shared between all the code blocks in the same document.</span><br><span class="line"></span><br><span class="line"><span class="code">```python:testflows</span></span><br><span class="line"><span class="code"># so `msg` variable defined above can also be accessed in this</span></span><br><span class="line"><span class="code"># `python:testflows` code block</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">new_msg = msg + &quot; Thanks for making verifying docs so easy!&quot;</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">The output of executing <span class="code">`.tfd`</span> document using <span class="code">`tfs document run`</span></span><br><span class="line">is the final <span class="code">`.md`</span> file with all the <span class="code">`python:testflows`</span> code blocks</span><br><span class="line">removed and replaced with the text added to the document using</span><br><span class="line">the <span class="code">`text()`</span> function.</span><br><span class="line"></span><br><span class="line"><span class="code">```python:testflows</span></span><br><span class="line"><span class="code"># Let&#x27;s use `text()` function to add some text to our document</span></span><br><span class="line"><span class="code"># dynamically in our Python code</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">text(&quot;add this line to the final Markdown document&quot;)</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">Any text outside the <span class="code">`python:testflows`</span> code blocks are treated as Python</span><br><span class="line">f-strings. This allows you to specify expressions for substitutions.</span><br><span class="line">See [<span class="string">Python formatted string literals</span>](<span class="link">https://docs.python.org/3/tutorial/inputoutput.html#formatted-string-literals</span>)</span><br><span class="line">for more details.</span><br><span class="line"></span><br><span class="line">Here is an example where we will substitute the value of <span class="code">`msg`</span> variable next &#123;msg&#125;.</span><br><span class="line">But with Python f-strings you can specify even complex expressions. For example, we can</span><br><span class="line">convert our string in <span class="code">`msg`</span> to title case as follows &#123;msg.title()&#125;.</span><br><span class="line"></span><br><span class="line">You can double your curly brackets to escape them when substitution expression is not needed</span><br><span class="line">using <span class="code">`&#123;&#123;`</span> or <span class="code">`&#125;&#125;`</span>.</span><br><span class="line"></span><br><span class="line">By the way, your document can&#x27;t contain any triple quotes. If you need them then you have to</span><br><span class="line">add them using <span class="code">`&#123;triple_quotes&#125;`</span> expression. For example,</span><br><span class="line"></span><br><span class="line"><span class="code">```markdown</span></span><br><span class="line"><span class="code">This text has &#123;triple_quotes&#125; triple quotes.</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">Well, this is pretty much it. With <span class="code">`testflows.texts`</span> you have full power of full featured</span><br><span class="line">test framework and Python language at your disposal to make sure your documentation always</span><br><span class="line">stays up to date.</span><br></pre></td></tr></table></figure>

<p>Now, if you want to give it a try, then save the above Markdown into <code>test.tfd</code> file, but make sure
to remove the indentation.</p>
<p>Then you can run it as</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tfs document run -i test.tfd -o -</span><br></pre></td></tr></table></figure>

<p>and you should get the output of the final Markdown document printed to the stdout.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tfs document run -i test.tfd -o -</span><br><span class="line"><span class="comment">## This is a heading</span></span><br><span class="line"></span><br><span class="line">This file is written using Markdown <span class="built_in">where</span> you can have any number</span><br><span class="line">of `python:testflows` code blocks that contain executable Python code.</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h2 id="Tutorial"><a href="#Tutorial" class="headerlink" title="Tutorial"></a>Tutorial</h2><p>Here a simple tutorial to introduce you to using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Texts">testflows.texts</a>.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># TestFlows Texts Tutorial</span></span><br><span class="line"></span><br><span class="line">Let&#x27;s see <span class="code">`testflows.texts`</span> in action by writing auto verified</span><br><span class="line">documentation for the <span class="code">`-a`</span> option of the <span class="code">`ls`</span> command.</span><br><span class="line"></span><br><span class="line">The man page for the <span class="code">`ls`</span> utility says the following:</span><br><span class="line"></span><br><span class="line"><span class="code">```</span></span><br><span class="line"><span class="code">NAME</span></span><br><span class="line"><span class="code">       ls - list directory contents</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">SYNOPSIS</span></span><br><span class="line"><span class="code">       ls [OPTION]... [FILE]...</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">DESCRIPTION</span></span><br><span class="line"><span class="code">       List  information  about  the FILEs (the current directory by default).</span></span><br><span class="line"><span class="code">       Sort entries alphabetically if none of -cftuvSUX nor --sort  is  speci‐</span></span><br><span class="line"><span class="code">       fied.</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">       Mandatory  arguments  to  long  options are mandatory for short options</span></span><br><span class="line"><span class="code">       too.</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">       -a, --all</span></span><br><span class="line"><span class="code">              do not ignore entries starting with .</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">Let&#x27;s see how <span class="code">`-a`</span> option works.</span><br><span class="line"></span><br><span class="line">First, create a file that starts with <span class="code">`.`</span> using the <span class="code">`touch`</span> command</span><br><span class="line"><span class="code">```python:testflows</span></span><br><span class="line"><span class="code">from subprocess import run</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">command = &quot;touch .hidden_file&quot;</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line"><span class="code">```bash</span></span><br><span class="line"><span class="code">&#123;command&#125;</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"><span class="code">```python:testflows</span></span><br><span class="line"><span class="code">run(command, shell=True, check=True)</span></span><br><span class="line"><span class="code"># add clean up at the end of our document generation</span></span><br><span class="line"><span class="code">cleanup(run, &quot;rm -rf .hidden_file&quot;, shell=True, check=True)</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">Let&#x27;s now run</span><br><span class="line"><span class="code">```python:testflows</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">ls_a_command = &quot;ls -a | grep .hidden_file&quot;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">cmd = run(ls_a_command, shell=True, capture_output=True, text=True)</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">assert cmd.returncode == 0, &quot;returncode &#123;cmd.returncode&#125; is not 0&quot;</span></span><br><span class="line"><span class="code">assert &quot;.hidden_file&quot; in cmd.stdout, &quot;hidden file &#x27;.hidden_file&#x27; in not in the outout&quot;</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line"><span class="code">```bash</span></span><br><span class="line"><span class="code">&#123;ls_a_command&#125;</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">and you should see our <span class="code">`.hidden_file`</span> listed</span><br><span class="line"></span><br><span class="line"><span class="code">```bash</span></span><br><span class="line"><span class="code">&#123;cmd.stdout.strip()&#125;</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">Voilà, <span class="code">`ls -a`</span> does indeed show hidden files!</span><br></pre></td></tr></table></figure>

<p>Now save this source file as <code>tutorial.tfd</code> and execute it to produce the final Markdown
file <code>tutorial.md</code> that we can use on our documentation site.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tfs document run -i tutorial.tfd -o tutorial.md</span><br></pre></td></tr></table></figure>

<p>We know that the instructions in this article are correct as <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Texts">testflows.texts</a> has executed them during the
writing of <code>tutorial.md</code> just like a technical writer would execute the commands
as part of the process of writing a technical article.</p>
<p>Moreover, we can rerun our documentation any time a new version of <code>ls</code> utility is ready
to be shipped to make sure our documentation is still valid and the software still behaves as described.</p>
<p>By the way, here is the final Markdown we get</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># TestFlows Texts Tutorial</span></span><br><span class="line"></span><br><span class="line">Let&#x27;s see <span class="code">`testflows.texts`</span> in action by writing auto verified</span><br><span class="line">documentation for the <span class="code">`-a`</span> option of the <span class="code">`ls`</span> command.</span><br><span class="line"></span><br><span class="line">The man page for the <span class="code">`ls`</span> utility says the following:</span><br><span class="line"></span><br><span class="line"><span class="code">```</span></span><br><span class="line"><span class="code">NAME</span></span><br><span class="line"><span class="code">       ls - list directory contents</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">SYNOPSIS</span></span><br><span class="line"><span class="code">       ls [OPTION]... [FILE]...</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">DESCRIPTION</span></span><br><span class="line"><span class="code">       List  information  about  the FILEs (the current directory by default).</span></span><br><span class="line"><span class="code">       Sort entries alphabetically if none of -cftuvSUX nor --sort  is  speci‐</span></span><br><span class="line"><span class="code">       fied.</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">       Mandatory  arguments  to  long  options are mandatory for short options</span></span><br><span class="line"><span class="code">       too.</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">       -a, --all</span></span><br><span class="line"><span class="code">              do not ignore entries starting with .</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">Let&#x27;s see how <span class="code">`-a`</span> option works.</span><br><span class="line"></span><br><span class="line">First, create a file that starts with <span class="code">`.`</span> using the <span class="code">`touch`</span> command</span><br><span class="line"></span><br><span class="line"><span class="code">```bash</span></span><br><span class="line"><span class="code">touch .hidden_file</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">Let&#x27;s now run</span><br><span class="line"></span><br><span class="line"><span class="code">```bash</span></span><br><span class="line"><span class="code">ls -a | grep .hidden_file</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">and you should see our <span class="code">`.hidden_file`</span> listed</span><br><span class="line"></span><br><span class="line"><span class="code">```bash</span></span><br><span class="line"><span class="code">.hidden_file</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line">Voilà, <span class="code">`ls -a`</span> does indeed show hidden files!</span><br></pre></td></tr></table></figure>

<h2 id="Passing-Arguments"><a href="#Passing-Arguments" class="headerlink" title="Passing Arguments"></a>Passing Arguments</h2><p>Execution of any <code>.tfd</code> file using <code>tfs document run</code> command results in execution of a document writer program.
This is comparable to the test programs you write with <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong>.</p>
<p>You can control different aspects of writer program’s execution by passing arguments as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tfs document run -t test.tfd -o test.md -- &lt;writer program arguments&gt;</span><br></pre></td></tr></table></figure>

<p>For example, to see all the arguments your document writer program can take pass <code>-h/--help</code> argument</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tfs document run -- --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>

<h2 id="Controlling-Output-Format"><a href="#Controlling-Output-Format" class="headerlink" title="Controlling Output Format"></a>Controlling Output Format</h2><p>By passing <code>-o/--output</code> argument to your writer program, you can control output format</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tfs document run -i test.tfd -o test.md -- --output classic</span><br></pre></td></tr></table></figure>

<p>See <code>-h/--help</code> for other formats.</p>
<h2 id="Debugging-Errors"><a href="#Debugging-Errors" class="headerlink" title="Debugging Errors"></a>Debugging Errors</h2><p>Here are some common errors that you might run into while writing your <code>.tfd</code> source files.</p>
<p>All exceptions will point to the line number indicating where the error occurred.</p>
<h3 id="Unescaped-Curly-Brackets"><a href="#Unescaped-Curly-Brackets" class="headerlink" title="Unescaped Curly Brackets"></a>Unescaped Curly Brackets</h3><p>If you forget to double your curly brackets when you are not using f-string expression
then you will see an error.</p>
<p>For example,</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hello there</span><br><span class="line"></span><br><span class="line">Oh, I forgot to double &#123;quote&#125; my curly brackets.</span><br></pre></td></tr></table></figure>

<p>when executed will result in the <code>NameError</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">10ms   ⟥⟤ Error test.tfd, /test.tfd, NameError</span><br><span class="line">         Traceback (most recent call last):</span><br><span class="line">           File <span class="string">&quot;/tmp/tmp_ckk4f3m.py&quot;</span>, line 1, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">             text(fr<span class="string">&quot;&quot;</span><span class="string">&quot;Oh, I forgot to double &#123;quote&#125; my curly brackets.</span></span><br><span class="line"><span class="string">         NameError: name &#x27;quote&#x27; is not defined</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         Error occurred in the following text:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">           3|&gt; Oops I forgot to double &#123;quote&#125; my curly brackets.</span></span><br></pre></td></tr></table></figure>

<h3 id="Syntax-Errors"><a href="#Syntax-Errors" class="headerlink" title="Syntax Errors"></a>Syntax Errors</h3><p>If you have a syntax error in the <code>python:testflows</code> block, you will get an error.</p>
<p>For example,</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Hello there</span><br><span class="line"></span><br><span class="line"><span class="code">```python:testflows</span></span><br><span class="line"><span class="code">x = 1</span></span><br><span class="line"><span class="code">y = 2 boo</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">when executed will result in the SyntaxError.</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">11ms   ⟥⟤ Error test.tfd, /test.tfd, SyntaxError</span><br><span class="line">         Traceback (most recent call last):</span><br><span class="line">           File &quot;/home/user/.local/lib/python3.8/site-packages/testflows/texts/executable.py&quot;, line 87, in execute</span><br><span class="line">             exec(compile(source_code, source_name, &#x27;exec&#x27;),</span><br><span class="line">         SyntaxError: invalid syntax (tmp7e6op1y_.py, line 2)</span><br><span class="line"></span><br><span class="line">         Syntax Error occured in the following text:</span><br><span class="line"></span><br><span class="line">           3|  ```python:testflows</span><br><span class="line">           4|  x = 1</span><br><span class="line">           5|&gt; y = 2 boo</span><br><span class="line">           6|  ```</span><br></pre></td></tr></table></figure>

<h3 id="Triple-Quotes"><a href="#Triple-Quotes" class="headerlink" title="Triple Quotes"></a>Triple Quotes</h3><p>If your text has triple quotes, like <code>&quot;&quot;&quot;</code> it will result in an error.</p>
<p>For example,</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hello There</span><br><span class="line"></span><br><span class="line">This text has &quot;&quot;&quot; triple quotes.</span><br></pre></td></tr></table></figure>

<p>when executed will result in <code>SyntaxError</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">9ms   ⟥⟤ Error test.tfd, /test.tfd, SyntaxError</span><br><span class="line">       Traceback (most recent call last):</span><br><span class="line">         File <span class="string">&quot;/home/user/.local/lib/python3.8/site-packages/testflows/texts/executable.py&quot;</span>, line 87, <span class="keyword">in</span> execute</span><br><span class="line">           <span class="built_in">exec</span>(compile(source_code, source_name, <span class="string">&#x27;exec&#x27;</span>),</span><br><span class="line">       SyntaxError: invalid syntax (tmph44nbvgo.py, line 1)</span><br><span class="line"></span><br><span class="line">       Syntax Error occurred <span class="keyword">in</span> the following text:</span><br><span class="line"></span><br><span class="line">         3|&gt; This <span class="built_in">test</span> has <span class="string">&quot;&quot;</span><span class="string">&quot; triple quotes.</span></span><br></pre></td></tr></table></figure>

<p>The workaround is to use <code>&#123;triple_quotes&#125;</code> expression to output <code>&quot;&quot;&quot;</code>.</p>
<p>For example,</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hello There</span><br><span class="line"></span><br><span class="line">This text has &#123;triple<span class="emphasis">_quotes&#125; triple quotes.</span></span><br></pre></td></tr></table></figure>

<p>where <code>triple_quotes</code> is provided by default by <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Texts">testflows.texts</a> module. This is equivalent to the following.</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```python:testflows</span></span><br><span class="line"><span class="code">triple_quotes = &#x27;&quot;&quot;&quot;&#x27;</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line">Hello There</span><br><span class="line"></span><br><span class="line">This text has &#123;triple<span class="emphasis">_quotes&#125; triple quotes.</span></span><br></pre></td></tr></table></figure>

<h2 id="Using-tfs-document-run"><a href="#Using-tfs-document-run" class="headerlink" title="Using tfs document run"></a>Using <code>tfs document run</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tfs document run -h</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">usage: tfs document run [-h] [-i path [path ...]] [-o [path]] [-f]</span><br><span class="line"></span><br><span class="line">  ---- o o o ----</span><br><span class="line"> |   o       o   |</span><br><span class="line"> | 1 o 10010 o 0 |</span><br><span class="line"> |   o       o   |    TestFlows.com Open-Source Software Testing Framework v1.7.211208.1222904</span><br><span class="line">  ---  o o oxx --</span><br><span class="line"> /           xx   \</span><br><span class="line">/  ^^^        xx   \</span><br><span class="line"> ------------------</span><br><span class="line"></span><br><span class="line">Run executable document.</span><br><span class="line"></span><br><span class="line">Executable documents are Markdown documents that</span><br><span class="line">contain `python:testflows` code blocks, which may contain</span><br><span class="line">any Python code that will be run during document execution.</span><br><span class="line"></span><br><span class="line">All text within an executable document except for the</span><br><span class="line">`python:testflows` code blocks are treated as Python f-strings.</span><br><span class="line">Therefore, you must escape any `&#123;`, `&#125;` characters by doubling</span><br><span class="line">them, for example: `&#123;&#123;` or `&#125;&#125;`, otherwise they will be treated</span><br><span class="line">as f-string expressions.</span><br><span class="line"></span><br><span class="line">Text must not contain triple quotes `&quot;&quot;&quot;`. If you need them</span><br><span class="line">then you must use either `text()` function within `python:testflows` code block</span><br><span class="line">to explicitly add them to the text or use `&#123;triple_quotes&#125;` expression.</span><br><span class="line"></span><br><span class="line">For example:</span><br><span class="line">    ```python:testflows</span><br><span class="line">    text(&#x27;adding triple quotes &quot;&quot;&quot; to text&#x27;)</span><br><span class="line">    ```</span><br><span class="line">    or</span><br><span class="line"></span><br><span class="line">    &#123;triple_quotes&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Specify &#x27;--&#x27; at the end of the command line options to pass</span><br><span class="line">options to the executable document writer program itself.</span><br><span class="line"></span><br><span class="line">For example:</span><br><span class="line">   tfs document run -i &lt;path&gt;--o &lt;path&gt; -- --help</span><br><span class="line"></span><br><span class="line">You must set PYTHONPATH when modules needed by the executable</span><br><span class="line">document are not in the default path.</span><br><span class="line"></span><br><span class="line">For example:</span><br><span class="line">   PYTHONPATH=&lt;path/to/module&gt; tfs document run -i &lt;path&gt; -o &lt;path&gt;</span><br><span class="line"></span><br><span class="line">The `--input` can take multiple files, and in such a case, if `--output`</span><br><span class="line">is specified, it is treated as directory name.</span><br><span class="line"></span><br><span class="line">For example,</span><br><span class="line">   tfs document run -i `find $(pwd) -name &quot;*.tfd&quot;` -o . -f</span><br><span class="line">or</span><br><span class="line">   tfs document run -i `find $(pwd) -name &quot;*.tfd&quot;` -o /path/to/output/dir -f</span><br><span class="line"></span><br><span class="line">If input is &#x27;-&#x27; (stdin) and output is &#x27;.&#x27; then output file is &#x27;document.md&#x27;</span><br><span class="line">which is created in the current working directory.</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --help                                   show this help message and exit</span><br><span class="line">  -i path [path ...], --input path [path ...]  input file, use &#x27;-&#x27; for stdin, default: stdin</span><br><span class="line">  -o [path], --output [path]                   output file or directory if multiple input files are</span><br><span class="line">                                               passed, default: &#x27;.&#x27; or if input is stdin then &#x27;-&#x27;.</span><br><span class="line">                                               The &#x27;.&#x27; means to create output file in the same</span><br><span class="line">                                               directory as the input file having .md extension and</span><br><span class="line">                                               the &#x27;-&#x27; means output to stdout.</span><br><span class="line">  -f, --force                                  force to override existing output file if it already</span><br><span class="line">                                               exists</span><br><span class="line"></span><br><span class="line">TestFlows.com Open-Source Software Testing Framework. Copyright 2021 Katteli Inc.</span><br></pre></td></tr></table></figure>


                    <div class="col-12 divider"></div>
                    <div class="switch-page text-center">
                        
                        
                    </div>
                </div>
                <a class="jump fas fa-chevron-up" onclick="window.scrollTo(0, 500)"></a>
            </div>
        </div>
    </div>
</div>
<script>
window.addEventListener("load", function(){
    // add support to go back to TOC by clicking any header
    document.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(function(element){
        element.addEventListener("click", function(event){
            element_id = element.getAttribute("id");
            toc_element = document.querySelector(".toc .toc-item .toc-link[href=\"#" + encodeURI(element_id) + "\"]");
            toc_element.scrollIntoView({block: 'center'})
            toc_element.classList.add("active");
            // remove active class after timeout
            setTimeout(function(){
                toc_element.classList.remove("active");
            }, 1000);
        }, true);
    });
});
</script>

    </div>
  </div>
  <div class="container-footer">
    <footer> <div class="row no-gutters">
    <div class="col-12 text-center">
        <div class="links">
            <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-secondary">
                    <a target="_blank" rel="noopener" href="https://pypi.org/project/testflows/">
                        <span class="fab fa-2x fa-python"></span>
                    </a>
                </button>
                <button type="button" class="btn btn-secondary">
                    <a target="_blank" rel="noopener" href="https://t.me/testflows">
                        <span class="fab fa-2x fa-telegram-plane"></span>
                    </a>
                </button>
                <button type="button" class="btn btn-secondary">
                    <a target="_blank" rel="noopener" href="https://github.com/testflows">
                        <span class="fab fa-2x fa-github"></span>
                    </a>
                </button>
            </div>
        </div>
    </div>
    <div class="col-12 text-center">
        <img src="/img/favicon-square.png"</img>
    </div>
    <div class="col-12 text-center">
        Copyright 2020-2022 Katteli Inc.
    </div>
    <div class="col-12 text-center">
        <span class="text-nowrap">All rights reserved.</span>
    </div>
    <div class="col-12 text-center no-padding links">
        <a class="btn" href="/credits.html">Credits</a>
    </div>
</div>
 </footer>
  </div>
  <script src="/js/jquery-3.4.1.slim.js"></script>
<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap/bootstrap.min.js"></script>
<!-- Cloudflare Web Analytics -->
<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "ab95920418b1480e9f8458e94fe40615"}'></script>
<!-- End Cloudflare Web Analytics -->
<script>
var isInViewport = function (elem) {
    var bounding = elem.getBoundingClientRect();
    return (
        bounding.top >= 0 &&
        bounding.left >= 0 &&
        bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        bounding.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
};
var banner = document.querySelector('.banner');
window.addEventListener('scroll', function (event) {
	if (isInViewport(banner)) {
    	banner.classList.remove("not-in-view");
	} else {
	    banner.classList.add("not-in-view");
	}
}, false);
// codeblock copy
$("figure.highlight").hover( 
    function() {
        console.log("here");
        var figure = $(this);
        $( this ).append($("<button class=\"btn codeblock-copy\"><i class=\"fas fa-clipboard\"></i></button>").click(
            function() {
                var button = $(this);
                navigator.clipboard.writeText(figure.find(".code").first()[0].innerText.trimEnd()).then(
                    function() {
                        button.find("i").removeClass("fa-clipboard").addClass("fa-clipboard-check");
                    }
                )
            }
        ));
    }, function() {
        $( this ).find("button").first().remove();
    }
);
</script>

</body>
</html>


